/*! For license information please see main.99d89495.js.LICENSE.txt */
!function(){var e={314:function(e,t,n){"use strict";var r=n(761),i=n(109),o=n(797),a=n(973),s=n(138);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function v(e){return d.get(e)||p}function m(e,t){d.set(e,t)}function y(){return g}var _="https://content-firebaseappcheck.googleapis.com/v1beta",b=3e4,w=96e4,E=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function S(){return self.grecaptcha}function T(e){if(!v(e).activated)throw f.create("use-before-activation",{appName:e.name})}function k(e){return a.base64.encodeString(JSON.stringify(e),!1)}function I(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var N="firebase-app-check-store",A="debug-token",P=null;function O(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}})),P)}function R(e){return L(M(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,O()];case 1:return n=o.sent(),r=n.transaction(N,"readwrite"),i=r.objectStore(N),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,O()];case 1:return t=o.sent(),n=t.transaction(N,"readonly"),r=n.objectStore(N),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return e.options.appId+"-"+e.name}var j=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(M(e),t)}(e,t).catch((function(e){j.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,L(A)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(A,r)).catch((function(e){return j.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function q(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var B={error:"UNKNOWN_ERROR"};function V(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,h,f,d;return o.__generator(this,(function(p){switch(p.label){case 0:return T(e),r=v(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&H(s)&&(i=s,m(e,o.__assign(o.__assign({},r),{token:i})),W(e,{token:i.token})),p.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:y().enabled?(c=I,l=x,h=[e],[4,q()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,h.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),m(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return f=p.sent(),j.error(f),a=f,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:k(B),error:e}}(a),[3,12]);case 10:return d={token:i.token},m(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return W(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=v(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new E((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return v(e).token?[3,2]:[4,V(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,V(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=v(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),b,w)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&H(e)&&r({token:e.token})})).catch((function(){}));m(e,u)}function K(e,t){var n=v(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function W(e,t){for(var n=0,r=v(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function $(e,t){var n=v(e),r=new a.Deferred;m(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=S();return u?u.ready((function(){Y(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=S();if(!n)throw new Error("no recaptcha");n.ready((function(){Y(e,t,n,i),r.resolve(n)}))})),r.promise}function Q(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return T(e),[4,v(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=v(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Y(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=v(e);m(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var X=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Q(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),f.create("recaptcha-error");case 4:return[2,I(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,$(e,this._siteKey).catch((function(){}))},e}(),J=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function Z(e,t,n,r){var i=v(e);if(i.activated)throw f.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),j.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&H(t)&&m(e,o.__assign(o.__assign({},v(e)),{token:t})),t})),s.provider="string"===typeof t?new X(t):t instanceof X||t instanceof J?t:new J({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,m(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return Z(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=v(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),m(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,V(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return K(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=v(e).tokenObservers;t<n.length;t++){var r=n[t];K(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:X,CustomProvider:J}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return V(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return K(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},761:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return b}});var r,i,o=n(797),a=n(973),s=n(109),u=n(138),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(g);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,e)};var b=v;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(h,"0.6.30",t),e.registerVersion("fire-js","")}(b),t.default=b},109:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(797),i=n(973),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},101:function(e,t,n){"use strict";var r=n(761),i=n(109),o=n(973),a=n(797),s=n(138);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),g=new s.Logger("@firebase/database"),v=function(){var e=1;return function(){return e++}}(),m=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},_=null,b=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.LogLevel.VERBOSE,_=g.log.bind(g),t&&p.set("logging_enabled",!0)):"function"===typeof e?_=e:(_=null,p.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=y.apply(null,e);_(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw g.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.warn(n)},C=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",N="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===x||t===N)return-1;if(t===x||e===N)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},R=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M=function(e){(0,o.assert)(!C(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var j=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,q=function(e){if(j.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},B=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw I("Exception was thrown by user callback.",e),t}),Math.floor(0))}},V=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),K=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$="websocket",Q="long_polling",Y=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function X(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Q)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return L(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var J=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),Z={},ee={};function te(e){var t=e.toString();return Z[t]||(Z[t]=new J),Z[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),X(t,Q,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),X(e,$,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ge(){return new pe("")}function ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function me(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function _e(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function be(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function Ee(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function Te(e,t){var n=ve(e),r=ve(t);if(null===n)return t;if(n===r)return Te(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ke(e,t){for(var n=be(e,0),r=be(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ie(e,t){if(me(e)!==me(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ce(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(me(e)>me(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var xe=function(e,t){this.errorPrefix_=t,this.parts_=be(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ne(this)};function Ne(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ae(e))}function Ae(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,Oe,Re=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),De=1e3,Le=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=De,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Re.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,g,v,m=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],g=d[1],u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){I(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),[3,4];case 3:return v=y.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&I(v),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(x,e),r=new Me(x,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(N,Pe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,Pe)},t.prototype.toString=function(){return".key"},t}(je),Ue=new Fe,qe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Be=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ve=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Be(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new qe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new qe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new qe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new qe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ve,e}();function Ke(e,t){return A(e.name,t.name)}function We(e,t){return A(e,t)}var He,Ge,$e,Qe=function(e){return"number"===typeof e?"number:"+M(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Oe||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Oe||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return He},set:function(e){He=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Se(t)?this:".priority"===ve(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ve(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===me(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Je,Ze,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(N,new Xe("[PRIORITY-POST]",$e))},t.prototype.makePost=function(e,t){var n=Ge(e);return new Me(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Be(a,o.node,Be.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Be(a,o.node,Be.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Be(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Be.BLACK):(s(h,Be.BLACK),s(h,Be.RED))}return o}(new rt(e.length));return new ze(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ot&&tt,"ChildrenNode.ts has not been loaded"),Je=Je||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Me.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Me.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Me(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ze||(Ze=new e(new ze(We),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ze},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ze:t},e.prototype.getChild=function(e){var t=ve(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ze:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ve(e);if(null===n)return t;(0,o.assert)(".priority"!==ve(e)||1===me(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new ze(We),st.EMPTY_NODE,at.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Me,{MIN:{value:new Me(x,st.EMPTY_NODE)},MAX:{value:new Me(N,ut)}}),Fe.__EMPTY_NODE=st.EMPTY_NODE,Xe.__childrenNodeConstructor=st,Oe=ut,function(e){$e=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Xe(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return L(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(L(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ke,(function(e){return e.name}),We);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){Ge=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Se(t)&&".priority"!==ve(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Me(N,e)},t.prototype.toString=function(){return be(this.indexPath_,0).join("/")},t}(je),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(je),ft=new ht,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),gt=function(e){if("2147483647"===e)return"-";var t=q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},vt=function(e){if("-2147483648"===e)return x;var t=q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _t(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var wt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_t(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(bt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(_t(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(bt(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Et=function(){function e(t){this.indexedFilter_=new wt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new Et(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Me(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(bt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_t(t,f));var g=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(_t(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),Tt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function kt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function It(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ct(e,t){var n=e.copy();return n.index_=t,n}function xt(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ft?t="$value":e.index_===Ue?t="$key":((0,o.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Nt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var At=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=xt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=xt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(t){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),Pt=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ot(){return{value:null,children:new Map}}function Rt(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ve(t);e.children.has(r)||e.children.set(r,Ot()),Rt(e.children.get(r),t=ye(t),n)}}function Dt(e,t){if(Se(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Rt(e,new pe(t),n)})),Dt(e,t)}if(e.children.size>0){var r=ve(t);if(t=ye(t),e.children.has(r))Dt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Lt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Lt(r,new pe(t.toString()+"/"+e),n)}))}var Mt,jt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&L(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jt(e);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var qt,Bt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Se(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ge(),n,this.revert)}return(0,o.assert)(ve(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),Vt=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ge()):new e(this.source,ye(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ge(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(Se(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new zt(this.source,ge(),n.value):new e(this.source,ge(),n)}return(0,o.assert)(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Wt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;var t=ve(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ht=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Gt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $t(e,t){return{eventCache:e,serverCache:t}}function Qt(e,t,n,r){return $t(new Wt(t,n,r),e.serverCache)}function Yt(e,t,n,r){return $t(e.eventCache,new Wt(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Zt=function(){function e(e,t){void 0===t&&(qt||(qt=new ze(P)),t=qt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ge(),value:this.value};if(Se(e))return null;var n=ve(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:Ee(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Se(t))return this;var n=ve(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Se(t))return new e(n,this.children);var r=ve(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Se(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ve(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Se(e))return this.value;var t=ve(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Se(t))return n;var r=ve(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ge(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ee(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ge(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Se(e))return null;var i=ve(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),Ee(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ge(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Se(t))return this;this.value&&r(n,this.value);var i=ve(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),Ee(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ge(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ee(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Zt(null))},e}();function tn(e,t,n){if(Se(t))return new en(new Zt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Te(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Zt(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return L(n,(function(e,n){r=tn(r,Ee(t,e),n)})),r}function rn(e,t){if(Se(t))return en.empty();var n=e.writeTree_.setTree(t,new Zt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Te(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Me(e,n.value))})),t}function un(e,t){if(Se(t))return e;var n=an(e,t);return new en(null!=n?new Zt(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return hn(ge(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(Ee(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ee(e,".priority"),r)),n}function fn(e,t){return kn(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Ce(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=vn(e.allWrites,gn,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):L(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,Ee(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Ce(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ce(Ee(e.path,n),t))return!0;return!1}function gn(e){return e.visible}function vn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ce(n,s)?r=tn(r,u=Te(n,s),a.snap):Ce(s,n)&&(u=Te(s,n),r=tn(r,ge(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ce(n,s))r=nn(r,u=Te(n,s),a.children);else if(Ce(s,n))if(Se(u=Te(s,n)))r=nn(r,ge(),a.children);else{var c=(0,o.safeGet)(a.children,ve(u));if(c){var l=c.getChild(ye(u));r=tn(r,ge(),l)}}}}}return r}function mn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,ge())){return ln(vn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ce(e.path,t)||Ce(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,ge())?ln(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return mn(e.writeTree,e.treePath,t,n,r)}function _n(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function bn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ee(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,Ee(e.treePath,t))}function En(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,ge());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Sn(e,t,n){return function(e,t,n,r){var i=Ee(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Tn(e,t){return kn(Ee(e.treePath,t),e.writeTree)}function kn(e,t){return{treePath:e,writeTree:t}}var In=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,bt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_t(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,bt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Cn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),xn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Wt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jt(this.viewCache_),i=En(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Nn(e,t,n,r,i){var a,s,u=new In;if(n.type===Mt.OVERWRITE){var c=n;c.source.fromUser?a=On(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Se(c.path),a=Pn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Mt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ee(n,r);Rn(t,ve(c))&&(s=On(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ee(n,r);Rn(t,ve(c))||(s=On(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Ln(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Mt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new xn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Se(n)||".priority"===ve(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=yn(r,Jt(t));else{var f=t.serverCache.getNode();(0,o.assert)(f instanceof st,"serverChildren would be complete if leaf node"),h=_n(r,f)}l=e.filter.updateFullNode(c,h,a)}else{var d=ve(n),p=Sn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ye(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,ye(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,Jt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,ge()),Qt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Se(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Se(n)){var c=new Zt(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),Ln(e,t,n,c,i,o,s,a)}return t}var l=new Zt(null);return r.foreach((function(e,t){var r=Ee(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Ln(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Yt(t,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return An(e,a,n,r,Cn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Xt(t)))}}(t,a,f),{viewCache:a,changes:f}}function An(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(Se(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Jt(t),h=_n(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=yn(r,Jt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ve(n);if(".priority"===d){(0,o.assert)(1===me(n),"Can't have a priority with additional path components");var p=s.getNode(),g=bn(r,n,p,c=t.serverCache.getNode());u=null!=g?e.filter.updatePriority(p,g):s.getNode()}else{var v=ye(n),m=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=bn(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(v,y):s.getNode().getImmediateChild(d)}else m=Sn(r,d,t.serverCache);u=null!=m?e.filter.updateChild(s.getNode(),d,m,v,i,a):s.getNode()}}return Qt(t,u,s.isFullyInitialized()||Se(n),e.filter.filtersNodes())}function Pn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Se(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ve(n);if(!c.isCompleteForPath(n)&&me(n)>1)return t;var d=ye(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Cn,null)}var g=Yt(t,u,c.isFullyInitialized()||Se(n),l.filtersNodes());return An(e,g,n,i,new xn(i,g,o),s)}function On(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new xn(i,t,o);if(Se(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Qt(t,u,!0,e.filter.filtersNodes());else{var h=ve(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Qt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=ye(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Se(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===_e(f)&&g.getChild(we(f)).isEmpty()?g:g.updateChild(f,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=Qt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Rn(e,t){return e.eventCache.isCompleteForChild(t)}function Dn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ln(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Se(n)?r:new Zt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new pe(n),h,i,o,a,s)}})),c}var Mn,jn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new wt(r.getIndex()),o=(n=r).loadsAllData()?new wt(n.getIndex()):n.hasLimit()?new St(n):new Et(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Wt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Wt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=$t(h,l),this.eventGenerator_=new Ht(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=Jt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(ve(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function qn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Bn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Jt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Nn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Vn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Vn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gt(e,i,"child_removed",t,r,n),Gt(e,i,"child_added",t,r,n),Gt(e,i,"child_moved",o,r,n),Gt(e,i,"child_changed",t,r,n),Gt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Kn=function(){this.views=new Map};function Wn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Bn(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Bn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Hn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=_n(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=$t(new Wt(s,u,!1),new Wt(r,i,!1));return new jn(t,c)}return a}function Gn(e,t,n,r,i,o){var a=Hn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),Vn(e,r,n.getNode(),t)}(a,n)}function $n(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Zn(e);if("default"===u)try{for(var f=(0,a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.__read)(d.value,2),g=p[0],v=p[1];l=l.concat(qn(v,n,r)),Un(v)&&(e.views.delete(g),v.query._queryParams.loadsAllData()||c.push(v.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(v=e.views.get(u))&&(l=l.concat(qn(v,n,r)),Un(v)&&(e.views.delete(u),v.query._queryParams.loadsAllData()||c.push(v.query)));return h&&!Zn(e)&&c.push(new((0,o.assert)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path)),{removed:c,events:l}}function Qn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Yn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Xn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Jn(e,t){return null!=Xn(e,t)}function Zn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Zt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Zt.fromObject(n);return hr(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new Zt(null);return null!=r.snap?i=i.set(ge(),!0):L(r.children,(function(e){i=i.set(new pe(e),!0)})),hr(e,new Bt(r.path,i,n))}return[]}function ar(e,t,n){return hr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Jn(o,t))){var s=$n(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Zn(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Zn(t))return[er(t)];var r=[];return t&&(r=Qn(t)),L(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],g=p.query,v=pr(e,p);e.listenProvider_.startListening(br(g),gr(e,g),v.hashFn,v.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(br(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(vr(t));e.listenProvider_.stopListening(br(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=vr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Te(e,r);i=i||Yn(t,n),a=a||Zn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Zn(u),i=i||Yn(u,ge())):(u=new Kn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Yn(t,ge());n&&(i=i.updateImmediateChild(e,n))})));var c=Jn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=vr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=tr++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Gn(u,t,n,fn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Xn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=gr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(br(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Se(e)&&t&&Zn(t))return[er(t).query];var r=[];return t&&(r=r.concat(Qn(t).map((function(e){return e.query})))),L(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(br(h),gr(e,h))}return s}(e,t,d))}return f}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Yn(n,Te(e,t));if(r)return r}));return mn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Te(e,n);r=r||Yn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Yn(i,ge()):(i=new Kn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Wt(r,!0,!1):null;return function(e){return Xt(e.viewCache_)}(Hn(i,t,fn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function hr(e,t){return fr(t,e.syncPointTree_,null,fn(e.pendingWriteTree_,ge()))}function fr(e,t,n,r){if(Se(e.path))return dr(e,t,n,r);var i=t.get(ge());null==n&&null!=i&&(n=Yn(i,ge()));var o=[],a=ve(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Tn(r,a);o=o.concat(fr(s,u,c,l))}return i&&(o=o.concat(Wn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(ge());null==n&&null!=i&&(n=Yn(i,ge()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Tn(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Wn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=gr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=mr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=Te(o,t);return _r(e,o,new Vt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return hr(e,new Vt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function gr(e,t){var n=vr(t);return e.queryToTagMap.get(n)}function vr(e){return e._path.toString()+"$"+e._queryIdentifier}function mr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function _r(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Wn(r,n,fn(e.pendingWriteTree_,t),null)}function br(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var wr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Er=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ee(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Sr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Tr(e[".sv"],t,n):"object"===typeof e[".sv"]?kr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Tr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},kr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ir=function(e,t,n,r){return xr(t,new Er(n,e),r)},Cr=function(e,t,n){return xr(e,new wr(t),n)};function xr(e,t,n){var r,i=e.getPriority().val(),o=Sr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Sr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(tt,(function(e,i){var o=xr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Nr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Ar(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=ve(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Nr(i,r,a),i=ve(n=ye(n))}return r}function Pr(e){return e.node.value}function Or(e,t){e.node.value=t,jr(e)}function Rr(e){return e.node.childCount>0}function Dr(e,t){L(e.node.children,(function(n,r){t(new Nr(n,e,r))}))}function Lr(e,t,n,r){n&&!r&&t(e),Dr(e,(function(e){Lr(e,t,!0,r)})),n&&r&&t(e)}function Mr(e){return new pe(null===e.parent?e.name:Mr(e.parent)+"/"+e.name)}function jr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Pr(e)&&!Rr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jr(e))}(e.parent,e.name,e)}var Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,qr=10485760,Br=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Vr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!C(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Kr=function(e,t,n,r){r&&void 0===t||Wr((0,o.errorPrefix)(e,"value"),t,n)},Wr=function e(t,n,r){var i=r instanceof pe?new xe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ae(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ae(i)+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+Ae(i));if("string"===typeof n&&n.length>qr/3&&(0,o.stringLength)(n)>qr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ae(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(L(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Br(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ae(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Ne(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Ae(i)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(t,(function(e,t){var r=new pe(e);if(Wr(i,t,Ee(n,r)),".priority"===_e(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=be(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Br(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ke);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ce(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Gr=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$r=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Qr=function(e,t,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t){if(".info"===ve(t))throw new Error(e+" failed = Can't modify data under /.info/")},Jr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Br(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ie(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Ie(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Ce(e,t)||Ce(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&E("event: "+n.toString()),B(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ot(),this.transactionQueueTree_=new Nr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new At(e.repoInfo_,(function(t,n,r,i){hi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Le(e.repoInfo_,t,(function(t,n,r,i){hi(e,t,n,r,i)}),(function(t){fi(e,t)}),(function(t){!function(e,t){L(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new Pt,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=mr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,u=Te(a,t),c=Zt.fromObject(n);return _r(e,a,new Kt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=mr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,u=Te(a,t);return _r(e,a,new zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=Zt.fromObject(n);return hr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ct(n);s=ar(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Ti(e,a)),ri(e.eventQueue_,f,s)}function fi(e,t){di(e,"connected",t),!1===t&&function(e){bi(e,"onDisconnectEvents");var t=li(e),n=Ot();Lt(e.onDisconnect_,ge(),(function(r,i){var o=Ir(r,i,e.serverSyncTree_,t);Rt(n,r,o)}));var r=[];Lt(n,ge(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Ni(e,t);Ti(e,i)})),e.onDisconnect_=Ot(),ri(e.eventQueue_,ge(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function gi(e,t,n,r,i){bi(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=Cr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||I("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),wi(e,i,n,r)}));var h=Ni(e,t);Ti(e,h),ri(e.eventQueue_,h,[])}function vi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Dt(e.onDisconnect_,t),wi(e,n,r,i)}))}function mi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Rt(e.onDisconnect_,t,i),wi(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===ve(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function _i(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),E.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function wi(e,t,n,r){t&&B((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ei(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Si(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||xi(e,t),Pr(t)){var n=Ii(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ei(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Te(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){bi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);xi(e,Ar(e.transactionQueueTree_,t)),Si(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{I("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ti(e,t)}}),s)}(e,Mr(t),n)}else Rr(t)&&Dr(t,(function(t){Si(e,t)}))}function Ti(e,t){var n=ki(e,t),r=Mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Te(n,l.path),f=!1;if((0,o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ei(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Wr("transaction failed: Data returned ",p,l.path);var g=ct(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(g=g.updatePriority(d.getPriority()));var v=l.currentWriteId,m=li(e),y=Cr(g,d,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=pi(e),a.splice(a.indexOf(v),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,v,!0))}else f=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);xi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)B(r[u]);Si(e,e.transactionQueueTree_)}(e,Ii(e,n),r),r}function ki(e,t){var n,r=e.transactionQueueTree_;for(n=ve(t);null!==n&&void 0===Pr(r);)r=Ar(r,n),n=ve(t=ye(t));return r}function Ii(e,t){var n=[];return Ci(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ci(e,t,n){var r=Pr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dr(t,(function(t){Ci(e,t,n)}))}function xi(e,t){var n=Pr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Or(t,n.length>0?n:void 0)}Dr(t,(function(t){xi(e,t)}))}function Ni(e,t){var n=Mr(ki(e,t)),r=Ar(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ai(e,t)})),Ai(e,r),Lr(r,(function(t){Ai(e,t)})),n}function Ai(e,t){var n=Pr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Or(t,void 0):n.length=a+1,ri(e.eventQueue_,Mr(t),i);for(s=0;s<r.length;s++)B(r[s])}}var Pi=function(e,t){var n=Oi(e),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Y(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Oi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ri=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Di=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Li=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return vi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var e=new o.Deferred;return mi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xr("OnDisconnect.set",this._path),Kr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return mi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xr("OnDisconnect.setWithPriority",this._path),Kr("OnDisconnect.setWithPriority",e,this._path,!1),Gr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Rt(e.onDisconnect_,t,o),wi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Xr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&L(n,(function(n,r){var i=ct(r);Rt(e.onDisconnect_,Ee(t,n),i)})),wi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),ji=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Se(this._path)?null:_e(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Nt(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Nt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ie(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==x)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof lt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bi=function(e){function t(t,n){return e.call(this,t,n,new Tt,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(ji),Vi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Wi(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Wi(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Wi(e._root,t):e._root}function Ki(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Pi(t,e._repo.repoInfo_.nodeAdmin);Jr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Wi(e,t){var n,r,i,a;return null===ve((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Yr(n,r,i,a)):Yr("child","path",t,!1),new Bi(e._repo,Ee(e._path,t))}function Hi(e,t){e=(0,o.getModularInstance)(e),Xr("push",e._path),Kr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Wi(e,i),s=Wi(e,i);return n=null!=t?$i(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Gi(e){return Xr("remove",e._path),$i(e,null)}function $i(e,t){e=(0,o.getModularInstance)(e),Xr("set",e._path),Kr("set",t,e._path,!1);var n=new o.Deferred;return gi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Qi(e,t){e=(0,o.getModularInstance)(e),Xr("setPriority",e._path),Gr("setPriority",t,!1);var n=new o.Deferred;return gi(e._repo,Ee(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t,n){if(Xr("setWithPriority",e._path),Kr("setWithPriority",t,e._path,!1),Gr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return gi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Xi(e,t){Hr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){bi(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(L(n,(function(n,r){i=!1,a[n]=Ir(Ee(t,n),ct(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||I("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Ti(e,t):t;ri(e.eventQueue_,u,a),wi(0,r,n,i)})),L(n,(function(n){var r=Ni(e,Ee(t,n));Ti(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return bi(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Vi(t,new Bi(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ri("value",this,new Vi(e.snapshotNode,new Bi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Wi(new Bi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ri(e.type,this,new Vi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){yi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Li(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ve(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return yi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Li(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("endAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return Qr("endAt","key",t,!0),new co(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=vt(t)),r=It(e,t,n)):r=It(e,t,null==n?x:vt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function fo(e,t){return Qr("endBefore","key",t,!0),new ho(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function go(e,t){return void 0===e&&(e=null),Qr("startAt","key",t,!0),new po(e,t)}var vo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=gt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?N:gt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function mo(e,t){return Qr("startAfter","key",t,!0),new vo(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function _o(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var bo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bo(e)}var Eo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByChild");var t=new pe(this._path);if(Se(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Ct(e._queryParams,n);return Ui(r),new ji(e._repo,e._path,r,!0)},t}(uo);function So(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yr("orderByChild","path",e,!1),new Eo(e)}var To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByKey");var t=Ct(e._queryParams,Ue);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function ko(){return new To}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByPriority");var t=Ct(e._queryParams,tt);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function Co(){return new Io}var xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByValue");var t=Ct(e._queryParams,ft);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function No(){return new xo}var Ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Kr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function Po(e,t){return Qr("equalTo","key",t,!0),new Ao(e,t)}function Oo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(Bi),function(e){(0,o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(Bi);var Ro={},Do=!1;function Lo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Pi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Pi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new W(W.OWNER):new K(e.name,e.options,t);Jr("Invalid Firebase Database URL",s),Se(s.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ro[t.name];i||(i={},Ro[t.name]=i);var o=i[e.toURLString()];o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Do,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new Mo(h,e)}var Mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,ge())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Ro[t];n&&n[e.key]===e||k("Database "+t+"("+e.repoInfo_+") has already been deleted."),_i(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&k("Cannot call "+e+" on a deleted database.")},e}();function jo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new Y(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Fo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),_i(e._repo)}function Uo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var qo={".sv":"timestamp"};var Bo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Vo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){bi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:v(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ei(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Wr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Ar(e.transactionQueueTree_,t),h=Pr(l)||[];h.push(s),Or(l,h);var f=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(f=(0,o.safeGet)(c,".priority"),(0,o.assert)(zr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,f),g=Cr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=pi(e);var m=rr(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,m),Si(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Vi(r,new Bi(e._repo,e._path),tt),a.resolve(new Bo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ko=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Wo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Yr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Go(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ho=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Wo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),$r("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Wo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Wo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Oo(this._delegate,_o(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Oo(this._delegate,wo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Oo(this._delegate,So(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Oo(this._delegate,ko()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Oo(this._delegate,Co()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Oo(this._delegate,No()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Oo(this._delegate,go(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Oo(this._delegate,mo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Oo(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Oo(this._delegate,fo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Oo(this._delegate,Po(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this.database,new Bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Go=function(e){function t(t,n){var r=e.call(this,t,new ji(n._repo,n._path,new Tt,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Wi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Yi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Gi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),Zr("Reference.transaction","applyLocally",n,!0);var i=Vo(this._delegate,e,{applyLocally:n}).then((function(e){return new Ko(e.committed,new Wo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=Qi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Hi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new zo(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ho),$o=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),jo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Go){var t=Ki(this._delegate,e.toString());return new Go(this,t)}t=zi(this._delegate,e);return new Go(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Ki(this._delegate,e);return new Go(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Fo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:qo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Qo=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new jt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);L(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new $o(Lo(t,l,void 0,n,u),t),namespace:a}}}),Yo=Le;Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Xo=le,Jo=Y,Zo=Object.freeze({__proto__:null,DataConnection:Yo,RealTimeConnection:Xo,hijackHash:function(e){var t=Le.prototype.put;return Le.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Le.prototype.put=t}},ConnectionTarget:Jo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Do=e}(e)}}),ea=$o.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new $o(Lo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Go,Query:Ho,Database:$o,DataSnapshot:Wo,enableLogging:w,INTERNAL:Qo,ServerValue:ea,TEST_ACCESS:Zo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},662:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function v(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},138:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},839:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function v(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},973:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return p},ErrorFactory:function(){return O},FirebaseError:function(){return P},MAX_VALUE_MILLIS:function(){return ce},RANDOM_FACTOR:function(){return le},Sha1:function(){return X},areCookiesEnabled:function(){return N},assert:function(){return o},assertionError:function(){return a},async:function(){return ee},base64:function(){return u},base64Decode:function(){return h},base64Encode:function(){return c},base64urlEncodeWithoutPadding:function(){return l},calculateBackoffMillis:function(){return he},contains:function(){return V},createMockUserToken:function(){return g},createSubscribe:function(){return J},decode:function(){return j},deepCopy:function(){return f},deepEqual:function(){return H},deepExtend:function(){return d},errorPrefix:function(){return re},extractQuerystring:function(){return Y},getGlobal:function(){return A},getModularInstance:function(){return de},getUA:function(){return v},isAdmin:function(){return B},isBrowser:function(){return _},isBrowserExtension:function(){return b},isElectron:function(){return E},isEmpty:function(){return K},isIE:function(){return S},isIndexedDBAvailable:function(){return C},isMobileCordova:function(){return m},isNode:function(){return y},isNodeSdk:function(){return k},isReactNative:function(){return w},isSafari:function(){return I},isUWP:function(){return T},isValidFormat:function(){return q},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return L},map:function(){return W},ordinal:function(){return fe},querystring:function(){return $},querystringDecode:function(){return Q},safeGet:function(){return z},stringLength:function(){return ue},stringToByteArray:function(){return se},stringify:function(){return M},validateArgCount:function(){return ne},validateCallback:function(){return oe},validateContextObject:function(){return ae},validateIndexedDBOpenable:function(){return x},validateNamespace:function(){return ie}});var r=n(797),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _(){return"object"===typeof self&&self.self===self}function b(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return v().indexOf("Electron/")>=0}function S(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return v().indexOf("MSAppHost/")>=0}function k(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function I(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function x(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function N(){return!(!navigator||!navigator.cookieEnabled)}function A(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var P=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?R(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new P(i,s,r);return u},e}();function R(e,t){return e.replace(D,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var D=/\{\$([^}]+)}/g;function L(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var j=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=j(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=j(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},q=function(e){var t=j(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=j(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function K(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function W(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function H(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(G(s)&&G(u)){if(!H(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function G(e){return null!==e&&"object"===typeof e}function $(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Y(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var X=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function J(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(re(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=144e5,le=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}function fe(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function de(e){return e&&e._delegate?e._delegate:e}},123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},861:function(e,t,n){"use strict";var r=n(456),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),g=u(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=f(n,m);try{c(t,m,y)}catch(_){}}}}return t}},229:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},456:function(e,t,n){"use strict";e.exports=n(229)},993:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},534:function(e,t,n){"use strict";var r=n(313),i=n(224);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function q(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Te=null;function ke(e){if(e=_i(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ie(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Te;if(Te=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Se||null!==Te)&&(Ne(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,qe={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,o,a,s,u){Me=!1,je=null,Le.apply(qe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ve(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,Tt,kt,It=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function qt(){It=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Bt(xt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=_t,o=zt.transition;zt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,zt.transition=o}}function Ht(e,t,n,r){var i=_t,o=zt.transition;zt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,zt.transition=o}}function Gt(e,t,n,r){if(Kt){var i=Qt(e,t,n,r);if(null===i)Kr(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Kr(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=j({},cn,{view:0,detail:0}),fn=on(hn),dn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),gn=on(j({},dn,{dataTransfer:0})),vn=on(j({},hn,{relatedTarget:0})),mn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Tn}var In=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(In),xn=on(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function $n(e){Fr(e,0)}function Qn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Pe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==$(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function kr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=kr("animationend"),Cr=kr("animationiteration"),xr=kr("animationstart"),Nr=kr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||qr(t,!1,e),qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,qr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Cr:case xr:u=mn;break;case Nr:u=An;break;case"scroll":u=fn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Oe(p,f))&&l.push(Wr(p,g,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,g=l),h=g,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,g=f;g;g=Gr(g))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&$r(a,s,u,l,!1),null!==c&&null!==h&&$r(a,h,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(Kn(s))if(Xn)v=ar;else{v=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?qn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(m=Hr(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:m}),y?_.data=y:null!==(y=Bn(n))&&(_.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&qn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,vi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var Ei=[],Si=-1;function Ti(e){return{current:e}}function ki(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ii(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ci={},xi=Ti(Ci),Ni=Ti(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ni),ki(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ii(xi,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Ii(xi,e),Ii(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(xi),Ii(xi,e)):ki(Ni),Ii(Ni,n)}var Fi=null,Ui=!1,qi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!qi&&null!==Fi){qi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Vi),i}finally{_t=t,qi=!1}}return null}var zi=[],Ki=0,Wi=null,Hi=0,Gi=[],$i=0,Qi=null,Yi=1,Xi="";function Ji(e,t){zi[Ki++]=Hi,zi[Ki++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=zi[--Ki],zi[Ki]=null,Hi=zi[--Ki],zi[Ki]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=b.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ti(null),_o=null,bo=null,wo=null;function Eo(){wo=bo=_o=null}function So(e){var t=yo.current;ki(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break e;h=j({},h,f);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Mo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ko(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Oi(t)?Ai:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=qo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Oi(t)?Ai:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===qo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);$o(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);$o(t,r)}return null}function g(i,o,s,u){for(var c=null,l=null,h=o,g=o=0,v=null;null!==h&&g<s.length;g++){h.index>g?(v=h,h=null):v=h.sibling;var m=d(i,h,s[g],u);if(null===m){null===h&&(h=v);break}e&&h&&null===m.alternate&&t(i,h),o=a(m,o,g),null===l?c=m:l.sibling=m,l=m,h=v}if(g===s.length)return n(i,h),io&&Ji(i,g),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===l?c=h:l.sibling=h,l=h);return io&&Ji(i,g),c}for(h=r(i,h);g<s.length;g++)null!==(v=p(h,i,g,s[g],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),o=a(v,o,g),null===l?c=v:l.sibling=v,l=v);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function v(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var _=d(i,g,y.value,c);if(null===_){null===g&&(g=m);break}e&&g&&null===_.alternate&&t(i,g),s=a(_,s,v),null===h?l=_:h.sibling=_,h=_,g=m}if(y.done)return n(i,g),io&&Ji(i,v),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,v),null===h?l=y:h.sibling=y,h=y);return io&&Ji(i,v),l}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===h?l=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,v),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case E:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case O:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return g(r,o,a,u);if(L(a))return v(r,o,a,u);$o(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},ea=Ti(Zo),ta=Ti(Zo),na=Ti(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ii(na,t),Ii(ta,e),Ii(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(ea),Ii(ea,t)}function oa(){ki(ea),ki(ta),ki(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ii(ta,e),Ii(ea,n))}function sa(e){ta.current===e&&(ki(ea),ki(ta))}var ua=Ti(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ha(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,ga=null,va=null,ma=null,ya=!1,_a=!1,ba=0,wa=0;function Ea(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,ma=va=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(_a)}if(fa.current=as,t=null!==va&&null!==va.next,pa=0,ma=va=ga=null,ya=!1,t)throw Error(o(300));return e}function ka(){var e=0!==ba;return ba=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ga.memoizedState=ma=e:ma=ma.next=e,ma}function Ca(){if(null===va){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?ga.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ga.memoizedState=ma=e:ma=ma.next=e}return ma}function xa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,ga.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Oa(e,t){var n=ga,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ka(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&ja(e)}function La(e,t,n){return n((function(){Ma(t)&&ja(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function Fa(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qa(){return Ca().memoizedState}function Ba(e,t,n,r){var i=Ia();ga.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ga.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return Ba(8390656,8,e,t)}function Ka(e,t){return Va(2048,8,e,t)}function Wa(e,t){return Va(4,2,e,t)}function Ha(e,t){return Va(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Mu|=n,e.baseState=!0),t)}function Za(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{_t=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,xo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){_a=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Io,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:Io,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Fa,useDebugValue:Qa,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Ia();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Nu.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Io,useCallback:Ya,useContext:Io,useEffect:Ka,useImperativeHandle:$a,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Xa,useReducer:Na,useRef:qa,useState:function(){return Na(xa)},useDebugValue:Qa,useDeferredValue:function(e){return Ja(Ca(),va.memoizedState,e)},useTransition:function(){return[Na(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Io,useCallback:Ya,useContext:Io,useEffect:Ka,useImperativeHandle:$a,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Xa,useReducer:Aa,useRef:qa,useState:function(){return Aa(xa)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ca();return null===va?t.memoizedState=e:Ja(t,va.memoizedState,e)},useTransition:function(){return[Aa(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),fs(0,t)},n}function gs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ta(e,t,n,r,o,i),n=ka(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ru,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ru,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Oi(n)?Ai:xi.current;return o=Pi(t,o),ko(t,i),n=Ta(e,t,n,r,o,i),r=ka(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)zs(e,t),Ko(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Pi(t,c=Oi(n)?Ai:xi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(t,a,r,c),Po=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Po?("function"===typeof l&&(Bo(t,n,l,r),u=t.memoizedState),(s=Po||zo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:mo(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Io(u):u=Pi(t,u=Oi(n)?Ai:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Wo(t,a,r,u),Po=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Po?("function"===typeof d&&(Bo(t,n,d,r),p=t.memoizedState),(c=Po||zo(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ks(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Rs,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nc(r,e,i,-1))}return gc(),Us(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),Xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),ki(Ni),ki(xi),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&_(e,a,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Hs(t),null;case 13:if(ki(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):gc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&Vr(t.stateNode.containerInfo),Hs(t),null;case 10:return So(t.type._context),Hs(t),null;case 19:if(ki(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Vu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*Xe()-a.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,Ii(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),ki(Ni),ki(xi),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ki(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[gi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=hu;lu=null,fu(e,t,n),hu=i,null!==(lu=r)&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fu(e,t,n),Ys=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(v){Tc(e,e.return,v)}try{nu(5,e,e.return)}catch(v){Tc(e,e.return,v)}}break;case 1:gu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Tc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),_e(u,s);var l=_e(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ve(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):_(i,h,f,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){Tc(e,e.return,v)}}break;case 6:if(gu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Tc(e,e.return,v)}}break;case 3:if(gu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Tc(e,e.return,v)}break;case 4:default:gu(t,e),mu(e);break;case 13:gu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||h,gu(t,e),Ys=l):gu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(f=Js=h;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Tc(r,n,v)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Js=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",s))}catch(v){Tc(e,e.return,v)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){Tc(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Qs;var c=Ys;if(Qs=a,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Eu(i):null!==u?(u.return=a,Js=u):Eu(i);for(;null!==o;)Js=o,_u(o,t,n),o=o.sibling;Js=i,Qs=s,Ys=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&iu(t)}catch(d){Tc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Eu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Tc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Tc(t,a,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Su,Tu=Math.ceil,ku=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,xu=0,Nu=null,Au=null,Pu=0,Ou=0,Ru=Ti(0),Du=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,qu=null,Bu=0,Vu=1/0,zu=null,Ku=!1,Wu=null,Hu=null,Gu=!1,$u=null,Qu=0,Yu=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&xu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Pu?Pu&-Pu:null!==vo.transition?(0===Zu&&(Zu=gt()),Zu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(o(185));mt(e,n,r),0!==(2&xu)&&e===Nu||(e===Nu&&(0===(2&xu)&&(ju|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===xu&&0===(1&t.mode)&&(Vu=Xe()+500,Ui&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Nu?Pu:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),ai((function(){0===(6&xu)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&xu))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=xu;xu|=2;var a=pc();for(Nu===e&&Pu===t||(zu=null,Vu=Xe()+500,fc(e,t));;)try{yc();break}catch(u){dc(e,u)}Eo(),ku.current=a,xu=i,null!==Au?t=0:(Nu=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,fc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Lu,fc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,qu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,qu,zu),t);break}wc(e,qu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,qu,zu),r);break}wc(e,qu,zu);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=qu,qu=n,null!==t&&ac(t)),e}function ac(e){null===qu?qu=e:qu.push.apply(qu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&xu))throw Error(o(327));Ec();var t=ft(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,fc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,qu,zu),rc(e,Xe()),null}function cc(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(Vu=Xe()+500,Ui&&Vi())}}function lc(e){null!==$u&&0===$u.tag&&0===(6&xu)&&Ec();var t=xu;xu|=1;var n=Cu.transition,r=_t;try{if(Cu.transition=null,_t=1,e)return e()}finally{_t=r,Cu.transition=n,0===(6&(xu=t))&&Vi()}}function hc(){Ou=Ru.current,ki(Ru)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),ki(Ni),ki(xi),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:ki(ua);break;case 10:So(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Au=e=Rc(e.current,null),Pu=Ou=t,Du=0,Lu=null,Fu=ju=Mu=0,qu=Uu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function dc(e,t){for(;;){var n=Au;try{if(Eo(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ma=va=ga=null,_a=!1,ba=0,Iu.current=null,null===n||null===n.return){Du=1,Lu=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&vs(a,l,t),c=l;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}if(0===(1&t)){vs(a,l,t),gc();break e}c=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),go(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Hu||!Hu.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,gs(a,u,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=ku.current;return ku.current=as,null===e?as:e}function gc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Nu,Pu)}function vc(e,t){var n=xu;xu|=2;var r=pc();for(Nu===e&&Pu===t||(zu=null,fc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(Eo(),xu=n,ku.current=r,null!==Au)throw Error(o(261));return Nu=null,Pu=0,Du}function mc(){for(;null!==Au;)_c(Au)}function yc(){for(;null!==Au&&!Qe();)_c(Au)}function _c(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Iu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Au=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=_t,i=Cu.transition;try{Cu.transition=null,_t=1,function(e,t,n,r){do{Ec()}while(null!==$u);if(0!==(6&xu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nu&&(Au=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=_t;_t=1;var u=xu;xu|=4,Iu.current=null,function(e,t){if(ei=Kt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Tc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tu,tu=!1}(e,n),vu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),xu=u,_t=s,Cu.transition=a}else e.current=n;if(Gu&&(Gu=!1,$u=e,Qu=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&Ec(),0!==(1&(a=e.pendingLanes))?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Vi()}(e,t,n,r)}finally{Cu.transition=i,_t=r}return null}function Ec(){if(null!==$u){var e=bt(Qu),t=Cu.transition,n=_t;try{if(Cu.transition=null,_t=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Qu=0,0!==(6&xu))throw Error(o(331));var i=xu;for(xu|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var d=(h=Js).sibling,p=h.return;if(ou(h),h===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var _=e.current;for(Js=_;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=_;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(E){Tc(u,u.return,E)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(xu=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{_t=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Lo(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Lo(t,e=gs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Xe()-Bu?fc(e,0):Fu|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ao(e,t))&&(mt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,i,a,t);case T:s=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case x:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=qc(n,r,!0,e,0,o,0,s,u)).context=Vc(null),n=e.current,(o=Do(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(nc(e,i,a,o),Mo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ii(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ii(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,xi.current);ko(t,n),i=Ta(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=mo(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ii(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Io(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Ss(e,t,r,i=mo(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),zs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Ko(t,r,i),Ho(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&xu)&&(Vu=Xe()+500,Vi()))}break;case 13:lc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Tt=function(){return _t},kt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[_i,bi,wi,Ie,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=qc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},739:function(e,t,n){"use strict";var r=n(168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},624:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case g:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===f||e===d||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=m},214:function(e,t,n){"use strict";e.exports=n(624)},918:function(e,t,n){"use strict";var r=n(313),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=_.prototype=new y;b.constructor=_,g(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+x(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+x(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},313:function(e,t,n){"use strict";e.exports=n(306)},417:function(e,t,n){"use strict";e.exports=n(918)},95:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(v=!1,b(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function E(e,n){g=!1,v&&(v=!1,y(I),I=-1),p=!0;var o=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,k=null,I=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?S():(T=!1,k=null)}}else T=!1}if("function"===typeof _)S=function(){_(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,S=function(){O.postMessage(null)}}else S=function(){m(A,0)};function R(e){k=e,T||(T=!0,S())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(y(I),I=-1):v=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},224:function(e,t,n){"use strict";e.exports=n(95)},767:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},797:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return E},__await:function(){return _},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldIn:function(){return N},__classPrivateFieldSet:function(){return x},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return I},__importStar:function(){return k},__makeTemplateObject:function(){return S},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return a},__spread:function(){return v},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return T(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function N(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},531:function(e,t,n){"use strict";var r=n(313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},778:function(e,t,n){"use strict";var r=n(313),i=n(239);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=a(e,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),l(d),d}},239:function(e,t,n){"use strict";e.exports=n(531)},58:function(e,t,n){"use strict";e.exports=n(778)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e,t=n(313),r=n(739);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function h(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var v=(0,t.createContext)(null);var m=(0,t.createContext)(null);var y=(0,t.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");var r=x(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=k(i[a],r);return o}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||_(!1),o.relativePath=o.relativePath.slice(r.length));var a=N([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&_(!1),w(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:s})})),t}var E=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function k(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;o.push({params:r,pathname:N([i,l.pathname]),pathnameBase:A(N([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=N([i,l.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function C(e,t,n){var r,i="string"===typeof e?g(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(o),hash:O(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var N=function(e){return e.join("/").replace(/\/\/+/g,"/")},A=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function R(){return null!=(0,t.useContext)(m)}function D(){return R()||_(!1),(0,t.useContext)(m).location}function L(){R()||_(!1);var e=(0,t.useContext)(v),n=e.basename,r=e.navigator,i=(0,t.useContext)(y).matches,o=D().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=C(e,JSON.parse(a),o);"/"!==n&&(i.pathname=N([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return u}function M(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,o){return(0,t.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function j(e){var n=e.to,r=e.replace,i=e.state;R()||_(!1);var o=L();return(0,t.useEffect)((function(){o(n,{replace:r,state:i})})),null}function F(e){_(!1)}function U(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,h=n.static,f=void 0!==h&&h;R()&&_(!1);var d=A(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=g(s));var y=s,b=y.pathname,w=void 0===b?"/":b,E=y.search,S=void 0===E?"":E,T=y.hash,k=void 0===T?"":T,I=y.state,C=void 0===I?null:I,N=y.key,P=void 0===N?"default":N,O=(0,t.useMemo)((function(){var e=x(w,d);return null==e?null:{pathname:e,search:S,hash:k,state:C,key:P}}),[d,w,S,k,C,P]);return null==O?null:(0,t.createElement)(v.Provider,{value:p},(0,t.createElement)(m.Provider,{children:a,value:{location:O,navigationType:c}}))}function q(e){var n=e.children,r=e.location;return function(e,n){R()||_(!1);var r,i=(0,t.useContext)(y).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,D());if(n){var c,l="string"===typeof n?g(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||_(!1),r=l}else r=u;var h=r.pathname||"/",f=b(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return M(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:N([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:N([s,e.pathnameBase])})})),i)}(B(n),r)}function B(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==F&&_(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=B(e.props.children)),n.push(r)}else n.push.apply(n,B(e.props.children))})),n}function V(n){var r=n.basename,i=n.children,o=n.window,v=(0,t.useRef)();null==v.current&&(v.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=i.state||{};return[a.idx,u({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(l,(function(){if(a)w.call(a),a=null;else{var t=e.Pop,n=o(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=y-r;s&&(a={action:t,location:i,retry:function(){C(-1*s)}},C(s))}}else I(t)}}));var v=e.Pop,m=o(),y=m[0],_=m[1],b=f(),w=f();function E(e){return"string"===typeof e?e:p(e)}function S(e,t){return void 0===t&&(t=null),u(s({pathname:_.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:d()}))}function T(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function k(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function I(e){v=e;var t=o();y=t[0],_=t[1],b.call({action:v,location:_})}function C(e){i.go(e)}null==y&&(y=0,i.replaceState(s({},i.state,{idx:y}),""));var x={get action(){return v},get location(){return _},createHref:E,push:function t(n,o){var a=e.Push,s=S(n,o);if(k(a,s,(function(){t(n,o)}))){var u=T(s,y+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(h){r.location.assign(l)}I(a)}},replace:function t(n,r){var o=e.Replace,a=S(n,r);if(k(o,a,(function(){t(n,r)}))){var s=T(a,y),u=s[0],c=s[1];i.replaceState(u,"",c),I(o)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,h),function(){t(),w.length||r.removeEventListener(c,h)}}};return x}({window:o}));var m=v.current,y=a((0,t.useState)({action:m.action,location:m.location}),2),_=y[0],b=y[1];return(0,t.useLayoutEffect)((function(){return m.listen(b)}),[m]),(0,t.createElement)(U,{basename:r,children:i,location:_.location,navigationType:_.action,navigator:m})}function z(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var K=n(214),W=n(767),H=n.n(W);var G=function(e){function t(e,r,u,c,f){for(var d,p,g,v,b,E=0,S=0,T=0,k=0,I=0,O=0,D=g=d=0,M=0,j=0,F=0,U=0,q=u.length,B=q-1,V="",z="",K="",W="";M<q;){if(p=u.charCodeAt(M),M===B&&0!==S+k+T+E&&(0!==S&&(p=47===S?10:47),k=T=E=0,q++,B++),0===S+k+T+E){if(M===B&&(0<j&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(M)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),g=1,U=++M;M<q;){switch(p=u.charCodeAt(M)){case 123:g++;break;case 125:g--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&u.charCodeAt(M)!==p;);}if(0===g)break;M++}if(g=u.substring(U,M),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=P}if(U=(g=t(r,j,g,p,f+1)).length,0<R&&(b=s(3,g,j=n(P,V,F),r,x,C,U,p,f,c),V=j.join(""),void 0!==b&&0===(U=(g=b.trim()).length)&&(p=0,g="")),0<U)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:g=V+"{"+g+"}";break;case 107:g=(V=V.replace(m,"$1 $2"))+"{"+g+"}",g=1===A||2===A&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=V+g,112===c&&(z+=g,g="")}else g=""}else g=t(r,n(r,V,F),g,c,f+1);K+=g,g=F=j=D=d=0,V="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(V=(0<j?V.replace(h,""):V).trim()).length))switch(0===D&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<R&&void 0!==(b=s(1,V,r,e,x,C,z.length,c,f,c))&&0===(U=(V=b.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=V+u.charAt(M);break}default:58!==V.charCodeAt(U-1)&&(z+=i(V,d,p,V.charCodeAt(2)))}F=j=D=d=0,V="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<V.length&&(j=1,V+="\0"),0<R*L&&s(0,V,r,e,x,C,z.length,c,f,c),C=1,x++;break;case 59:case 125:if(0===S+k+T+E){C++;break}default:switch(C++,v=u.charAt(M),p){case 9:case 32:if(0===k+E+S)switch(I){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===k+S+E&&(j=F=1,v="\f"+v);break;case 108:if(0===k+S+E+N&&0<D)switch(M-D){case 2:112===I&&58===u.charCodeAt(M-3)&&(N=I);case 8:111===O&&(N=O)}break;case 58:0===k+S+E&&(D=M);break;case 44:0===S+T+k+E&&(j=1,v+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:0===k+S+T&&E++;break;case 93:0===k+S+T&&E--;break;case 41:0===k+S+E&&T--;break;case 40:if(0===k+S+E){if(0===d)if(2*I+3*O===533);else d=1;T++}break;case 64:0===S+T+k+E+D+g&&(g=1);break;case 42:case 47:if(!(0<k+E+T))switch(S){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:U=M,S=42}break;case 42:47===p&&42===I&&U+2!==M&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,M+1)),v="",S=0)}}0===S&&(V+=v)}O=I,I=p,M++}if(0<(U=z.length)){if(j=r,0<R&&(void 0!==(b=s(2,z,j,e,x,C,U,c,f,c))&&0===(z=b).length))return W+z+K;if(z=j.join(",")+"{"+z+"}",0!==A*N){switch(2!==A||o(z,2)||(N=0),N){case 111:z=z.replace(_,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}N=0}}return W+z+K}function n(e,t,n){var i=t.trim().split(g);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&o(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(I,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(T,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<R;++f)switch(h=O[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,x,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(P,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,x,C,o.length,0,0,0))&&(o=i)),"",N=0,C=x=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,g=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,_=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,C=1,x=1,N=0,A=1,P=[],O=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=O.length=0;break;default:if("function"===typeof t)O[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},$={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Q=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Y=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,X=Q((function(e){return Y.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),J=n(861),Z=n.n(J);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ne=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,K.typeOf)(e)},re=Object.freeze([]),ie=Object.freeze({});function oe(e){return"function"==typeof e}function ae(e){return e.displayName||e.name||"Component"}function se(e){return e&&"string"==typeof e.styledComponentId}var ue="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ce="undefined"!=typeof window&&"HTMLElement"in window,le=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function he(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var fe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&he(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),de=new Map,pe=new Map,ge=1,ve=function(e){if(de.has(e))return de.get(e);for(;pe.has(ge);)ge++;var t=ge++;return de.set(e,t),pe.set(t,e),t},me=function(e){return pe.get(e)},ye=function(e,t){t>=ge&&(ge=t+1),de.set(e,t),pe.set(t,e)},_e="style["+ue+'][data-styled-version="5.3.5"]',be=new RegExp("^"+ue+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),we=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Ee=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(be);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(ye(c,u),we(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Se=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Te=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(ue))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(ue,"active"),r.setAttribute("data-styled-version","5.3.5");var a=Se();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},ke=function(){function e(e){var t=this.element=Te(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}he(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Ie=function(){function e(e){var t=this.element=Te(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ce=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),xe=ce,Ne={isServer:!ce,useCSSOMInjection:!le},Ae=function(){function e(e,t,n){void 0===e&&(e=ie),void 0===t&&(t={}),this.options=ee({},Ne,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ce&&xe&&(xe=!1,function(e){for(var t=document.querySelectorAll(_e),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ue)&&(Ee(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return ve(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ee({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ce(i):r?new ke(i):new Ie(i),new fe(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(ve(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ve(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(ve(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=me(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=ue+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Pe=/(a)(d)/gi,Oe=function(e){return String.fromCharCode(e+(e>25?39:97))};function Re(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Oe(t%52)+n;return(Oe(t%52)+n).replace(Pe,"$1-$2")}var De=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Le=function(e){return De(5381,e)};function Me(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(oe(n)&&!se(n))return!1}return!0}var je=Le("5.3.5"),Fe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Me(e),this.componentId=t,this.baseHash=De(je,t),this.baseStyle=n,Ae.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=nt(this.rules,e,t,n).join(""),a=Re(De(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=De(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=nt(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=De(c,p+h),l+=p}}if(l){var g=Re(c>>>0);if(!t.hasNameForId(r,g)){var v=n(l,"."+g,void 0,r);t.insertRules(r,g,v)}i.push(g)}}return i.join(" ")},e}(),Ue=/^\s*\/\/.*$/gm,qe=[":","[",".","#"];function Be(e){var t,n,r,i,o=void 0===e?ie:e,a=o.options,s=void 0===a?ie:a,u=o.plugins,c=void 0===u?re:u,l=new G(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==qe.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Ue,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||he(15),De(e,t.name)}),5381).toString():"",p}var Ve=t.createContext(),ze=(Ve.Consumer,t.createContext()),Ke=(ze.Consumer,new Ae),We=Be();function He(){return(0,t.useContext)(Ve)||Ke}function Ge(){return(0,t.useContext)(ze)||We}function $e(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],o=He(),a=(0,t.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return Be({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){H()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Ve.Provider,{value:a},t.createElement(ze.Provider,{value:s},e.children))}var Qe=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=We);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return he(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=We),this.name+e.hash},e}(),Ye=/([A-Z])/,Xe=/([A-Z])/g,Je=/^ms-/,Ze=function(e){return"-"+e.toLowerCase()};function et(e){return Ye.test(e)?e.replace(Xe,Ze).replace(Je,"-ms-"):e}var tt=function(e){return null==e||!1===e||""===e};function nt(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=nt(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return tt(e)?"":se(e)?"."+e.styledComponentId:oe(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:nt(e(t),t,n,r):e instanceof Qe?n?(e.inject(n,r),e.getName(r)):e:ne(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!tt(t[a])&&(Array.isArray(t[a])&&t[a].isCss||oe(t[a])?o.push(et(a)+":",t[a],";"):ne(t[a])?o.push.apply(o,e(t[a],a)):o.push(et(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in $?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var rt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function it(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oe(e)||ne(e)?rt(nt(te(re,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:rt(nt(te(e,n)))}new Set;var ot=function(e,t,n){return void 0===n&&(n=ie),e.theme!==n.theme&&e.theme||t||n.theme},at=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,st=/(^-|-$)/g;function ut(e){return e.replace(at,"-").replace(st,"")}var ct=function(e){return Re(Le(e)>>>0)};function lt(e){return"string"==typeof e&&!0}var ht=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},ft=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function dt(e,t,n){var r=e[n];ht(t)&&ht(r)?pt(r,t):e[n]=t}function pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(ht(a))for(var s in a)ft(s)&&dt(e,a[s],s)}return e}var gt=t.createContext();gt.Consumer;var vt={};function mt(e,n,r){var i=se(e),o=!lt(e),a=n.attrs,s=void 0===a?re:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":ut(e);vt[n]=(vt[n]||0)+1;var r=n+"-"+ct("5.3.5"+n+vt[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,h=void 0===l?function(e){return lt(e)?"styled."+e:"Styled("+ae(e)+")"}(e):l,f=n.displayName&&n.componentId?ut(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var g,v=new Fe(r,f,i?e.componentStyle:void 0),m=v.isStatic&&0===s.length,y=function(e,n){return function(e,n,r,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,h=e.target,f=function(e,t,n){void 0===e&&(e=ie);var r=ee({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in oe(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(ot(n,(0,t.useContext)(gt),s)||ie,n,o),d=f[0],p=f[1],g=function(e,t,n,r){var i=He(),o=Ge();return t?e.generateAndInjectStyles(ie,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,d),v=r,m=p.$as||n.$as||p.as||n.as||h,y=lt(m),_=p!==n?ee({},n,{},p):n,b={};for(var w in _)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=_[w]:(c?c(w,X,m):!y||X(w))&&(b[w]=_[w]));return n.style&&p.style!==n.style&&(b.style=ee({},n.style,{},p.style)),b.className=Array.prototype.concat(u,l,g!==l?g:null,n.className,p.className).filter(Boolean).join(" "),b.ref=v,(0,t.createElement)(m,b)}(g,e,n,m)};return y.displayName=h,(g=t.forwardRef(y)).attrs=d,g.componentStyle=v,g.displayName=h,g.shouldForwardProp=p,g.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):re,g.styledComponentId=f,g.target=i?e.target:e,g.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(lt(e)?e:ut(ae(e)));return mt(e,ee({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?pt({},e.defaultProps,t):t}}),g.toString=function(){return"."+g.styledComponentId},o&&Z()(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var yt=function(e){return function e(t,n,r){if(void 0===r&&(r=ie),!(0,K.isValidElementType)(n))return he(1,String(n));var i=function(){return t(n,r,it.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ee({},r,{},i))},i.attrs=function(i){return e(t,n,ee({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(mt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){yt[e]=yt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Me(e),Ae.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(nt(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Ae.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Se();return"<style "+[n&&'nonce="'+n+'"',ue+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?he(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return he(2);var r=((n={})[ue]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Se();return i&&(r.nonce=i),[t.createElement("style",ee({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ae({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?he(2):t.createElement($e,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return he(3)}}();var _t,bt,wt,Et,St,Tt,kt,It,Ct,xt,Nt,At,Pt,Ot,Rt,Dt,Lt,Mt,jt,Ft,Ut,qt,Bt,Vt,zt,Kt,Wt,Ht,Gt,$t,Qt,Yt,Xt,Jt,Zt,en,tn,nn,rn,on,an,sn,un,cn,ln,hn,fn,dn,pn,gn,vn,mn,yn,_n,bn,wn,En,Sn,Tn,kn,In,Cn=yt,xn=Cn.img(_t||(_t=z(["\n  width: 30%;\n  margin: 1rem auto;\n"]))),Nn=Cn.div(bt||(bt=z(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 70%;\n  height: 60%;\n  margin: auto;\n"]))),An=Cn.button(wt||(wt=z(["\n  width: 70%;\n  padding: 3px 2px;\n  margin: 0 auto;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-conent: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover {\n    -webkit-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n  }\n"]))),Pn=Cn.div(Et||(Et=z(["\n  display:flex;\n  width: 70%;\n  margin: 2rem auto;\n  justify-content: center;\n  align-items: center;\n"]))),On=Cn.div(St||(St=z(["\n  width: 70%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: felx-end;\n\n  a {\n    text-decoration: underline;\n    cursor: pointer;\n    font-width: bold;\n    color:#ffffff;\n  }\n"]))),Rn=Cn.div(Tt||(Tt=z(["\n  width: 70%;\n  height: auto;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  padding-top: 1rem;\n  padding-left: 1rem;\n  padding-bottom: 1rem;\n"]))),Dn=Cn.div(kt||(kt=z(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto;\n"]))),Ln=Cn.input(It||(It=z(["\n  width: 90%;\n  height: auto;\n  padding: 4px 6px;\n  margin: 2px auto;\n  border: #BFC3FC;\n  border-radius: 15px;\n  font-size: 14px;\n"]))),Mn=Cn.div(Ct||(Ct=z(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 1rem auto;\n  justify-content: center;\n  align-items: center;\n"]))),jn=Cn.div(xt||(xt=z(["\n  display: flex;\n  flex-direction: row;\n  width: 90%;\n  height: 15%;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #2E3562;\n  padding: 1rem 3rem;\n\n  h2 {\n    font-size: 20px;\n  }\n\n  p {\n    font-size: 18px;\n  }\n"]))),Fn=Cn.div(Nt||(Nt=z(["\n  display: flex;\n  flex-direction: column;\n\n"]))),Un=Cn.div(At||(At=z(["\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n  align-items: center;\n  justify-content: center;\n  width: 70%;\n  margin: 1rem auto;\n"]))),qn=Cn.div(Pt||(Pt=z(["\n  display: flex;\n  width: auto;\n  padding: 0.1rem 1rem;\n  background-color: #2E3562;\n  justify-conent: center;\n  alig-items: center;\n  border: 1px solid #2E3562;\n  border-radius: 10px;\n"]))),Bn=Cn.div(Ot||(Ot=z(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-items: center;\n  justify-content: center;\n  width: 70%;\n  margin: 1rem auto;\n"]))),Vn=Cn.div(Rt||(Rt=z(["\n  width: 80%;\n  background-color: #2E3562;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  margin-bottom: 25px;\n\n  img {\n    width: 100%;\n  }\n"]))),zn=Cn.div(Dt||(Dt=z(["\n  text-align: center;\n  padding: 10px 20px;\n"]))),Kn=Cn.button(Lt||(Lt=z(["\n  width: 10%;\n  padding: 3px 2px;\n  margin: 0 auto;\n  justify-conent: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  border: 1px solid #2BE7E8;\n  border-radius: 15px;\n  font-size: 14px;\n  font-weight: bold;\n  color: black;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover {\n    -webkit-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n"]))),Wn=Cn.img(Mt||(Mt=z(["\n  width: 200px;\n  margin: 1rem auto;\n"]))),Hn=Cn.div(jt||(jt=z(["\n  display:flex;\n  width: 400px;\n  margin: 2rem auto;\n  justify-content: center;\n  align-items: center;\n  background-color:transparent;\n"]))),Gn=Cn.div(Ft||(Ft=z(["\n  width: 70%;\n  margin: 1rem auto;\n  text-align: center;\n  justify-content: center;\n\n  p {\n    font-weight: bold;\n    font-size: 18px\n  }\n"]))),$n=Cn.p(Ut||(Ut=z(["\n\n  \n"]))),Qn=Cn.div(qt||(qt=z(["\n  width: 440px;\n  height: 80px;\n  margin: 130px auto;\n  background-color:transparent;\n  text-align:center;\n"]))),Yn=Cn.button(Bt||(Bt=z(["\n  width: 80%;\n  height:35px;\n  padding: 3px 2px;\n  margin: 0 auto;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-content: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n  transition:0.3s;\n\n  &:hover {\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n  "]))),Xn=Cn.div(Vt||(Vt=z(["\n  width: 70%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Jn=Cn.input(zt||(zt=z(["\n  width:50%;\n  margin: 0.5rem auto;\n  border-radius: 15px;\n  padding-left: 2rem;\n"]))),Zn=(Cn.div(Kt||(Kt=z(["\n  width: 150px;\n  height: 30px;\n  margin: 5px auto;\n  background-color:transparent;\n  text-align:center;\n\n"]))),Cn.input(Wt||(Wt=z(["\n  width:70px;\n  height:20px;\n  margin-top:0px;\n  margin-left:180px;\n"]))),Cn.img(Ht||(Ht=z(["\n  width: 7%;\n  margin: 1rem auto;\n  transition:0.3s;\n  \n  &:hover {\n    -webkit-transform: scale(1.15);\n    -ms-transform: scale(1.15);\n    transform: scale(1.15);\n    background-color: #2E3562; \n    border-radius:10px;\n    \n  }\n"])))),er=Cn.div(Gt||(Gt=z(["\n  width: 50%;\n  margin: 1rem auto;\n  justify-content: center;\n  align-items: center;\n  text-align:center;\n"]))),tr=(Cn.p($t||($t=z(["\n  color:whitesmoke;\n  font-weight:lighter;\n  font-size:12px;\n  margin-top:-12px;\n  width: 370px;\n  background-color:transparent;\n  margin-left:-90px;\n  "]))),Cn.input(Qt||(Qt=z(["\n  width:77%;\n  height:35px;\n  margin-top:105px;\n  margin-left:45px;\n  border-radius:15px;\n  background-color:transparent;\n  border:0.001px solid whitesmoke;\n  "]))),Cn.button(Yt||(Yt=z(["\n  width: 80%;\n  height:35px;\n  padding: 3px 2px;\n  margin: 14px 39px auto;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-content: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n  transition:0.3s;\n  \n  &:hover {\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }"]))),Cn.div(Xt||(Xt=z(["\n  width: 440px;\n  height: 80px;\n  margin: 190px auto;\n  background-color:transparent;\n  text-align:center;\n"]))),Cn.div(Jt||(Jt=z(["\n  display:flex;\n  width: 400px;\n  height:220px;\n  margin: 0rem auto;\n  justify-content: center;\n  align-items: center;\n  background-color:transparent;\n"])))),nr=Cn.img(Zt||(Zt=z(["\n  width: 70%;\n  border-radius: 10%\n"]))),rr=Cn.p(en||(en=z(["\n  color:whitesmoke;\n  font-weight:lighter;\n  margin-top:0px;\n"]))),ir=Cn.div(tn||(tn=z(["\n  display:flex;\n  width:90%;\n  column-gap:30px;\n  margin: 1rem auto;\n  justify-content: center;\n  align-items: center;\n"]))),or=Cn.button(nn||(nn=z(["\n  border-radius:10px;\n  color:whitesmoke;\n  font-weight:lighter;\n  width:65px;\n  height:30px;\n  background-color:transparent;\n  border: 0.2px solid whitesmoke; \n  cursor: pointer;\n\n  &:hover {\n    border: solid 2px #7cb2e97e; \n  }\n\n  z-index:2;\n"]))),ar=(Cn.input(rn||(rn=z(["\n  width:75%;\n  height:30px;\n  margin-top:120px;\n  margin-left:50px;\n  border-radius:15px;\n  background-color:transparent;\n  border:0.001px solid whitesmoke;\n"]))),Cn.input(on||(on=z(["\n  width:75%;\n  margin-top:10px;\n  margin-left:50px;\n  padding: 0.5rem 2rem;\n  border-radius:15px;\n  background-color:transparent;\n  border:0.001px solid whitesmoke;\n"])))),sr=Cn.button(an||(an=z(["\n  width: 70%;\n  padding: 3px 2px;\n  margin: 0 auto;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-conent: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover {\n    -webkit-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n}\n"]))),ur=Cn.button(sn||(sn=z(["\n  width: 75%;\n  height:35px;\n  padding: 3px 2px;\n  margin: 140px 55px auto;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-content: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n  transition:0.3s;\n\n  &:hover {\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n"]))),cr=Cn.input(un||(un=z(["\n  width:80px;\n  height:30px;\n  margin-top:0px;\n  margin-left:0px;\n  border-radius:15px;\n  background-color:transparent;\n  border:none;\n  outline:none;\n  padding-top:10px;\n"]))),lr=Cn.div(cn||(cn=z(["\n  display:flex;\n  margin:1rem auto;\n  width:50%;\n  gap: 2rem;\n  justify-content:center;\n  align-items:center;\n"]))),hr=Cn.p(ln||(ln=z(["\n  color:whitesmoke;\n  font-weight:lighter;\n  margin-top:0px;\n"]))),fr=Cn.div(hn||(hn=z(["\n  display:flex;\n  margin-left:50px;\n  margin-top:10px;\n  border-radius:15px;\n  width:340px;\n  height:35px;\n  column-gap:50px;\n  background-color:transparent;\n  border: solid 2px #7cb2e97e; \n  \n  &:hover {\n    background-color: #2BE7E8;\n  }\n"]))),dr=Cn.h1(fn||(fn=z(["\n  font-size:18px;\n  margin-left:5px;\n  color:whitesmoke;\n  font-weight:lighter;\n  margin-top:5px;\n"]))),pr=Cn.iframe(dn||(dn=z(["\n  margin-left:0px;\n  width:400px;\n  height:215px;\n  border:none;\n"]))),gr=Cn.div(pn||(pn=z(["\n  display:flex;\n  width: 400px;\n  height:220px;\n  margin: 0rem auto;\n  justify-content: center;\n  align-items: center;\n  background-color:transparent;\n  border:none;\n"]))),vr=Cn.div(gn||(gn=z(["\n  display:flex;\n  width: 400px;\n  height:220px;\n  margin: 120px auto;\n  justify-content: center;\n  align-items: center;\n  background-color:#7cb2e97e;\n  border:none;\n  color:whitesmoke;\n  font-weight:lighter;\n"]))),mr=Cn.img(vn||(vn=z(["\n  width:20px;\n  height:20px;\n  border: 1px solid blue;\n  border-radius:50%;\n  margin-left:3px;\n"]))),yr=Cn.button(mn||(mn=z(["\n  width: 75%;\n  height:37px;\n  padding: 10px 0px 10px 0px;\n  margin: 70px 55px auto;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-content: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 18px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n  transition:0.3s;\n\n  &:hover {\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n"]))),_r=Cn.button(yn||(yn=z(["\n  width: 70%;\n  padding: 0.2rem 2rem;\n  margin-top: 3rem;\n  border-radius: 15px;\n  border: 1px solid #2BE7E8;\n  justify-content: center;\n  align-items: center;\n  background-color: #2BE7E8;\n  font-size: 18px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-decoration: none;\n  cursor: pointer;\n  transition:0.3s;\n\n  &:hover {\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n"]))),br=Cn.input(_n||(_n=z(["\n  padding-left:10px;\n  width:150%;\n  height:35px;\n  margin-top:20px;\n  margin-left:-110px;\n  border-radius:15px;\n  background-color:transparent;\n  border:0.001px solid whitesmoke;\n\n  ::-webkit-input-placeholder { color: whitesmoke; } \n  ::-moz-placeholder { color: whitesmoke; } \n  \n"]))),wr=Cn.img(bn||(bn=z(["\n  position:absolute;\n  width:29px;\n  height:29px;\n  left:28px;\n  top:2px;\n"]))),Er=Cn.input(wn||(wn=z(["\n  width:80px;\n  height:33px;\n  margin-left:22px;\n  border-radius:15px;\n  background-color:rgba(61, 46, 170, 0.6);\n  border:none;\n  outline:none;\n  text-align:end;\n  padding-right:5px; \n  ::-webkit-input-placeholder { color: whitesmoke; } \n::-moz-placeholder { color: whitesmoke; } \n"]))),Sr=Cn.div(En||(En=z(["\n  position:relative;\n"]))),Tr=Cn.div(Sn||(Sn=z(["\n  display:flex;\n  width:70%;\n  column-gap:5px;\n  margin: 1rem auto;\n  justify-content: center;\n  align-items: center;\n"]))),kr=Cn.img(Tn||(Tn=z(["\n  width: 15%;\n  border-radius:50%;\n  object-fit:cover;\n  background-color:transparent;\n"]))),Ir=Cn.p(kn||(kn=z(["\n  color:whitesmoke;\n  font-weight:lighter;\n  width:60px;\n  background-color:transparent;\n"]))),Cr=Cn.div(In||(In=z(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 0.5rem auto;\n  justify-content: center !important;\n  alig-items: center !important;\n"]))),xr=n(417);var Nr=function(){var e=L();return setTimeout((function(){return e("/welcome1")}),6e3),(0,xr.jsx)("div",{children:(0,xr.jsx)(Nn,{children:(0,xr.jsx)(xn,{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660057604/BuffaloApp/Logo_r0m9rs.png"})})})};function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr=function(e){return(0,xr.jsxs)("form",{onChange:function(t){e.loginSetUser(Or(Or({},e.loginUser),{},Ar({},t.target.name,t.target.value)))},children:[(0,xr.jsx)(Ln,{type:"email",placeholder:"Enter your email",name:"email",required:!0}),(0,xr.jsx)(Ln,{type:"password",placeholder:"Enter your password",name:"password",required:!0})]})};var Dr=function(e){return(0,xr.jsx)(An,{onClick:e.login,type:"button",children:"Login"})},Lr=n(761),Mr="8.10.1";Lr.default.registerVersion("firebase",Mr,"app"),Lr.default.SDK_VERSION=Mr;var jr=n(797),Fr=n(973),Ur=n(138),qr=function(e,t){return qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},qr(e,t)};function Br(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Vr,zr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Kr=Kr||{},Wr=zr||self;function Hr(){}function Gr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $r(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qr="closure_uid_"+(1e9*Math.random()>>>0),Yr=0;function Xr(e,t,n){return e.call.apply(e.bind,arguments)}function Jr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zr(e,t,n){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xr:Jr).apply(null,arguments)}function ei(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ti(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ni(){this.s=this.s,this.o=this.o}var ri={};ni.prototype.s=!1,ni.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qr)&&e[Qr]||(e[Qr]=++Yr)}(this);delete ri[e]}},ni.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ii=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},oi=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function ai(e){return Array.prototype.concat.apply([],arguments)}function si(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ui(e){return/^[\s\xa0]*$/.test(e)}var ci,li=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function hi(e,t){return-1!=e.indexOf(t)}function fi(e,t){return e<t?-1:e>t?1:0}e:{var di=Wr.navigator;if(di){var pi=di.userAgent;if(pi){ci=pi;break e}}ci=""}function gi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vi(e){var t={};for(var n in e)t[n]=e[n];return t}var mi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<mi.length;o++)n=mi[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _i(e){return _i[" "](e),e}_i[" "]=Hr;var bi,wi=hi(ci,"Opera"),Ei=hi(ci,"Trident")||hi(ci,"MSIE"),Si=hi(ci,"Edge"),Ti=Si||Ei,ki=hi(ci,"Gecko")&&!(hi(ci.toLowerCase(),"webkit")&&!hi(ci,"Edge"))&&!(hi(ci,"Trident")||hi(ci,"MSIE"))&&!hi(ci,"Edge"),Ii=hi(ci.toLowerCase(),"webkit")&&!hi(ci,"Edge");function Ci(){var e=Wr.document;return e?e.documentMode:void 0}e:{var xi="",Ni=function(){var e=ci;return ki?/rv:([^\);]+)(\)|;)/.exec(e):Si?/Edge\/([\d\.]+)/.exec(e):Ei?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ii?/WebKit\/(\S+)/.exec(e):wi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ni&&(xi=Ni?Ni[1]:""),Ei){var Ai=Ci();if(null!=Ai&&Ai>parseFloat(xi)){bi=String(Ai);break e}}bi=xi}var Pi,Oi={};function Ri(){return function(e){var t=Oi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=li(String(bi)).split("."),n=li("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=fi(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||fi(0==o[2].length,0==a[2].length)||fi(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Wr.document&&Ei){var Di=Ci();Pi=Di||(parseInt(bi,10)||void 0)}else Pi=void 0;var Li=Pi,Mi=function(){if(!Wr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wr.addEventListener("test",Hr,t),Wr.removeEventListener("test",Hr,t)}catch(n){}return e}();function ji(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fi(e,t){if(ji.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ki){e:{try{_i(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ui[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fi.Z.h.call(this)}}ji.prototype.h=function(){this.defaultPrevented=!0},ti(Fi,ji);var Ui={2:"touch",3:"pen",4:"mouse"};Fi.prototype.h=function(){Fi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qi="closure_listenable_"+(1e6*Math.random()|0),Bi=0;function Vi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Bi,this.ca=this.fa=!1}function zi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ki(e){this.src=e,this.g={},this.h=0}function Wi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ii(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(zi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Hi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Ki.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Hi(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Vi(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Gi="closure_lm_"+(1e6*Math.random()|0),$i={};function Qi(e,t,n,r,i){if(r&&r.once)return Xi(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Qi(e,t[o],n,r,i);return null}return n=io(n),e&&e[qi]?e.N(t,n,$r(r)?!!r.capture:!!r,i):Yi(e,t,n,!1,r,i)}function Yi(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=$r(i)?!!i.capture:!!i,s=no(e);if(s||(e[Gi]=s=new Ki(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=to;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mi||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xi(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xi(e,t[o],n,r,i);return null}return n=io(n),e&&e[qi]?e.O(t,n,$r(r)?!!r.capture:!!r,i):Yi(e,t,n,!0,r,i)}function Ji(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ji(e,t[o],n,r,i);else r=$r(r)?!!r.capture:!!r,n=io(n),e&&e[qi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Hi(o=e.g[t],n,r,i))&&(zi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=no(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Hi(t,n,r,i)),(n=-1<e?t[e]:null)&&Zi(n))}function Zi(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[qi])Wi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=no(t))?(Wi(n,e),0==n.h&&(n.src=null,t[Gi]=null)):zi(e)}}}function eo(e){return e in $i?$i[e]:$i[e]="on"+e}function to(e,t){if(e.ca)e=!0;else{t=new Fi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zi(e),e=n.call(r,t)}return e}function no(e){return(e=e[Gi])instanceof Ki?e:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(e){return"function"===typeof e?e:(e[ro]||(e[ro]=function(t){return e.handleEvent(t)}),e[ro])}function oo(){ni.call(this),this.i=new Ki(this),this.P=this,this.I=null}function ao(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ji(t,e);else if(t instanceof ji)t.target=t.target||e;else{var i=t;yi(t=new ji(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=so(a,r,!0,t)&&i}if(i=so(a=t.g=e,r,!0,t)&&i,i=so(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=so(a=t.g=n[o],r,!1,t)&&i}function so(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Wi(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ti(oo,ni),oo.prototype[qi]=!0,oo.prototype.removeEventListener=function(e,t,n,r){Ji(this,e,t,n,r)},oo.prototype.M=function(){if(oo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zi(n[r]);delete t.g[e],t.h--}}this.I=null},oo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},oo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uo=Wr.JSON.stringify;function co(){var e=yo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lo,ho=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=fo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),fo=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new po}),(function(e){return e.reset()})),po=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function go(e){Wr.setTimeout((function(){throw e}),0)}function vo(e,t){lo||function(){var e=Wr.Promise.resolve(void 0);lo=function(){e.then(_o)}}(),mo||(lo(),mo=!0),yo.add(e,t)}var mo=!1,yo=new ho;function _o(){for(var e;e=co();){try{e.h.call(e.g)}catch(n){go(n)}var t=fo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mo=!1}function bo(e,t){oo.call(this),this.h=e||1,this.g=t||Wr,this.j=Zr(this.kb,this),this.l=Date.now()}function wo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Eo(e,t,n){if("function"===typeof e)n&&(e=Zr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wr.setTimeout(e,t||0)}function So(e){e.g=Eo((function(){e.g=null,e.i&&(e.i=!1,So(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ti(bo,oo),(Vr=bo.prototype).da=!1,Vr.S=null,Vr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ao(this,"tick"),this.da&&(wo(this),this.start()))}},Vr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vr.M=function(){bo.Z.M.call(this),wo(this),delete this.g};var To=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}qr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:So(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Wr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ni);function ko(e){ni.call(this),this.h=e,this.g={}}ti(ko,ni);var Io=[];function Co(e,t,n,r){Array.isArray(n)||(n&&(Io[0]=n.toString()),n=Io);for(var i=0;i<n.length;i++){var o=Qi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function xo(e){gi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zi(e)}),e),e.g={}}function No(){this.g=!0}function Ao(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return uo(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ko.prototype.M=function(){ko.Z.M.call(this),xo(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},No.prototype.Aa=function(){this.g=!1},No.prototype.info=function(){};var Po={},Oo=null;function Ro(){return Oo=Oo||new oo}function Do(e){ji.call(this,Po.Ma,e)}function Lo(e){var t=Ro();ao(t,new Do(t,e))}function Mo(e,t){ji.call(this,Po.STAT_EVENT,e),this.stat=t}function jo(e){var t=Ro();ao(t,new Mo(t,e))}function Fo(e,t){ji.call(this,Po.Na,e),this.size=t}function Uo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wr.setTimeout((function(){e()}),t)}Po.Ma="serverreachability",ti(Do,ji),Po.STAT_EVENT="statevent",ti(Mo,ji),Po.Na="timingevent",ti(Fo,ji);var qo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vo(){}function zo(e){return e.h||(e.h=e.i())}function Ko(){}Vo.prototype.h=null;var Wo,Ho={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Go(){ji.call(this,"d")}function $o(){ji.call(this,"c")}function Qo(){}function Yo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ko(this),this.P=Jo,e=Ti?125:void 0,this.W=new bo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xo}function Xo(){this.i=null,this.g="",this.h=!1}ti(Go,ji),ti($o,ji),ti(Qo,Vo),Qo.prototype.g=function(){return new XMLHttpRequest},Qo.prototype.i=function(){return{}},Wo=new Qo;var Jo=45e3,Zo={},ea={};function ta(e,t,n){e.K=1,e.v=Ta(ya(t)),e.s=n,e.U=!0,na(e,null)}function na(e,t){e.F=Date.now(),aa(e),e.A=ya(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ja(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Xo,e.g=Us(e.l,n?t:null,!e.s),0<e.O&&(e.L=new To(Zr(e.Ia,e,e.g),e.O)),Co(e.V,e.g,"readystatechange",e.gb),t=e.H?vi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Lo(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ra(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ia(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=oa(e,n))==ea){4==t&&(e.o=4,jo(14),i=!1),Ao(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zo){e.o=4,jo(15),Ao(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ao(e.j,e.m,r,null),ha(e,r)}ra(e)&&r!=ea&&r!=Zo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,jo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ps(t),t.L=!0,jo(11))):(Ao(e.j,e.m,n,"[Invalid Chunked Response]"),la(e),ca(e))}function oa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ea:(n=Number(t.substring(n,r)),isNaN(n)?Zo:(r+=1)+n>t.length?ea:(t=t.substr(r,n),e.C=r+n,t))}function aa(e){e.Y=Date.now()+e.P,sa(e,e.P)}function sa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Uo(Zr(e.eb,e),t)}function ua(e){e.B&&(Wr.clearTimeout(e.B),e.B=null)}function ca(e){0==e.l.G||e.I||Ds(e.l,e)}function la(e){ua(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,wo(e.W),xo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ha(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wa(n.i,e)))if(n.I=e.N,!e.J&&Wa(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Rs(n),Es(n)}As(n),jo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Uo(Zr(n.ab,n),6e3));if(1>=Ka(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Ms(n,11)}else if((e.J||n.g==e)&&Rs(n),!ui(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(hi(l,"spdy")||hi(l,"quic")||hi(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ha(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Sa(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Fs(r,r.H?r.la:null,r.W),d.J){Ga(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(ua(p),aa(p)),r.g=d}else Ns(r);0<n.l.length&&ks(n)}else"stop"!=o[0]&&"close"!=o[0]||Ms(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ms(n,7):ws(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Lo(4)}catch(o){}}function fa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gr(e)||"string"===typeof e)oi(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Gr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function da(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof da)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pa(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ga(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ga(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ga(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Vr=Yo.prototype).setTimeout=function(e){this.P=e},Vr.gb=function(e){e=e.target;var t=this.L;t&&3==vs(e)?t.l():this.Ia(e)},Vr.Ia=function(e){try{if(e==this.g)e:{var t=vs(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ti||this.g&&(this.h.h||this.g.ga()||ms(this.g)))){this.I||4!=t||7==n||Lo(8==n||0>=r?3:2),ua(this);var i=this.g.ba();this.N=i;t:if(ra(this)){var o=ms(this.g);e="";var a=o.length,s=4==vs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){la(this),ca(this);var u="";break t}this.h.i=new Wr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ui(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,jo(12),la(this),ca(this);break e}Ao(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ha(this,i)}this.U?(ia(this,t,u),Ti&&this.i&&3==t&&(Co(this.V,this.W,"tick",this.fb),this.W.start())):(Ao(this.j,this.m,u,null),ha(this,u)),4==t&&la(this),this.i&&!this.I&&(4==t?Ds(this.l,this):(this.i=!1,aa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,jo(12)):(this.o=0,jo(13)),la(this),ca(this)}}}catch(t){}},Vr.fb=function(){if(this.g){var e=vs(this.g),t=this.g.ga();this.C<t.length&&(ua(this),ia(this,e,t),this.i&&4!=e&&aa(this))}},Vr.cancel=function(){this.I=!0,la(this)},Vr.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Lo(3),jo(17)),la(this),this.o=2,ca(this)):sa(this,this.Y-e)},(Vr=da.prototype).R=function(){pa(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Vr.T=function(){return pa(this),this.g.concat()},Vr.get=function(e,t){return ga(this.h,e)?this.h[e]:t},Vr.set=function(e,t){ga(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Vr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var va=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ma(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ma){this.g=void 0!==t?t:e.g,_a(this,e.j),this.s=e.s,ba(this,e.i),wa(this,e.m),this.l=e.l,t=e.h;var n=new Ra;n.i=t.i,t.g&&(n.g=new da(t.g),n.h=t.h),Ea(this,n),this.o=e.o}else e&&(n=String(e).match(va))?(this.g=!!t,_a(this,n[1]||"",!0),this.s=ka(n[2]||""),ba(this,n[3]||"",!0),wa(this,n[4]),this.l=ka(n[5]||"",!0),Ea(this,n[6]||"",!0),this.o=ka(n[7]||"")):(this.g=!!t,this.h=new Ra(null,this.g))}function ya(e){return new ma(e)}function _a(e,t,n){e.j=n?ka(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ba(e,t,n){e.i=n?ka(t,!0):t}function wa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ea(e,t,n){t instanceof Ra?(e.h=t,function(e,t){t&&!e.j&&(Da(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(La(this,t),ja(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ia(t,Pa)),e.h=new Ra(t,e.g))}function Sa(e,t,n){e.h.set(t,n)}function Ta(e){return Sa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ka(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ia(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ca),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ca(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ma.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ia(t,xa,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ia(t,xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ia(n,"/"==n.charAt(0)?Aa:Na,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ia(n,Oa)),e.join("")};var xa=/[#\/\?@]/g,Na=/[#\?:]/g,Aa=/[#\?]/g,Pa=/[#\?@]/g,Oa=/#/g;function Ra(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Da(e){e.g||(e.g=new da,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function La(e,t){Da(e),t=Fa(e,t),ga(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ga((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&pa(e)))}function Ma(e,t){return Da(e),t=Fa(e,t),ga(e.g.h,t)}function ja(e,t,n){La(e,t),0<n.length&&(e.i=null,e.g.set(Fa(e,t),si(n)),e.h+=n.length)}function Fa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vr=Ra.prototype).add=function(e,t){Da(this),this.i=null,e=Fa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vr.forEach=function(e,t){Da(this),this.g.forEach((function(n,r){oi(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Vr.T=function(){Da(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Vr.R=function(e){Da(this);var t=[];if("string"===typeof e)Ma(this,e)&&(t=ai(t,this.g.get(Fa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ai(t,e[n])}return t},Vr.set=function(e,t){return Da(this),this.i=null,Ma(this,e=Fa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Vr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Ua=function(e,t){this.h=e,this.g=t};function qa(e){this.l=e||Va,Wr.PerformanceNavigationTiming?e=0<(e=Wr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wr.g&&Wr.g.Ea&&Wr.g.Ea()&&Wr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ba,Va=10;function za(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ka(e){return e.h?1:e.g?e.g.size:0}function Wa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ha(e,t){e.g?e.g.add(t):e.h=t}function Ga(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $a(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Br(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return si(e.i)}function Qa(){}function Ya(){this.g=new Qa}function Xa(e,t,n){var r=n||"";try{fa(e,(function(e,n){var i=e;$r(e)&&(i=uo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(_y){throw t.push(r+"type="+encodeURIComponent("_badmap")),_y}}function Ja(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Za(e){this.l=e.$b||null,this.j=e.ib||!1}function es(e,t){oo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ts,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qa.prototype.cancel=function(){var e,t;if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Br(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Qa.prototype.stringify=function(e){return Wr.JSON.stringify(e,void 0)},Qa.prototype.parse=function(e){return Wr.JSON.parse(e,void 0)},ti(Za,Vo),Za.prototype.g=function(){return new es(this.l,this.j)},Za.prototype.i=(Ba={},function(){return Ba}),ti(es,oo);var ts=0;function ns(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function rs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,is(e)}function is(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vr=es.prototype).open=function(e,t){if(this.readyState!=ts)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,is(this)},Vr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Vr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rs(this)),this.readyState=ts},Vr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Wr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ns(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Vr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rs(this):is(this),3==this.readyState&&ns(this)}},Vr.Ua=function(e){this.g&&(this.response=this.responseText=e,rs(this))},Vr.Ta=function(e){this.g&&(this.response=e,rs(this))},Vr.ha=function(){this.g&&rs(this)},Vr.setRequestHeader=function(e,t){this.v.append(e,t)},Vr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(es.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var os=Wr.JSON.parse;function as(e){oo.call(this),this.headers=new da,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ss,this.K=this.L=!1}ti(as,oo);var ss="",us=/^https?$/i,cs=["POST","PUT"];function ls(e){return"content-type"==e.toLowerCase()}function hs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fs(e),ps(e)}function fs(e){e.D||(e.D=!0,ao(e,"complete"),ao(e,"error"))}function ds(e){if(e.h&&"undefined"!=typeof Kr&&(!e.C[1]||4!=vs(e)||2!=e.ba()))if(e.v&&4==vs(e))Eo(e.Fa,0,e);else if(ao(e,"readystatechange"),4==vs(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(va)[1]||null;if(!o&&Wr.self&&Wr.self.location){var a=Wr.self.location.protocol;o=a.substr(0,a.length-1)}i=!us.test(o?o.toLowerCase():"")}t=i}if(t)ao(e,"complete"),ao(e,"success");else{e.m=6;try{var s=2<vs(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",fs(e)}}finally{ps(e)}}}function ps(e,t){if(e.g){gs(e);var n=e.g,r=e.C[0]?Hr:null;e.g=null,e.C=null,t||ao(e,"ready");try{n.onreadystatechange=r}catch(_y){}}}function gs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wr.clearTimeout(e.A),e.A=null)}function vs(e){return e.g?e.g.readyState:0}function ms(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ss:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(oe){return null}}function ys(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return gi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Sa(e,t,n))}function _s(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bs(e){this.za=0,this.l=[],this.h=new No,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_s("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_s("baseRetryDelayMs",5e3,e),this.$a=_s("retryDelaySeedMs",1e4,e),this.Ya=_s("forwardChannelMaxRetries",2,e),this.ra=_s("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new qa(e&&e.concurrentRequestLimit),this.Ca=new Ya,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ws(e){if(Ss(e),3==e.G){var t=e.V++,n=ya(e.F);Sa(n,"SID",e.J),Sa(n,"RID",t),Sa(n,"TYPE","terminate"),Cs(e,n),(t=new Yo(e,e.h,t,void 0)).K=2,t.v=Ta(ya(n)),n=!1,Wr.navigator&&Wr.navigator.sendBeacon&&(n=Wr.navigator.sendBeacon(t.v.toString(),"")),!n&&Wr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Us(t.l,null),t.g.ea(t.v)),t.F=Date.now(),aa(t)}js(e)}function Es(e){e.g&&(Ps(e),e.g.cancel(),e.g=null)}function Ss(e){Es(e),e.u&&(Wr.clearTimeout(e.u),e.u=null),Rs(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wr.clearTimeout(e.m),e.m=null)}function Ts(e,t){e.l.push(new Ua(e.Za++,t)),3==e.G&&ks(e)}function ks(e){za(e.i)||e.m||(e.m=!0,vo(e.Ha,e),e.C=0)}function Is(e,t){var n;n=t?t.m:e.V++;var r=ya(e.F);Sa(r,"SID",e.J),Sa(r,"RID",n),Sa(r,"AID",e.U),Cs(e,r),e.o&&e.s&&ys(r,e.o,e.s),n=new Yo(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xs(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ha(e.i,n),ta(n,r,t)}function Cs(e,t){e.j&&fa({},(function(e,n){Sa(t,n,e)}))}function xs(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zr(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Xa(l,a,"req"+c+"_")}catch(_e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ns(e){e.g||e.u||(e.Y=1,vo(e.Ga,e),e.A=0)}function As(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Uo(Zr(e.Ga,e),Ls(e,e.A)),e.A++,!0)}function Ps(e){null!=e.B&&(Wr.clearTimeout(e.B),e.B=null)}function Os(e){e.g=new Yo(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ya(e.oa);Sa(t,"RID","rpc"),Sa(t,"SID",e.J),Sa(t,"CI",e.N?"0":"1"),Sa(t,"AID",e.U),Cs(e,t),Sa(t,"TYPE","xmlhttp"),e.o&&e.s&&ys(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ta(ya(t)),n.s=null,n.U=!0,na(n,e)}function Rs(e){null!=e.v&&(Wr.clearTimeout(e.v),e.v=null)}function Ds(e,t){var n=null;if(e.g==t){Rs(e),Ps(e),e.g=null;var r=2}else{if(!Wa(e.i,t))return;n=t.D,Ga(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ao(r=Ro(),new Fo(r,n,t,i)),ks(e)}else Ns(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ka(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Uo(Zr(e.Ha,e,t),Ls(e,e.C)),e.C++,!0))}(e,t)||2==r&&As(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ms(e,5);break;case 4:Ms(e,10);break;case 3:Ms(e,6);break;default:Ms(e,2)}}function Ls(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ms(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zr(e.jb,e);n||(n=new ma("//www.google.com/images/cleardot.gif"),Wr.location&&"http"==Wr.location.protocol||_a(n,"https"),Ta(n)),function(e,t){var n=new No;if(Wr.Image){var r=new Image;r.onload=ei(Ja,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ei(Ja,n,r,"TestLoadImage: error",!1,t),r.onabort=ei(Ja,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ei(Ja,n,r,"TestLoadImage: timeout",!1,t),Wr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else jo(2);e.G=0,e.j&&e.j.va(t),js(e),Ss(e)}function js(e){e.G=0,e.I=-1,e.j&&(0==$a(e.i).length&&0==e.l.length||(e.i.i.length=0,si(e.l),e.l.length=0),e.j.ua())}function Fs(e,t,n){var r=function(e){return e instanceof ma?ya(e):new ma(e,void 0)}(n);if(""!=r.i)t&&ba(r,t+"."+r.i),wa(r,r.m);else{var i=Wr.location;r=function(e,t,n,r){var i=new ma(null,void 0);return e&&_a(i,e),t&&ba(i,t),n&&wa(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&gi(e.aa,(function(e,t){Sa(r,t,e)})),t=e.D,n=e.sa,t&&n&&Sa(r,t,n),Sa(r,"VER",e.ma),Cs(e,r),r}function Us(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new as(new Za({ib:!0})):new as(e.qa)).L=e.H,t}function qs(){}function Bs(){if(Ei&&!(10<=Number(Li)))throw Error("Environmental error: no available transport.")}function Vs(e,t){oo.call(this),this.g=new bs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ui(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ui(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ws(this)}function zs(e){Go.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ks(){$o.call(this),this.status=1}function Ws(e){this.g=e}(Vr=as.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wo.g(),this.C=this.u?zo(this.u):zo(Wo),this.g.onreadystatechange=Zr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void hs(this,o)}e=n||"";var i=new da(this.headers);r&&fa(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ls,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Wr.FormData&&e instanceof Wr.FormData,!(0<=ii(cs,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gs(this),0<this.B&&((this.K=function(e){return Ei&&Ri()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.pa,this)):this.A=Eo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){hs(this,o)}},Vr.pa=function(){"undefined"!=typeof Kr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ao(this,"timeout"),this.abort(8))},Vr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ao(this,"complete"),ao(this,"abort"),ps(this))},Vr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ps(this,!0)),as.Z.M.call(this)},Vr.Fa=function(){this.s||(this.F||this.v||this.l?ds(this):this.cb())},Vr.cb=function(){ds(this)},Vr.ba=function(){try{return 2<vs(this)?this.g.status:-1}catch(Ba){return-1}},Vr.ga=function(){try{return this.g?this.g.responseText:""}catch(Ba){return""}},Vr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),os(t)}},Vr.Da=function(){return this.m},Vr.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vr=bs.prototype).ma=8,Vr.G=1,Vr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(oe){}},Vr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Yo(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yi(n=vi(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xs(this,t,r),Sa(i=ya(this.F),"RID",e),Sa(i,"CVER",22),this.D&&Sa(i,"X-HTTP-Session-Id",this.D),Cs(this,i),this.o&&n&&ys(i,this.o,n),Ha(this.i,t),this.Ra&&Sa(i,"TYPE","init"),this.ja?(Sa(i,"$req",r),Sa(i,"SID","null"),t.$=!0,ta(t,i,null)):ta(t,i,r),this.G=2}}else 3==this.G&&(e?Is(this,e):0==this.l.length||za(this.i)||Is(this))},Vr.Ga=function(){if(this.u=null,Os(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Uo(Zr(this.bb,this),e)}},Vr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jo(10),Es(this),Os(this))},Vr.ab=function(){null!=this.v&&(this.v=null,Es(this),As(this),jo(19))},Vr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),jo(2)):(this.h.info("Failed to ping google.com"),jo(1))},(Vr=qs.prototype).xa=function(){},Vr.wa=function(){},Vr.va=function(){},Vr.ua=function(){},Vr.Oa=function(){},Bs.prototype.g=function(e,t){return new Vs(e,t)},ti(Vs,oo),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),vo(Zr(e.hb,e,t))),jo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fs(e,null,e.W),ks(e)},Vs.prototype.close=function(){ws(this.g)},Vs.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ts(this.g,t)}else this.v?((t={}).__data__=uo(e),Ts(this.g,t)):Ts(this.g,e)},Vs.prototype.M=function(){this.g.j=null,delete this.j,ws(this.g),delete this.g,Vs.Z.M.call(this)},ti(zs,Go),ti(Ks,$o),ti(Ws,qs),Ws.prototype.xa=function(){ao(this.g,"a")},Ws.prototype.wa=function(e){ao(this.g,new zs(e))},Ws.prototype.va=function(e){ao(this.g,new Ks(e))},Ws.prototype.ua=function(){ao(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,Bo.COMPLETE="complete",Ko.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",oo.prototype.listen=oo.prototype.N,as.prototype.listenOnce=as.prototype.O,as.prototype.getLastError=as.prototype.La,as.prototype.getLastErrorCode=as.prototype.Da,as.prototype.getStatus=as.prototype.ba,as.prototype.getResponseJson=as.prototype.Qa,as.prototype.getResponseText=as.prototype.ga,as.prototype.send=as.prototype.ea;var Hs=function(){return new Bs},Gs=function(){return Ro()},$s=qo,Qs=Bo,Ys=Po,Xs={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Js=Za,Zs=Ko,eu=as,tu=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();tu.o=-1;var nu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ru=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,jr.__extends)(t,e),t}(Error),iu=new Ur.Logger("@firebase/firestore");function ou(){return iu.logLevel}function au(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(iu.logLevel<=Ur.LogLevel.DEBUG){var r=t.map(cu);iu.debug.apply(iu,(0,jr.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function su(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(iu.logLevel<=Ur.LogLevel.ERROR){var r=t.map(cu);iu.error.apply(iu,(0,jr.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function uu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(iu.logLevel<=Ur.LogLevel.WARN){var r=t.map(cu);iu.warn.apply(iu,(0,jr.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function cu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function lu(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw su(t),new Error(t)}function hu(e,t){e||lu()}function fu(e,t){return e}function du(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var pu=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=du(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function gu(e,t){return e<t?-1:e>t?1:0}function vu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mu(e){return e+"\0"}var yu=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ru(nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ru(nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ru(nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ru(nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?gu(this.nanoseconds,e.nanoseconds):gu(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_u=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new yu(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function bu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Eu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Su=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&lu(),void 0===n?n=e.length-t:n>e.length-t&&lu(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ru(nu.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Su),ku=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ku.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ru(nu.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ru(nu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ru(nu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ru(nu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Su),Cu=function(){function e(e){this.fields=e,e.sort(Iu.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return vu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),xu=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return gu(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();xu.EMPTY_BYTE_STRING=new xu("");var Nu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Au(e){if(hu(!!e),"string"==typeof e){var t=0,n=Nu.exec(e);if(hu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pu(e.seconds),nanos:Pu(e.nanos)}}function Pu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ou(e){return"string"==typeof e?xu.fromBase64String(e):xu.fromUint8Array(e)}function Ru(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Du(e){var t=e.mapValue.fields.__previous_value__;return Ru(t)?Du(t):t}function Lu(e){var t=Au(e.mapValue.fields.__local_write_time__.timestampValue);return new yu(t.seconds,t.nanos)}function Mu(e){return null==e}function ju(e){return 0===e&&1/e==-1/0}function Fu(e){return"number"==typeof e&&Number.isInteger(e)&&!ju(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Uu=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Tu.fromString(t))},e.fromName=function(t){return new e(Tu.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Tu.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Tu.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Tu(t.slice()))},e}();function qu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ru(e)?4:10:lu()}function Bu(e,t){var n=qu(e);if(n!==qu(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lu(e).isEqual(Lu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Au(e.timestampValue),r=Au(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ou(e.bytesValue).isEqual(Ou(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pu(e.geoPointValue.latitude)===Pu(t.geoPointValue.latitude)&&Pu(e.geoPointValue.longitude)===Pu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pu(e.integerValue)===Pu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Pu(e.doubleValue),r=Pu(t.doubleValue);return n===r?ju(n)===ju(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vu(e.arrayValue.values||[],t.arrayValue.values||[],Bu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bu(n)!==bu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bu(n[i],r[i])))return!1;return!0}(e,t);default:return lu()}}function Vu(e,t){return void 0!==(e.values||[]).find((function(e){return Bu(e,t)}))}function zu(e,t){var n=qu(e),r=qu(t);if(n!==r)return gu(n,r);switch(n){case 0:return 0;case 1:return gu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Pu(e.integerValue||e.doubleValue),r=Pu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ku(e.timestampValue,t.timestampValue);case 4:return Ku(Lu(e),Lu(t));case 5:return gu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ou(e),r=Ou(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gu(n[i],r[i]);if(0!==o)return o}return gu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gu(Pu(e.latitude),Pu(t.latitude));return 0!==n?n:gu(Pu(e.longitude),Pu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=zu(n[i],r[i]);if(o)return o}return gu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=gu(r[a],o[a]);if(0!==s)return s;var u=zu(n[r[a]],i[o[a]]);if(0!==u)return u}return gu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw lu()}}function Ku(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gu(e,t);var n=Au(e),r=Au(t),i=gu(n.seconds,r.seconds);return 0!==i?i:gu(n.nanos,r.nanos)}function Wu(e){return Hu(e)}function Hu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Au(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ou(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Uu.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Hu(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Hu(e.fields[o])}return t+"}"}(e.mapValue):lu();var t,n}function Gu(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function $u(e){return!!e&&"integerValue"in e}function Qu(e){return!!e&&"arrayValue"in e}function Yu(e){return!!e&&"nullValue"in e}function Xu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ju(e){return!!e&&"mapValue"in e}function Zu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return wu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Zu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Zu(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ec=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ju(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(t)},e.prototype.setAll=function(e){var t=this,n=Iu.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Zu(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ju(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Bu(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ju(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){wu(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Zu(this.value))},e}();function tc(e){var t=[];return wu(e.fields,(function(e,n){var r=new Iu([e]);if(Ju(n)){var i=tc(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Cu(t)}var nc=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,_u.min(),ec.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ec.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ec.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ec.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ec.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),rc=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ic(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new rc(e,t,n,r,i,o,a)}function oc(e){var t=fu(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Wu(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Mu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=yc(t.startAt)),t.endAt&&(n+="|ub:",n+=yc(t.endAt)),t.h=n}return t.h}function ac(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!bc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Bu(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ec(e.startAt,t.startAt)&&Ec(e.endAt,t.endAt)}function sc(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var uc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,jr.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new cc(e,n,r):"array-contains"===n?new dc(e,r):"in"===n?new pc(e,r):"not-in"===n?new gc(e,r):"array-contains-any"===n?new vc(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new lc(e,n):new hc(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(zu(t,this.value)):null!==t&&qu(this.value)===qu(t)&&this.m(zu(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lu()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),cc=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Uu.fromName(r.referenceValue),i}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){var t=Uu.comparator(e.key,this.key);return this.m(t)},t}(uc),lc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=fc("in",n),r}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(uc),hc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=fc("not-in",n),r}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(uc);function fc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Uu.fromName(e.referenceValue)}))}var dc=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Qu(t)&&Vu(t.arrayValue,this.value)},t}(uc),pc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Vu(this.value.arrayValue,t)},t}(uc),gc=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vu(this.value.arrayValue,t)},t}(uc),vc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,jr.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Qu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vu(t.value.arrayValue,e)}))},t}(uc),mc=function(e,t){this.position=e,this.before=t};function yc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Wu(e)})).join(",")}var _c=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function bc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Uu.comparator(Uu.fromName(a.referenceValue),n.key):zu(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ec(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Bu(e.position[n],t.position[n]))return!1;return!0}var Sc=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Tc(e,t,n,r,i,o,a,s){return new Sc(e,t,n,r,i,o,a,s)}function kc(e){return new Sc(e)}function Ic(e){return!Mu(e.limit)&&"F"===e.limitType}function Cc(e){return!Mu(e.limit)&&"L"===e.limitType}function xc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Nc(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ac(e){return null!==e.collectionGroup}function Pc(e){var t=fu(e);if(null===t.p){t.p=[];var n=Nc(t),r=xc(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new _c(n)),t.p.push(new _c(Iu.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new _c(Iu.keyField(),u))}}}return t.p}function Oc(e){var t=fu(e);if(!t.T)if("F"===t.limitType)t.T=ic(t.path,t.collectionGroup,Pc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Pc(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new _c(o.field,a))}var s=t.endAt?new mc(t.endAt.position,!t.endAt.before):null,u=t.startAt?new mc(t.startAt.position,!t.startAt.before):null;t.T=ic(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Rc(e,t,n){return new Sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dc(e,t){return ac(Oc(e),Oc(t))&&e.limitType===t.limitType}function Lc(e){return oc(Oc(e))+"|lt:"+e.limitType}function Mc(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Wu(t.value);var t})).join(", ")+"]"),Mu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+yc(e.startAt)),e.endAt&&(t+=", endAt: "+yc(e.endAt)),"Target("+t+")"}(Oc(e))+"; limitType="+e.limitType+")"}function jc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Uu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!wc(e.startAt,Pc(e),t))&&(!e.endAt||!wc(e.endAt,Pc(e),t))}(e,t)}function Fc(e){return function(t,n){for(var r=!1,i=0,o=Pc(e);i<o.length;i++){var a=o[i],s=Uc(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Uc(e,t,n){var r=e.field.isKeyField()?Uu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zu(r,i):lu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lu()}}function qc(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(t)?"-0":t}}function Bc(e){return{integerValue:""+e}}function Vc(e,t){return Fu(t)?Bc(t):qc(e,t)}var zc=function(){this._=void 0};function Kc(e,t,n){return e instanceof Gc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $c?Qc(e,t):e instanceof Yc?Xc(e,t):function(e,t){var n=Hc(e,t),r=Zc(n)+Zc(e.A);return $u(n)&&$u(e.A)?Bc(r):qc(e.R,r)}(e,t)}function Wc(e,t,n){return e instanceof $c?Qc(e,t):e instanceof Yc?Xc(e,t):n}function Hc(e,t){return e instanceof Jc?$u(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t}(zc),$c=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,jr.__extends)(t,e),t}(zc);function Qc(e,t){for(var n=el(t),r=function(e){n.some((function(t){return Bu(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,jr.__extends)(t,e),t}(zc);function Xc(e,t){for(var n=el(t),r=function(e){n=n.filter((function(t){return!Bu(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Jc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,jr.__extends)(t,e),t}(zc);function Zc(e){return Pu(e.integerValue||e.doubleValue)}function el(e){return Qu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tl=function(e,t){this.field=e,this.transform=t},nl=function(e,t){this.version=e,this.transformResults=t},rl=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function il(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ol=function(){};function al(e,t,n){e instanceof hl?function(e,t,n){var r=e.value.clone(),i=pl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fl?function(e,t,n){if(il(e.precondition,t)){var r=pl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sl(e,t,n){e instanceof hl?function(e,t,n){if(il(e.precondition,t)){var r=e.value.clone(),i=gl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ll(t),r).setHasLocalMutations()}}(e,t,n):e instanceof fl?function(e,t,n){if(il(e.precondition,t)){var r=gl(e.fieldTransforms,n,t),i=t.data;i.setAll(dl(e)),i.setAll(r),t.convertToFoundDocument(ll(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){il(e.precondition,t)&&t.convertToNoDocument(_u.min())}(e,t)}function ul(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Hc(o.transform,a||null);null!=s&&(null==n&&(n=ec.empty()),n.set(o.field,s))}return n||null}function cl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $c&&t instanceof $c||e instanceof Yc&&t instanceof Yc?vu(e.elements,t.elements,Bu):e instanceof Jc&&t instanceof Jc?Bu(e.A,t.A):e instanceof Gc&&t instanceof Gc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ll(e){return e.isFoundDocument()?e.version:_u.min()}var hl=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,jr.__extends)(t,e),t}(ol),fl=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,jr.__extends)(t,e),t}(ol);function dl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pl(e,t,n){var r=new Map;hu(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Wc(a,s,n[i]))}return r}function gl(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Kc(s,u,t))}return r}var vl,ml,yl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,jr.__extends)(t,e),t}(ol),_l=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,jr.__extends)(t,e),t}(ol),bl=function(e){this.count=e};function wl(e){switch(e){case nu.OK:return lu();case nu.CANCELLED:case nu.UNKNOWN:case nu.DEADLINE_EXCEEDED:case nu.RESOURCE_EXHAUSTED:case nu.INTERNAL:case nu.UNAVAILABLE:case nu.UNAUTHENTICATED:return!1;case nu.INVALID_ARGUMENT:case nu.NOT_FOUND:case nu.ALREADY_EXISTS:case nu.PERMISSION_DENIED:case nu.FAILED_PRECONDITION:case nu.ABORTED:case nu.OUT_OF_RANGE:case nu.UNIMPLEMENTED:case nu.DATA_LOSS:return!0;default:return lu()}}function El(e){if(void 0===e)return su("GRPC error has no .code"),nu.UNKNOWN;switch(e){case vl.OK:return nu.OK;case vl.CANCELLED:return nu.CANCELLED;case vl.UNKNOWN:return nu.UNKNOWN;case vl.DEADLINE_EXCEEDED:return nu.DEADLINE_EXCEEDED;case vl.RESOURCE_EXHAUSTED:return nu.RESOURCE_EXHAUSTED;case vl.INTERNAL:return nu.INTERNAL;case vl.UNAVAILABLE:return nu.UNAVAILABLE;case vl.UNAUTHENTICATED:return nu.UNAUTHENTICATED;case vl.INVALID_ARGUMENT:return nu.INVALID_ARGUMENT;case vl.NOT_FOUND:return nu.NOT_FOUND;case vl.ALREADY_EXISTS:return nu.ALREADY_EXISTS;case vl.PERMISSION_DENIED:return nu.PERMISSION_DENIED;case vl.FAILED_PRECONDITION:return nu.FAILED_PRECONDITION;case vl.ABORTED:return nu.ABORTED;case vl.OUT_OF_RANGE:return nu.OUT_OF_RANGE;case vl.UNIMPLEMENTED:return nu.UNIMPLEMENTED;case vl.DATA_LOSS:return nu.DATA_LOSS;default:return lu()}}(ml=vl||(vl={}))[ml.OK=0]="OK",ml[ml.CANCELLED=1]="CANCELLED",ml[ml.UNKNOWN=2]="UNKNOWN",ml[ml.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ml[ml.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ml[ml.NOT_FOUND=5]="NOT_FOUND",ml[ml.ALREADY_EXISTS=6]="ALREADY_EXISTS",ml[ml.PERMISSION_DENIED=7]="PERMISSION_DENIED",ml[ml.UNAUTHENTICATED=16]="UNAUTHENTICATED",ml[ml.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ml[ml.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ml[ml.ABORTED=10]="ABORTED",ml[ml.OUT_OF_RANGE=11]="OUT_OF_RANGE",ml[ml.UNIMPLEMENTED=12]="UNIMPLEMENTED",ml[ml.INTERNAL=13]="INTERNAL",ml[ml.UNAVAILABLE=14]="UNAVAILABLE",ml[ml.DATA_LOSS=15]="DATA_LOSS";var Sl=function(){function e(e,t){this.comparator=e,this.root=t||kl.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kl.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kl.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Tl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Tl(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Tl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Tl(this.root,e,this.comparator,!0)},e}(),Tl=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),kl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw lu();if(this.right.isRed())throw lu();var e=this.left.check();if(e!==this.right.check())throw lu();return e+(this.isRed()?0:1)},e}();kl.EMPTY=null,kl.RED=!0,kl.BLACK=!1,kl.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw lu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw lu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw lu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw lu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw lu()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new kl(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Il=function(){function e(e){this.comparator=e,this.data=new Sl(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Cl(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Cl(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Cl=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),xl=new Sl(Uu.comparator);function Nl(){return xl}var Al=new Sl(Uu.comparator);function Pl(){return Al}var Ol=new Sl(Uu.comparator);function Rl(){return Ol}var Dl=new Il(Uu.comparator);function Ll(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Dl,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ml=new Il(gu);function jl(){return Ml}var Fl=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_u.min(),r,jl(),Nl(),Ll())},e}(),Ul=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(xu.EMPTY_BYTE_STRING,n,Ll(),Ll(),Ll())},e}(),ql=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Bl=function(e,t){this.targetId=e,this.V=t},Vl=function(e,t,n,r){void 0===n&&(n=xu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},zl=function(){function e(){this.S=0,this.D=Hl(),this.C=xu.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ll(),t=Ll(),n=Ll();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lu()}})),new Ul(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Hl()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Kl=function(){function e(e){this.W=e,this.G=new Map,this.H=Nl(),this.J=Wl(),this.Y=new Il(gu)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:lu()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(sc(i))if(0===n){var o=new Uu(i.path);this.tt(t,o,nc.newNoDocument(o,_u.min()))}else hu(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&sc(o.target)){var a=new Uu(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,nc.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ll();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Fl(e,n,this.Y,this.H,r);return this.H=Nl(),this.J=Wl(),this.Y=new Il(gu),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new zl,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Il(gu),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||au("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new zl),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Wl(){return new Sl(Uu.comparator)}function Hl(){return new Sl(Uu.comparator)}var Gl={asc:"ASCENDING",desc:"DESCENDING"},$l={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ql=function(e,t){this.databaseId=e,this.I=t};function Yl(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xl(e,t){return e.I?t.toBase64():t.toUint8Array()}function Jl(e,t){return Yl(e,t.toTimestamp())}function Zl(e){return hu(!!e),_u.fromTimestamp(function(e){var t=Au(e);return new yu(t.seconds,t.nanos)}(e))}function eh(e,t){return function(e){return new Tu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function th(e){var t=Tu.fromString(e);return hu(kh(t)),t}function nh(e,t){return eh(e.databaseId,t.path)}function rh(e,t){var n=th(t);if(n.get(1)!==e.databaseId.projectId)throw new ru(nu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ru(nu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Uu(sh(n))}function ih(e,t){return eh(e.databaseId,t)}function oh(e){var t=th(e);return 4===t.length?Tu.emptyPath():sh(t)}function ah(e){return new Tu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sh(e){return hu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uh(e,t,n){return{name:nh(e,t),fields:n.value.mapValue.fields}}function ch(e,t,n){var r=rh(e,t.name),i=Zl(t.updateTime),o=new ec({mapValue:{fields:t.fields}}),a=nc.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function lh(e,t){var n;if(t instanceof hl)n={update:uh(e,t.key,t.value)};else if(t instanceof yl)n={delete:nh(e,t.key)};else if(t instanceof fl)n={update:uh(e,t.key,t.data),updateMask:Th(t.fieldMask)};else{if(!(t instanceof _l))return lu();n={verify:nh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $c)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jc)return{fieldPath:t.field.canonicalString(),increment:n.A};throw lu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lu()}(e,t.precondition)),n}function hh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rl.updateTime(Zl(e.updateTime)):void 0!==e.exists?rl.exists(e.exists):rl.none()}(t.currentDocument):rl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)hu("REQUEST_TIME"===t.setToServerValue),n=new Gc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $c(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Yc(i)}else"increment"in t?n=new Jc(e,t.increment):lu();var o=Iu.fromServerFormat(t.fieldPath);return new tl(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=rh(e,t.update.name),o=new ec({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Cu(t.map((function(e){return Iu.fromServerFormat(e)})))}(t.updateMask);return new fl(i,o,a,n,r)}return new hl(i,o,n,r)}if(t.delete){var s=rh(e,t.delete);return new yl(s,n)}if(t.verify){var u=rh(e,t.verify);return new _l(u,n)}return lu()}function fh(e,t){return{documents:[ih(e,t.path)]}}function dh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ih(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ih(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Xu(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NAN"}};if(Yu(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xu(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NAN"}};if(Yu(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(e.field),op:_h(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bh(e.field),direction:yh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Mu(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=vh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=vh(t.endAt)),n}function ph(e){var t=oh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=gh(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new _c(wh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Mu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=mh(n.startAt));var l=null;return n.endAt&&(l=mh(n.endAt)),Tc(t,i,s,a,u,"F",c,l)}function gh(e){return e?void 0!==e.unaryFilter?[Sh(e)]:void 0!==e.fieldFilter?[Eh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return gh(e)})).reduce((function(e,t){return e.concat(t)})):lu():[]}function vh(e){return{before:e.before,values:e.position}}function mh(e){var t=!!e.before,n=e.values||[];return new mc(n,t)}function yh(e){return Gl[e]}function _h(e){return $l[e]}function bh(e){return{fieldPath:e.canonicalString()}}function wh(e){return Iu.fromServerFormat(e.fieldPath)}function Eh(e){return uc.create(wh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lu()}}(e.fieldFilter.op),e.fieldFilter.value)}function Sh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wh(e.unaryFilter.field);return uc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wh(e.unaryFilter.field);return uc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wh(e.unaryFilter.field);return uc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wh(e.unaryFilter.field);return uc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lu()}}function Th(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function kh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ih(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xh(t)),t=Ch(e.get(n),t);return xh(t)}function Ch(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function xh(e){return e+"\x01\x01"}function Nh(e){var t=e.length;if(hu(t>=2),2===t)return hu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Tu.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&lu(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:lu()}o=a+2}return new Tu(r)}var Ah=function(e,t){this.seconds=e,this.nanoseconds=t},Ph=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ph.store="owner",Ph.key="owner";var Oh=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Oh.store="mutationQueues",Oh.keyPath="userId";var Rh=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rh.store="mutations",Rh.keyPath="batchId",Rh.userMutationsIndex="userMutationsIndex",Rh.userMutationsKeyPath=["userId","batchId"];var Dh=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ih(t)]},e.key=function(e,t,n){return[e,Ih(t),n]},e}();Dh.store="documentMutations",Dh.PLACEHOLDER=new Dh;var Lh=function(e,t){this.path=e,this.readTime=t},Mh=function(e,t){this.path=e,this.version=t},jh=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jh.store="remoteDocuments",jh.readTimeIndex="readTimeIndex",jh.readTimeIndexPath="readTime",jh.collectionReadTimeIndex="collectionReadTimeIndex",jh.collectionReadTimeIndexPath=["parentPath","readTime"];var Fh=function(e){this.byteSize=e};Fh.store="remoteDocumentGlobal",Fh.key="remoteDocumentGlobalKey";var Uh=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Uh.store="targets",Uh.keyPath="targetId",Uh.queryTargetsIndexName="queryTargetsIndex",Uh.queryTargetsKeyPath=["canonicalId","targetId"];var qh=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};qh.store="targetDocuments",qh.keyPath=["targetId","path"],qh.documentTargetsIndex="documentTargetsIndex",qh.documentTargetsKeyPath=["path","targetId"];var Bh=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bh.key="targetGlobalKey",Bh.store="targetGlobal";var Vh=function(e,t){this.collectionId=e,this.parent=t};Vh.store="collectionParents",Vh.keyPath=["collectionId","parent"];var zh=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};zh.store="clientMetadata",zh.keyPath="clientId";var Kh=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Kh.store="bundles",Kh.keyPath="bundleId";var Wh=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Wh.store="namedQueries",Wh.keyPath="name";var Hh=(0,jr.__spreadArray)((0,jr.__spreadArray)([],(0,jr.__spreadArray)((0,jr.__spreadArray)([],(0,jr.__spreadArray)((0,jr.__spreadArray)([],(0,jr.__spreadArray)((0,jr.__spreadArray)([],[Oh.store,Rh.store,Dh.store,jh.store,Uh.store,Ph.store,Bh.store,qh.store]),[zh.store])),[Fh.store])),[Vh.store])),[Kh.store,Wh.store]),Gh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$h=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Qh=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Yh=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&lu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Xh=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Qh,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ef(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=af(t.target.error);n.ft.reject(new ef(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ef(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(au("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new nf(t)},e}(),Jh=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Fr.getUA)())&&su("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return au("SimpleDb","Removing database:",e),rf(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Fr.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Buffalo-App_Academia-Geek3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(au("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new ru(nu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ef(e,n))},i.onupgradeneeded=function(e){au("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){au("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,jr.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,jr.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Xh.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Yh.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,au("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Zh=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return rf(this.Pt.delete())},e}(),ef=function(e){function t(t,n){var r=this;return(r=e.call(this,nu.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,jr.__extends)(t,e),t}(ru);function tf(e){return"IndexedDbTransactionError"===e.name}var nf=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(au("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(au("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rf(n)},e.prototype.add=function(e){return au("SimpleDb","ADD",this.store.name,e,e),rf(this.store.add(e))},e.prototype.get=function(e){var t=this;return rf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),au("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return au("SimpleDb","DELETE",this.store.name,e),rf(this.store.delete(e))},e.prototype.count=function(){return au("SimpleDb","COUNT",this.store.name),rf(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){au("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Yh((function(n,r){t.onerror=function(e){var t=af(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Yh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Zh(i),a=t(i.primaryKey,i.value,o);if(a instanceof Yh){var s=a.catch((function(e){return o.done(),Yh.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Yh.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function rf(e){return new Yh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=af(e.target.error);n(t)}}))}var of=!1;function af(e){var t=Jh._t((0,Fr.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ru("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return of||(of=!0,setTimeout((function(){throw r}),0)),r}}return e}var sf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,jr.__extends)(t,e),t}($h);function uf(e,t){var n=fu(e);return Jh.It(n.Mt,t)}var cf=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&al(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&sl(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&sl(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(_u.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ll())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,(function(e,t){return cl(e,t)}))&&vu(this.baseMutations,e.baseMutations,(function(e,t){return cl(e,t)}))},e}(),lf=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){hu(t.mutations.length===r.length);for(var i=Rl(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),hf=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=_u.min()),void 0===o&&(o=_u.min()),void 0===a&&(a=xu.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ff=function(e){this.Lt=e};function df(e,t){if(t.document)return ch(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Uu.fromSegments(t.noDocument.path),r=yf(t.noDocument.readTime),i=nc.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Uu.fromSegments(t.unknownDocument.path);return r=yf(t.unknownDocument.version),nc.newUnknownDocument(o,r)}return lu()}function pf(e,t,n){var r=gf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:nh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yl(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new jh(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=mf(t.version);return a=t.hasCommittedMutations,new jh(null,new Lh(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=mf(t.version);return new jh(new Mh(c,l),null,null,!0,r,i)}return lu()}function gf(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vf(e){var t=new yu(e[0],e[1]);return _u.fromTimestamp(t)}function mf(e){var t=e.toTimestamp();return new Ah(t.seconds,t.nanoseconds)}function yf(e){var t=new yu(e.seconds,e.nanoseconds);return _u.fromTimestamp(t)}function _f(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hh(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return hh(e.Lt,t)})),s=yu.fromMillis(t.localWriteTimeMs);return new cf(t.batchId,s,n,a)}function bf(e){var t,n,r=yf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?yf(e.lastLimboFreeSnapshotVersion):_u.min();return void 0!==e.query.documents?(hu(1===(n=e.query).documents.length),t=Oc(kc(oh(n.documents[0])))):t=function(e){return Oc(ph(e))}(e.query),new hf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xu.fromBase64String(e.resumeToken))}function wf(e,t){var n,r=mf(t.snapshotVersion),i=mf(t.lastLimboFreeSnapshotVersion);n=sc(t.target)?fh(e.Lt,t.target):dh(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Uh(t.targetId,oc(t.target),r,o,t.sequenceNumber,i,n)}function Ef(e){var t=ph({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rc(t,t.limit,"L"):t}var Sf=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Tf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:yf(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Tf(e).put({bundleId:(n=t).id,createTime:mf(Zl(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return kf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ef(t.bundledQuery),readTime:yf(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return kf(e).put(function(e){return{name:e.name,readTime:mf(Zl(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Tf(e){return uf(e,Kh.store)}function kf(e){return uf(e,Wh.store)}var If=function(){function e(){this.Bt=new Cf}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Yh.resolve()},e.prototype.getCollectionParents=function(e,t){return Yh.resolve(this.Bt.getEntries(t))},e}(),Cf=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Il(Tu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Il(Tu.comparator)).toArray()},e}(),xf=function(){function e(){this.qt=new Cf}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Ih(i)};return Nf(e).put(o)}return Yh.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mu(t),""],!1,!0);return Nf(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Nh(o.parent))}return n}))},e}();function Nf(e){return uf(e,Vh.store)}var Af={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pf=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Of(e,t,n){var r=e.store(Rh.store),i=e.store(Dh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){hu(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Dh.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Yh.waitFor(o).next((function(){return c}))}function Rf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lu();t=e.noDocument}return JSON.stringify(t).length}Pf.DEFAULT_COLLECTION_PERCENTILE=10,Pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pf.DEFAULT=new Pf(41943040,Pf.DEFAULT_COLLECTION_PERCENTILE,Pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pf.DISABLED=new Pf(-1,0,0);var Df=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return hu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mf(e).$t({index:Rh.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=jf(e),a=Mf(e);return a.add({}).next((function(s){hu("number"==typeof s);for(var u=new cf(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return lh(e.Lt,t)})),i=n.mutations.map((function(t){return lh(e.Lt,t)}));return new Rh(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Il((function(e,t){return gu(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Dh.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,Dh.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Yh.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Mf(e).get(t).next((function(e){return e?(hu(e.userId===n.userId),_f(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Yh.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Mf(e).$t({index:Rh.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(hu(t.batchId>=r),o=_f(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Mf(e).$t({index:Rh.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mf(e).Nt(Rh.userMutationsIndex,n).next((function(e){return e.map((function(e){return _f(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Dh.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return jf(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Nh(u);if(s===n.userId&&t.path.isEqual(l))return Mf(e).get(c).next((function(e){if(!e)throw lu();hu(e.userId===n.userId),o.push(_f(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Il(gu),i=[];return t.forEach((function(t){var o=Dh.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=jf(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Nh(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Yh.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Dh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Il(gu);return jf(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Nh(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Mf(e).get(t).next((function(e){if(null===e)throw lu();hu(e.userId===n.userId),r.push(_f(n.R,e))})))})),Yh.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Of(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Yh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Yh.resolve();var r=IDBKeyRange.lowerBound(Dh.prefixForUser(t.userId)),i=[];return jf(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Nh(e[1]);i.push(o)}else r.done()})).next((function(){hu(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Lf(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Ff(e).get(this.userId).next((function(e){return e||new Oh(t.userId,-1,"")}))},e}();function Lf(e,t,n){var r=Dh.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return jf(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Mf(e){return uf(e,Rh.store)}function jf(e){return uf(e,Dh.store)}function Ff(e){return uf(e,Oh.store)}var Uf=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),qf=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Uf(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return _u.fromTimestamp(new yu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Bf(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return hu(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Bf(e).$t((function(a,s){var u=bf(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Yh.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Bf(e).$t((function(e,n){var r=bf(n);t(r)}))},e.prototype.Xt=function(e){return Vf(e).get(Bh.key).next((function(e){return hu(null!==e),e}))},e.prototype.Zt=function(e,t){return Vf(e).put(Bh.key,t)},e.prototype.te=function(e,t){return Bf(e).put(wf(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=oc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bf(e).$t({range:r,index:Uh.queryTargetsIndexName},(function(e,n,r){var o=bf(n);ac(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=zf(e);return t.forEach((function(t){var a=Ih(t.path);i.push(o.put(new qh(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Yh.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=zf(e);return Yh.forEach(t,(function(t){var o=Ih(t.path);return Yh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=zf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zf(e),i=Ll();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Nh(e[1]),o=new Uu(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Ih(t.path),r=IDBKeyRange.bound([n],[mu(n)],!1,!0),i=0;return zf(e).$t({index:qh.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Bf(e).get(t).next((function(e){return e?bf(e):null}))},e}();function Bf(e){return uf(e,Uh.store)}function Vf(e){return uf(e,Bh.store)}function zf(e){return uf(e,qh.store)}function Kf(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){if(e.code!==nu.FAILED_PRECONDITION||e.message!==Gh)throw e;return au("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Wf(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=gu(n,i);return 0===a?gu(r,o):a}var Hf=function(){function e(e){this.ne=e,this.buffer=new Il(Wf),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Wf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Gf=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;au("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return tf(t=n.sent())?(au("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Kf(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),$f=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Yh.resolve(tu.o);var r=new Hf(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(au("LruGarbageCollector","Garbage collection skipped; disabled"),Yh.resolve(Af)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(au("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Af):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(au("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ou()<=Ur.LogLevel.DEBUG&&au("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Yh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Qf=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new $f(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Yf(e,n)},e.prototype.removeReference=function(e,t,n){return Yf(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Yf(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Ff(e).Ot((function(r){return Lf(e,r,t).next((function(e){return e&&(n=!0),Yh.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),zf(e).delete([0,Ih(a.path)])}))}));i.push(u)}})).next((function(){return Yh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Yf(e,t)},e.prototype.we=function(e,t){var n,r=zf(e),i=tu.o;return r.$t({index:qh.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==tu.o&&t(new Uu(Nh(n)),i),i=s,n=a):i=tu.o})).next((function(){i!==tu.o&&t(new Uu(Nh(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Yf(e,t){return zf(e).put(function(e,t){return new qh(0,Ih(e.path),t)}(t,e.currentSequenceNumber))}var Xf=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){wu(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Eu(this.inner)},e}(),Jf=function(){function e(){this.changes=new Xf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:_u.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:nc.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yh.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Zf=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return nd(e).put(rd(t),n)},e.prototype.removeEntry=function(e,t){var n=nd(e),r=rd(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return nd(e).get(rd(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return nd(e).get(rd(t)).next((function(e){return{document:n.ye(t,e),size:Rf(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Nl();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Nl(),i=new Sl(Uu.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Rf(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Yh.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return nd(e).$t({range:r},(function(e,t,r){for(var a=Uu.fromSegments(e);o&&Uu.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Nl(),o=t.path.length+1,a={};if(n.isEqual(_u.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=gf(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=jh.collectionReadTimeIndex}return nd(e).$t(a,(function(e,n,a){if(e.length===o){var s=df(r.R,n);t.path.isPrefixOf(s.key.path)?jc(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new ed(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return td(e).get(Fh.key).next((function(e){return hu(!!e),e}))},e.prototype.me=function(e,t){return td(e).put(Fh.key,t)},e.prototype.ye=function(e,t){if(t){var n=df(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(_u.min()))return n}return nc.newInvalidDocument(e)},e}(),ed=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Xf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,jr.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Il((function(e,t){return gu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=pf(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Rf(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=pf(t.Ie.R,nc.newNoDocument(o,_u.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Yh.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Jf);function td(e){return uf(e,Fh.store)}function nd(e){return uf(e,jh.store)}function rd(e){return e.path.toArray()}var id=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;hu(n<r&&n>=0&&r<=11);var o=new Xh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ph.store)}(e),function(e){e.createObjectStore(Oh.store,{keyPath:Oh.keyPath}),e.createObjectStore(Rh.store,{keyPath:Rh.keyPath,autoIncrement:!0}).createIndex(Rh.userMutationsIndex,Rh.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Dh.store)}(e),od(e),function(e){e.createObjectStore(jh.store)}(e));var a=Yh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qh.store),e.deleteObjectStore(Uh.store),e.deleteObjectStore(Bh.store)}(e),od(e)),a=a.next((function(){return function(e){var t=e.store(Bh.store),n=new Bh(0,0,_u.min().toTimestamp(),0);return t.put(Bh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Rh.store).Nt().next((function(n){e.deleteObjectStore(Rh.store),e.createObjectStore(Rh.store,{keyPath:Rh.keyPath,autoIncrement:!0}).createIndex(Rh.userMutationsIndex,Rh.userMutationsKeyPath,{unique:!0});var r=t.store(Rh.store),i=n.map((function(e){return r.put(e)}));return Yh.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(zh.store,{keyPath:zh.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Fh.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(jh.store);t.createIndex(jh.readTimeIndex,jh.readTimeIndexPath,{unique:!1}),t.createIndex(jh.collectionReadTimeIndex,jh.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Kh.store,{keyPath:Kh.keyPath})}(e),function(e){e.createObjectStore(Wh.store,{keyPath:Wh.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(jh.store).$t((function(e,n){t+=Rf(n)})).next((function(){var n=new Fh(t);return e.store(Fh.store).put(Fh.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Oh.store),r=e.store(Rh.store);return n.Nt().next((function(n){return Yh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Rh.userMutationsIndex,i).next((function(r){return Yh.forEach(r,(function(r){hu(r.userId===n.userId);var i=_f(t.R,r);return Of(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(qh.store),n=e.store(jh.store);return e.store(Bh.store).get(Bh.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Tu(n),a=function(e){return[0,Ih(e)]}(o);r.push(t.get(a).next((function(n){return n?Yh.resolve():function(n){return t.put(new qh(0,Ih(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Yh.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Vh.store,{keyPath:Vh.keyPath});var n=t.store(Vh.store),r=new Cf,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ih(i)})}};return t.store(jh.store).$t({Ft:!0},(function(e,t){var n=new Tu(e);return i(n.popLast())})).next((function(){return t.store(Dh.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Nh(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Uh.store);return n.$t((function(e,r){var i=bf(r),o=wf(t.R,i);return n.put(o)}))},e}();function od(e){e.createObjectStore(qh.store,{keyPath:qh.keyPath}).createIndex(qh.documentTargetsIndex,qh.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Uh.store,{keyPath:Uh.keyPath}).createIndex(Uh.queryTargetsIndexName,Uh.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Bh.store)}var ad="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sd=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new ru(nu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qf(this,i),this.Le=n+"main",this.R=new ff(u),this.Be=new Jh(this.Le,11,new id(this.R)),this.qe=new qf(this.referenceDelegate,this.R),this.Ut=new xf,this.Ue=function(e,t){return new Zf(e,t)}(this.R,this.Ut),this.Ke=new Sf,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&su("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ru(nu.FAILED_PRECONDITION,ad);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new tu(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,jr.__awaiter)(t,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,jr.__awaiter)(t,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cd(t).put(new zh(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(tf(t))return au("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return au("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return ud(e).get(Ph.key).next((function(e){return Yh.resolve(t.tn(e))}))},e.prototype.en=function(e){return cd(e).delete(this.clientId)},e.prototype.nn=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uf(e,zh.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Yh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Yh.resolve(!0):ud(e).get(Ph.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ru(nu.FAILED_PRECONDITION,ad);return!1}}return!(!t.networkEnabled||!t.inForeground)||cd(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&au("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ph.store,zh.store],(function(t){var n=new sf(t,tu.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cd(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Df.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;au("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Hh,(function(o){return i=new sf(o,r.Ne?r.Ne.next():tu.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw su("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ru(nu.FAILED_PRECONDITION,Gh);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return ud(e).get(Ph.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ru(nu.FAILED_PRECONDITION,ad)}))},e.prototype.Ze=function(e){var t=new Ph(this.clientId,this.allowTabSynchronization,Date.now());return ud(e).put(Ph.key,t)},e.yt=function(){return Jh.yt()},e.prototype.Xe=function(e){var t=this,n=ud(e);return n.get(Ph.key).next((function(e){return t.tn(e)?(au("IndexedDbPersistence","Releasing primary lease."),n.delete(Ph.key)):Yh.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(su("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,Fr.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return au("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return su("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){su("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ud(e){return uf(e,Ph.store)}function cd(e){return uf(e,zh.store)}function ld(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hd=function(e,t){this.progress=e,this.wn=t},fd=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Ac(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Uu(t)).next((function(e){var t=Pl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Pl();return this.Ut.getCollectionParents(e,i).next((function(a){return Yh.forEach(a,(function(a){var s=function(e,t){return new Sc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=nc.newInvalidDocument(c),r=r.insert(c,l)),sl(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){jc(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ll(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof fl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),dd=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ll(),i=Ll(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),pd=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(_u.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Ic(t)||Cc(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(ou()<=Ur.LogLevel.DEBUG&&au("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Mc(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Il(Fc(e));return t.forEach((function(t,r){jc(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return ou()<=Ur.LogLevel.DEBUG&&au("QueryEngine","Using full collection scan to execute query:",Mc(t)),this.Sn.getDocumentsMatchingQuery(e,t,_u.min())},e}(),gd=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Sl(gu),this.Fn=new Xf((function(e){return oc(e)}),ac),this.$n=_u.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new fd(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function vd(e,t,n,r){return new gd(e,t,n,r)}function md(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return n=fu(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new fd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ll(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function yd(e,t){var n=fu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Yh.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);hu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function _d(e){var t=fu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function bd(e,t){var n=fu(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return hu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Nl();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(wd(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(_u.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Yh.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function wd(e,t,n,r,i){var o=Ll();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Nl();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(_u.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):au("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Ed(e,t){var n=fu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Sd(e,t){var n=fu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Yh.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new hf(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Td(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:r=fu(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!tf(a=s.sent()))throw a;return au("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function kd(e,t,n){var r=fu(e),i=_u.min(),o=Ll();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fu(e),i=r.Fn.get(n);return void 0!==i?Yh.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Oc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:_u.min(),n?o:Ll())})).next((function(e){return{documents:e,Bn:o}}))}))}function Id(e,t){var n=fu(e),r=fu(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Cd(e){var t=fu(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=fu(e),i=Nl(),o=gf(n),a=nd(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:jh.readTimeIndex,range:s},(function(e,t){var n=df(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:vf(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function xd(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){return[2,(t=fu(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=nd(e),n=_u.min();return t.$t({index:jh.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=vf(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Nd(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,jr.__generator)(this,(function(p){switch(p.label){case 0:for(i=fu(e),o=Ll(),a=Nl(),s=Rl(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Sd(i,function(e){return Oc(kc(Tu.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return wd(e,f,a,_u.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Ad(e,t,n){return void 0===n&&(n=Ll()),(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return[4,Sd(e,Oc(Ef(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=fu(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Zl(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(xu.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Pd=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Yh.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Zl(n.createTime)}),Yh.resolve()},e.prototype.getNamedQuery=function(e,t){return Yh.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ef(e.bundledQuery),readTime:Zl(e.readTime)}}(t)),Yh.resolve()},e}(),Od=function(){function e(){this.Wn=new Il(Rd.Gn),this.zn=new Il(Rd.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Rd(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Rd(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Uu(new Tu([])),r=new Rd(n,e),i=new Rd(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Uu(new Tu([])),n=new Rd(t,e),r=new Rd(t,e+1),i=Ll();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Rd(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Rd=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Uu.comparator(e.key,t.key)||gu(e.ns,t.ns)},e.Hn=function(e,t){return gu(e.ns,t.ns)||Uu.comparator(e.key,t.key)},e}(),Dd=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Il(Rd.Gn)}return e.prototype.checkEmpty=function(e){return Yh.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new cf(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Rd(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Yh.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Yh.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Yh.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Yh.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Yh.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Rd(t,0),i=new Rd(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Yh.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Il(gu);return t.forEach((function(e){var t=new Rd(e,0),i=new Rd(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Yh.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Uu.isDocumentKey(i)||(i=i.child(""));var o=new Rd(new Uu(i),0),a=new Il(gu);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Yh.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;hu(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Yh.forEach(t.mutations,(function(i){var o=new Rd(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Rd(t,0),r=this.rs.firstAfterOrEqual(n);return Yh.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Yh.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Ld=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Sl(Uu.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Yh.resolve(n?n.document.clone():nc.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Nl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():nc.newInvalidDocument(e))})),Yh.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Nl(),i=new Uu(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||jc(t,c)&&(r=r.insert(c.key,c.clone()))}return Yh.resolve(r)},e.prototype.fs=function(e,t){return Yh.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Md(this)},e.prototype.getSize=function(e){return Yh.resolve(this.size)},e}(),Md=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,jr.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Yh.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Jf),jd=function(){function e(e){this.persistence=e,this.ds=new Xf((function(e){return oc(e)}),ac),this.lastRemoteSnapshotVersion=_u.min(),this.highestTargetId=0,this.ws=0,this._s=new Od,this.targetCount=0,this.ys=Uf.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Yh.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Yh.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Yh.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Yh.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Yh.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Uf(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Yh.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Yh.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Yh.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Yh.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Yh.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Yh.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Yh.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yh.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Yh.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Yh.resolve(n)},e.prototype.containsKey=function(e,t){return Yh.resolve(this._s.containsKey(t))},e}(),Fd=function(){function e(e,t){var n=this;this.gs={},this.Ne=new tu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new jd(this),this.Ut=new If,this.Ue=function(e,t){return new Ld(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new ff(t),this.Ke=new Pd(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Dd(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;au("MemoryPersistence","Starting transaction:",e);var i=new Ud(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Yh.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ud=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,jr.__extends)(t,e),t}($h),qd=function(){function e(e){this.persistence=e,this.As=new Od,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw lu()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Yh.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Yh.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Yh.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yh.forEach(this.vs,(function(r){var i=Uu.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Yh.or([function(){return Yh.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Bd=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Vd(e,t){return"firestore_clients_"+e+"_"+t}function zd(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Kd(e,t){return"firestore_targets_"+e+"_"+t}Bd.UNAUTHENTICATED=new Bd(null),Bd.GOOGLE_CREDENTIALS=new Bd("google-credentials-uid"),Bd.FIRST_PARTY=new Bd("first-party-uid"),Bd.MOCK_USER=new Bd("mock-user");var Wd=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ru(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(su("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Hd=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ru(i.error.code,i.error.message)),o?new e(t,i.state,r):(su("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Gd=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jl(),a=0;i&&a<r.activeTargetIds.length;++a)i=Fu(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(su("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),$d=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(su("SharedClientState","Failed to parse online state: "+t),null)},e}(),Qd=function(){function e(){this.activeTargetIds=jl()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Yd=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Sl(gu),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Vd(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Qd),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,jr.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Vd(this.persistenceKey,r)))&&(o=Gd.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Kd(this.persistenceKey,e));if(n){var r=Hd.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Kd(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return au("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){au("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){au("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(au("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void su("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,jr.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=tu.o;if(null!=e)try{var n=JSON.parse(e);hu("number"==typeof n),t=n}catch(e){su("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==tu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Wd(this.currentUser,e,t,n),i=zd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=zd(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Kd(this.persistenceKey,e),i=new Hd(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Gd.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wd.Vs(new Bd(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Hd.Vs(r,t)},e.prototype.js=function(e){return $d.Vs(e)},e.prototype.ii=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(au("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=jl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Xd=function(){function e(){this.li=new Qd,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Qd,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Jd=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Zd=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){au("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){au("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ep={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tp=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),np=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,jr.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new eu;a.listenOnce(Qs.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case $s.NO_ERROR:var t=a.getResponseJson();au("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $s.TIMEOUT:au("Connection",'RPC "'+e+'" timed out'),o(new ru(nu.DEADLINE_EXCEEDED,"Request time out"));break;case $s.HTTP_ERROR:var n=a.getStatus();if(au("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nu).indexOf(t)>=0?t:nu.UNKNOWN}(r.status);o(new ru(s,r.message))}else o(new ru(nu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ru(nu.UNAVAILABLE,"Connection failed."));break;default:lu()}}finally{au("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Hs(),i=Gs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Js({})),this.ki(o.initMessageHeaders,t),(0,Fr.isMobileCordova)()||(0,Fr.isReactNative)()||(0,Fr.isElectron)()||(0,Fr.isIE)()||(0,Fr.isUWP)()||(0,Fr.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");au("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new tp({Ei:function(e){c?au("Connection","Not sending because WebChannel is closed:",e):(u||(au("Connection","Opening WebChannel transport."),s.open(),u=!0),au("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Zs.EventType.OPEN,(function(){c||au("Connection","WebChannel transport opened.")})),h(s,Zs.EventType.CLOSE,(function(){c||(c=!0,au("Connection","WebChannel transport closed"),l.Vi())})),h(s,Zs.EventType.ERROR,(function(e){c||(c=!0,uu("Connection","WebChannel transport errored:",e),l.Vi(new ru(nu.UNAVAILABLE,"The operation could not be completed")))})),h(s,Zs.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];hu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){au("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=vl[e];if(void 0!==t)return El(t)}(o),u=i.message;void 0===a&&(a=nu.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new ru(a,u)),s.close()}else au("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Ys.STAT_EVENT,(function(e){e.stat===Xs.PROXY?au("Connection","Detected buffering proxy"):e.stat===Xs.NOPROXY&&au("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);au("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return au("RestConnection","Received: ",e),e}),(function(t){throw uu("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ep[e];return this.Di+"/v1/"+t+":"+n},e}());function rp(){return"undefined"!=typeof window?window:null}function ip(){return"undefined"!=typeof document?document:null}function op(e){return new Ql(e,!0)}var ap=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&au("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sp=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ap(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===nu.RESOURCE_EXHAUSTED?(su(t.toString()),su("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===nu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new ru(nu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,jr.__awaiter)(e,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return au("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(au("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),up=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,jr.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(hu(void 0===t||"string"==typeof t),xu.fromBase64String(t||"")):(hu(void 0===t||t instanceof Uint8Array),xu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?nu.UNKNOWN:El(e.code);return new ru(t,e.message||"")}(s);n=new Vl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=rh(e,r.document.name),o=Zl(r.document.updateTime);var s=new ec({mapValue:{fields:r.document.fields}}),u=(a=nc.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new ql(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=rh(e,r.document),o=r.readTime?Zl(r.readTime):_u.min(),s=nc.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ql([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=rh(e,r.document),o=r.removedTargetIds||[],n=new ql([],o,i,null);else{if(!("filter"in t))return lu();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new bl(r),o=l.targetId,n=new Bl(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return _u.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_u.min():t.readTime?Zl(t.readTime):_u.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=ah(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=sc(r)?{documents:fh(e,r)}:{query:dh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xl(e,t.resumeToken):t.snapshotVersion.compareTo(_u.min())>0&&(n.readTime=Yl(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=ah(this.R),t.removeTarget=e,this.cr(t)},t}(sp),cp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,jr.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(hu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(hu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zl(e.updateTime):Zl(t);return n.isEqual(_u.min())&&(n=Zl(t)),new nl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zl(e.commitTime);return this.listener.Tr(n,t)}return hu(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ah(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lh(t.R,e)}))};this.cr(n)},t}(sp),lp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,jr.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new ru(nu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nu.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ru(nu.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nu.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ru(nu.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),hp=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(su(t),this.Vr=!1):au("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),fp=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,jr.__awaiter)(o,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return wp(this)?(au("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return(t=fu(e)).Or.add(4),[4,pp(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,dp(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new hp(n,r)};function dp(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:if(!wp(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function pp(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function gp(e,t){var n=fu(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),bp(n)?_p(n):Mp(n).er()&&mp(n,t))}function vp(e,t){var n=fu(e),r=Mp(n);n.$r.delete(t),r.er()&&yp(n,t),0===n.$r.size&&(r.er()?r.ir():wp(n)&&n.Br.set("Unknown"))}function mp(e,t){e.qr.U(t.targetId),Mp(e).mr(t)}function yp(e,t){e.qr.U(t),Mp(e).yr(t)}function _p(e){e.qr=new Kl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Mp(e).start(),e.Br.Sr()}function bp(e){return wp(e)&&!Mp(e).tr()&&e.$r.size>0}function wp(e){return 0===fu(e).Or.size}function Ep(e){e.qr=void 0}function Sp(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){return e.$r.forEach((function(t,n){mp(e,t)})),[2]}))}))}function Tp(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(n){return Ep(e),bp(e)?(e.Br.Nr(t),_p(e)):e.Br.set("Unknown"),[2]}))}))}function kp(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Vl&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),au("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ip(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ql?e.qr.X(t):t instanceof Bl?e.qr.rt(t):e.qr.et(t),n.isEqual(_u.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,_d(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(xu.EMPTY_BYTE_STRING,n.snapshotVersion)),yp(e,t);var r=new hf(n.target,t,1,n.sequenceNumber);mp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return au("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ip(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ip(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:if(!tf(t))throw t;return e.Or.add(1),[4,pp(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return _d(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,jr.__awaiter)(r,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return au("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,dp(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Cp(e,t){return t().catch((function(n){return Ip(e,n,t)}))}function xp(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:t=fu(e),n=jp(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return wp(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ed(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=jp(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Ip(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Np(t)&&Ap(t),[2]}}))}))}function Np(e){return wp(e)&&!jp(e).tr()&&e.Fr.length>0}function Ap(e){jp(e).start()}function Pp(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){return jp(e).Ar(),[2]}))}))}function Op(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,jr.__generator)(this,(function(o){for(t=jp(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Rp(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=lf.from(r,t,n),[4,Cp(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,xp(e)];case 2:return o.sent(),[2]}}))}))}function Dp(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t&&jp(e).pr?[4,function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return wl(r=t.code)&&r!==nu.ABORTED?(n=e.Fr.shift(),jp(e).sr(),[4,Cp(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,xp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Np(e)&&Ap(e),[2]}}))}))}function Lp(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return n=fu(e),t?(n.Or.delete(2),[4,dp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,pp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Mp(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=fu(e);return r.br(),new up(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Sp.bind(null,e),Ri:Tp.bind(null,e),_r:kp.bind(null,e)}),e.Mr.push((function(n){return(0,jr.__awaiter)(t,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),bp(e)?_p(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ep(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function jp(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=fu(e);return r.br(),new cp(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Pp.bind(null,e),Ri:Dp.bind(null,e),Ir:Op.bind(null,e),Tr:Rp.bind(null,e)}),e.Mr.push((function(n){return(0,jr.__awaiter)(t,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,xp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(au("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Fp=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ru(nu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Up(e,t){if(su("AsyncQueue",t+": "+e),tf(e))return new ru(nu.UNAVAILABLE,t+": "+e);throw e}var qp=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Uu.comparator(t.key,n.key)}:function(e,t){return Uu.comparator(e.key,t.key)},this.keyedMap=Pl(),this.sortedSet=new Sl(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Bp=function(){function e(){this.Qr=new Sl(Uu.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):lu():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Vp=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,qp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),zp=function(){this.Wr=void 0,this.listeners=[]},Kp=function(){this.queries=new Xf((function(e){return Lc(e)}),Dc),this.onlineState="Unknown",this.Gr=new Set};function Wp(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,jr.__generator)(this,(function(c){switch(c.label){case 0:if(n=fu(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new zp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Up(s,"Initialization of query '"+Mc(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Qp(n),[2]}}))}))}function Hp(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,jr.__generator)(this,(function(s){return n=fu(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Gp(e,t){for(var n=fu(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Qp(n)}function $p(e,t,n){var r=fu(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Qp(e){e.Gr.forEach((function(e){e.next()}))}var Yp=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Vp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Vp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Xp=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Jp=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return rh(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?ch(this.R,e.document,!1):nc.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Zl(e)},e}(),Zp=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=eg(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Jp(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ll()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return[4,Nd(this.localStore,new Jp(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ad(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hd(Object.assign({},this.progress),e))]}}))}))},e}();function eg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var tg=function(e){this.key=e},ng=function(e){this.key=e},rg=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ll(),this.mutatedKeys=Ll(),this.lo=Fc(e),this.fo=new qp(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Bp,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ic(this.query)&&i.size===this.query.limit?i.last():null,c=Cc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=jc(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ic(this.query)||Cc(this.query))for(;a.size>this.query.limit;){var l=Ic(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lu()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Vp(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Bp,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ll(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ng(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new tg(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ll();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Vp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ig=function(e,t,n){this.query=e,this.targetId=t,this.view=n},og=function(e){this.key=e,this.bo=!1},ag=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Xf((function(e){return Lc(e)}),Dc),this.Vo=new Map,this.So=new Set,this.Do=new Sl(Uu.comparator),this.Co=new Map,this.No=new Od,this.xo={},this.ko=new Map,this.Fo=Uf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function sg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return n=Mg(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sd(n.localStore,Oc(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,ug(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&gp(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function ug(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,jr.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,kd(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(wg(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,kd(e.localStore,t,!0)];case 1:return i=l.sent(),o=new rg(t,i.Bn),a=o._o(i.documents),s=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),wg(e,n,u.To),c=new ig(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function cg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return n=fu(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Dc(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Td(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),vp(n.remoteStore,r.targetId),_g(n,r.targetId)})).catch(Kf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return _g(n,r.targetId),[4,Td(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function lg(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:r=jg(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=fu(e),i=yu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ll());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=ul(c,n.get(c.key));null!=l&&a.push(new fl(c.key,l,tc(l.value.mapValue),rl.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Sl(gu)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Tg(r,i.changes)];case 3:return s.sent(),[4,xp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Up(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function hg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:n=fu(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bd(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(hu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?hu(r.bo):e.removedDocuments.size>0&&(hu(r.bo),r.bo=!1))})),[4,Tg(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Kf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function fg(e,t,n){var r=fu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Qp(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dg(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,jr.__generator)(this,(function(c){switch(c.label){case 0:return(r=fu(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Sl(Uu.comparator)).insert(o,nc.newNoDocument(o,_u.min())),s=Ll().add(o),u=new Fl(_u.min(),new Map,new Il(gu),a,s),[4,hg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Sg(r),[3,4];case 2:return[4,Td(r.localStore,t,!1).then((function(){return _g(r,t,n)})).catch(Kf)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function pg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:n=fu(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,yd(n.localStore,t)];case 2:return i=o.sent(),yg(n,r,null),mg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Tg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Kf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function gg(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:r=fu(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=fu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return hu(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),yg(r,t,n),mg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Tg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Kf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:wp((n=fu(e)).remoteStore)||au("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=fu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Up(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function mg(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function yg(e,t,n){var r=fu(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function _g(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||bg(e,t)}))}function bg(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(vp(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Sg(e))}function wg(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof tg?(e.No.addReference(o.key,t),Eg(e,o)):o instanceof ng?(au("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||bg(e,o.key)):lu()}}function Eg(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(au("SyncEngine","New document in limbo: "+n),e.So.add(r),Sg(e))}function Sg(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Uu(Tu.fromString(t)),r=e.Fo.next();e.Co.set(r,new og(n)),e.Do=e.Do.insert(n,r),gp(e.remoteStore,new hf(Oc(kc(n.path)),r,2,tu.o))}}function Tg(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return r=fu(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=dd.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,jr.__generator)(this,(function(h){switch(h.label){case 0:n=fu(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yh.forEach(t,(function(t){return Yh.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Yh.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!tf(r=h.sent()))throw r;return au("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function kg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return(n=fu(e)).currentUser.isEqual(t)?[3,3]:(au("SyncEngine","User change. New user:",t.toKey()),[4,md(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new ru(nu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Tg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ig(e,t){var n=fu(e),r=n.Co.get(t);if(r&&r.bo)return Ll().add(r.key);var i=Ll(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Cg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return[4,kd((n=fu(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&wg(n,t.targetId,i.To),i)]}}))}))}function xg(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){return[2,Cd((t=fu(e)).localStore).then((function(e){return Tg(t,e)}))]}))}))}function Ng(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=fu(e),r=fu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Yh.resolve(null)}))}))}((i=fu(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,xp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(yg(i,t,r||null),mg(i,t),function(e,t){fu(fu(e)._n).Gt(t)}(i.localStore,t)):lu(),a.label=4;case 4:return[4,Tg(i,o)];case 5:return a.sent(),[3,7];case 6:au("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ag(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,jr.__generator)(this,(function(l){switch(l.label){case 0:return Mg(n=fu(e)),jg(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Pg(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Lp(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],gp(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return _g(n,t),Td(n.localStore,t,!0)})),vp(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Pg(n,u)];case 5:return l.sent(),function(e){var t=fu(e);t.Co.forEach((function(e,n){vp(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Sl(Uu.comparator)}(n),n.$o=!1,[4,Lp(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Pg(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,g;return(0,jr.__generator)(this,(function(v){switch(v.label){case 0:n=fu(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Sd(n.localStore,Oc(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Cg(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Id(n.localStore,s)];case 8:return g=v.sent(),[4,Sd(n.localStore,g)];case 9:return u=v.sent(),[4,ug(n,Og(g),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Og(e){return Tc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Rg(e){var t=fu(e);return fu(fu(t.localStore).persistence).fn()}function Dg(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return(i=fu(e)).$o?(au("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Cd(i.localStore)];case 3:return o=s.sent(),a=Fl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Tg(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Td(i.localStore,t,!0)];case 6:return s.sent(),_g(i,t,r),[3,8];case 7:lu(),s.label=8;case 8:return[2]}}))}))}function Lg(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,jr.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=Mg(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(au("SyncEngine","Adding an already active target "+a),[3,5]):[4,Id(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Sd(r.localStore,s)];case 3:return u=d.sent(),[4,ug(r,Og(s),u.targetId,!1)];case 4:d.sent(),gp(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Td(r.localStore,e,!1).then((function(){vp(r.remoteStore,e),_g(r,e)})).catch(Kf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Mg(e){var t=fu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ig.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dg.bind(null,t),t.vo._r=Gp.bind(null,t.eventManager),t.vo.Mo=$p.bind(null,t.eventManager),t}function jg(e){var t=fu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gg.bind(null,t),t}function Fg(e,t,n){var r=fu(e);(function(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,jr.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=fu(e),r=Zl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(eg(r)),i=new Zp(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Tg(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=fu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return uu("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Ug=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return this.R=op(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return vd(this.persistence,new pd,e.initialUser,this.R)},e.prototype.qo=function(e){return new Fd(qd.bs,this.R)},e.prototype.Bo=function(e){return new Xd},e.prototype.terminate=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),qg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,jr.__extends)(t,e),t.prototype.initialize=function(t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,xd(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,jg(this.Qo.syncEngine)];case 4:return r.sent(),[4,xp(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return vd(this.persistence,new pd,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Gf(t,e.asyncQueue)},t.prototype.qo=function(e){var t=ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pf.withCacheSize(this.cacheSizeBytes):Pf.DEFAULT;return new sd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,rp(),ip(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Xd},t}(Ug),Bg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,jr.__extends)(t,e),t.prototype.initialize=function(t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Yd?(this.sharedClientState.syncEngine={ui:Ng.bind(null,n),ai:Dg.bind(null,n),hi:Lg.bind(null,n),fn:Rg.bind(null,n),ci:xg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,jr.__awaiter)(r,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ag(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=rp();if(!Yd.yt(t))throw new ru(nu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yd(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(qg),Vg=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fg(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kg.bind(null,this.syncEngine),[4,Lp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Kp},e.prototype.createDatastore=function(e){var t,n=op(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new np(t));return function(e,t,n){return new lp(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fg(a.syncEngine,e,0)},o=Zd.yt()?new Zd:new Jd,new fp(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ag(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t=fu(e),au("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,pp(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function zg(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r;return(0,jr.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Kg=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Wg=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Qh,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Xp(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Hg=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ru(nu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return n=fu(e),r=ah(n.R)+"/documents",i={documents:t.map((function(e){return nh(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){hu(!!t.found),t.found.name,t.found.updateTime;var n=rh(e,t.found.name),r=Zl(t.found.updateTime),i=new ec({mapValue:{fields:t.found.fields}});return nc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hu(!!t.missing),hu(!!t.readTime);var n=rh(e,t.missing),r=Zl(t.readTime);return nc.newNoDocument(n,r)}(e,t):lu()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());hu(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new yl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Uu.fromPath(n);t.mutations.push(new _l(r,t.precondition(r)))})),[4,function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return n=fu(e),r=ah(n.R)+"/documents",i={writes:t.map((function(e){return lh(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lu();t=_u.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ru(nu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rl.updateTime(t):rl.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_u.min()))throw new ru(nu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rl.updateTime(t)}return rl.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Gg=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ap(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,jr.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,jr.__generator)(this,(function(r){return e=new Hg(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Mu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wl(t)}return!1},e}(),$g=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Bd.UNAUTHENTICATED,this.clientId=pu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,jr.__awaiter)(r,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return au("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ru(nu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,jr.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Up(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Qg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),au("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,jr.__awaiter)(i,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,md(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Yg(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Xg(e)];case 1:return n=i.sent(),au("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return(n=fu(e)).asyncQueue.verifyOperationInProgress(),au("RemoteStore","RemoteStore received new credentials"),r=wp(n),n.Or.add(3),[4,pp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,dp(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Xg(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(au("FirestoreClient","Using default OfflineComponentProvider"),[4,Qg(e,new Ug)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Jg(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(au("FirestoreClient","Using default OnlineComponentProvider"),[4,Yg(e,new Vg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Zg(e){return Xg(e).then((function(e){return e.persistence}))}function ev(e){return Xg(e).then((function(e){return e.localStore}))}function tv(e){return Jg(e).then((function(e){return e.remoteStore}))}function nv(e){return Jg(e).then((function(e){return e.syncEngine}))}function rv(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,Jg(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=sg.bind(null,t.syncEngine),n.onUnlisten=cg.bind(null,t.syncEngine),n)]}}))}))}function iv(e,t,n){var r=this;void 0===n&&(n={});var i=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(r,void 0,void 0,(function(){var r;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Kg({next:function(o){t.enqueueAndForget((function(){return Hp(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ru(nu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ru(nu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Yp(kc(n.path),o,{includeMetadataChanges:!0,so:!0});return Wp(e,a)},[4,rv(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function ov(e,t,n){var r=this;void 0===n&&(n={});var i=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(r,void 0,void 0,(function(){var r;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Kg({next:function(n){t.enqueueAndForget((function(){return Hp(e,a)})),n.fromCache&&"server"===r.source?i.reject(new ru(nu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Yp(n,o,{includeMetadataChanges:!0,so:!0});return Wp(e,a)},[4,rv(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var av=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},sv=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),uv=new Map,cv=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},lv=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Bd.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hv=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fv=function(){function e(e){var t=this;this.currentUser=Bd.UNAUTHENTICATED,this.oc=new Qh,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){au("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(au("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(au("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hu("string"==typeof n.accessToken),new cv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return hu(null===e||"string"==typeof e),new Bd(e)},e}(),dv=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Bd.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),pv=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new dv(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Bd.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function gv(e,t,n){if(!n)throw new ru(nu.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function vv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ru(nu.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function mv(e,t,n,r){if(!0===t&&!0===r)throw new ru(nu.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function yv(e){if(!Uu.isDocumentKey(e))throw new ru(nu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function _v(e){if(Uu.isDocumentKey(e))throw new ru(nu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function bv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":lu()}function wv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ru(nu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bv(e);throw new ru(nu.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Ev(e,t){if(t<=0)throw new ru(nu.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Sv=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ru(nu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ru(nu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Tv=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,e instanceof sv?(this._databaseId=e,this._credentials=new lv):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ru(nu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sv(e.options.projectId)}(e),this._credentials=new fv(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ru(nu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ru(nu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new lv;switch(e.type){case"gapi":var t=e.client;return hu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new pv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ru(nu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=uv.get(this))&&(au("ComponentProvider","Removing Datastore"),uv.delete(this),e.terminate()),Promise.resolve();var e},e}(),kv=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Cv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Iv=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Cv=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,kc(r))||this)._path=r,i.type="collection",i}return(0,jr.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kv(this.firestore,null,new Uu(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Iv);function xv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Fr.getModularInstance)(e),gv("collection","path",t),e instanceof Tv)return _v(n=Tu.fromString.apply(Tu,(0,jr.__spreadArray)([t],r))),new Cv(e,null,n);if(!(e instanceof kv||e instanceof Cv))throw new ru(nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _v(n=Tu.fromString.apply(Tu,(0,jr.__spreadArray)([e.path],r)).child(Tu.fromString(t))),new Cv(e.firestore,null,n)}function Nv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Fr.getModularInstance)(e),1===arguments.length&&(t=pu.u()),gv("doc","path",t),e instanceof Tv)return yv(n=Tu.fromString.apply(Tu,(0,jr.__spreadArray)([t],r))),new kv(e,null,new Uu(n));if(!(e instanceof kv||e instanceof Cv))throw new ru(nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yv(n=e._path.child(Tu.fromString.apply(Tu,(0,jr.__spreadArray)([t],r)))),new kv(e.firestore,e instanceof Cv?e.converter:null,new Uu(n))}function Av(e,t){return e=(0,Fr.getModularInstance)(e),t=(0,Fr.getModularInstance)(t),(e instanceof kv||e instanceof Cv)&&(t instanceof kv||t instanceof Cv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Pv(e,t){return e=(0,Fr.getModularInstance)(e),t=(0,Fr.getModularInstance)(t),e instanceof Iv&&t instanceof Iv&&e.firestore===t.firestore&&Dc(e._query,t._query)&&e.converter===t.converter}var Ov=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ap(this,"async_queue_retry"),this.Ic=function(){var t=ip();t&&au("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ip();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=ip();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Qh;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!tf(e=n.sent()))throw e;return au("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,su("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Fp.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&lu()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Rv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Dv=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Qh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Lv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Ov,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,jr.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()},t}(Tv);function Mv(e){return e._firestoreClient||jv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new av(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $g(e._credentials,e._queue,r)}function Fv(e,t,n){var r=this,i=new Qh;return e.asyncQueue.enqueue((function(){return(0,jr.__awaiter)(r,void 0,void 0,(function(){var r;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Qg(e,n)];case 1:return o.sent(),[4,Yg(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===nu.FAILED_PRECONDITION||e.code===nu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Uv(e){if(e._initialized||e._terminated)throw new ru(nu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ru(nu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Iu(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Bv=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(xu.fromBase64String(t))}catch(t){throw new ru(nu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(xu.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Vv=function(e){this._methodName=e},zv=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new ru(nu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ru(nu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return gu(this._lat,e._lat)||gu(this._long,e._long)},e}(),Kv=/^__.*__$/,Wv=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new hl(e,this.data,t,this.fieldTransforms)},e}(),Hv=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Gv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lu()}}var $v=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return pm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Gv(this.Nc)&&Kv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Qv=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||op(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new $v({Nc:e,methodName:t,qc:n,path:Iu.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Yv(e){var t=e._freezeSettings(),n=op(e._databaseId);return new Qv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xv(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);lm("Data must be an object, but it was:",a,r);var s,u,c=um(r,a);if(o.merge)s=new Cu(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=hm(t,f[h],n);if(!a.contains(d))throw new ru(nu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");gm(l,d)||l.push(d)}s=new Cu(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Wv(new ec(c),s,u)}var Jv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Vv);function Zv(e,t,n){return new $v({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var em=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new tl(e.path,new Gc)},t.prototype.isEqual=function(e){return e instanceof t},t}(Vv),tm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,jr.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=Zv(this,e,!0),n=this.Kc.map((function(e){return sm(e,t)})),r=new $c(n);return new tl(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Vv),nm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,jr.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=Zv(this,e,!0),n=this.Kc.map((function(e){return sm(e,t)})),r=new Yc(n);return new tl(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Vv),rm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,jr.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new Jc(e.R,Vc(e.R,this.Qc));return new tl(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Vv);function im(e,t,n,r){var i=e.Uc(1,t,n);lm("Data must be an object, but it was:",i,r);var o=[],a=ec.empty();wu(r,(function(e,r){var s=dm(t,e,n);r=(0,Fr.getModularInstance)(r);var u=i.Oc(s);if(r instanceof Jv)o.push(s);else{var c=sm(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Cu(o);return new Hv(a,s,i.fieldTransforms)}function om(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[hm(t,r,n)],u=[i];if(o.length%2!=0)throw new ru(nu.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(hm(t,o[c])),u.push(o[c+1]);for(var l=[],h=ec.empty(),f=s.length-1;f>=0;--f)if(!gm(l,s[f])){var d=s[f],p=u[f];p=(0,Fr.getModularInstance)(p);var g=a.Oc(d);if(p instanceof Jv)l.push(d);else{var v=sm(p,g);null!=v&&(l.push(d),h.set(d,v))}}var m=new Cu(l);return new Hv(h,m,a.fieldTransforms)}function am(e,t,n,r){return void 0===r&&(r=!1),sm(n,e.Uc(r?4:3,t))}function sm(e,t){if(cm(e=(0,Fr.getModularInstance)(e)))return lm("Unsupported field value:",t,e),um(e,t);if(e instanceof Vv)return function(e,t){if(!Gv(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=sm(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Fr.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vc(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=yu.fromDate(e);return{timestampValue:Yl(t.R,n)}}if(e instanceof yu)return n=new yu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Yl(t.R,n)};if(e instanceof zv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bv)return{bytesValue:Xl(t.R,e._byteString)};if(e instanceof kv){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:eh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+bv(e))}(e,t)}function um(e,t){var n={};return Eu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wu(e,(function(e,r){var i=sm(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yu||e instanceof zv||e instanceof Bv||e instanceof kv||e instanceof Vv)}function lm(e,t,n){if(!cm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=bv(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function hm(e,t,n){if((t=(0,Fr.getModularInstance)(t))instanceof qv)return t._internalPath;if("string"==typeof t)return dm(e,t);throw pm("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var fm=new RegExp("[~\\*/\\[\\]]");function dm(e,t,n){if(t.search(fm)>=0)throw pm("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(qv.bind.apply(qv,(0,jr.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(_y){throw pm("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function pm(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ru(nu.INVALID_ARGUMENT,(s+=". ")+e+u)}function gm(e,t){return e.some((function(e){return e.isEqual(t)}))}var vm=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),mm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(vm);function ym(e,t){return"string"==typeof t?dm(e,t):t instanceof qv?t._internalPath:t._delegate._internalPath}var _m=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),bm=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,jr.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(vm),wm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(bm),Em=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new _m(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wm(n._firestore,n._userDataWriter,r.key,r,new _m(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ru(nu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new wm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _m(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _m(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Sm(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Sm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lu()}}function Tm(e,t){return e instanceof bm&&t instanceof bm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Em&&t instanceof Em&&e._firestore===t._firestore&&Pv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function km(e){if(Cc(e)&&0===e.explicitOrderBy.length)throw new ru(nu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Im=function(){};function Cm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var xm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,jr.__extends)(t,e),t.prototype._apply=function(e){var t=Yv(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ru(nu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Lm(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Dm(r,e,h))}s={arrayValue:{values:u}}}else s=Dm(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Lm(a,o),s=am(n,"where",a,"in"===o||"not-in"===o);var f=uc.create(i,o,s);return function(e,t){if(t.g()){var n=Nc(e);if(null!==n&&!n.isEqual(t.field))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=xc(e);null!==r&&Mm(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ru(nu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new ru(nu.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Iv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Im),Nm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,jr.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ru(nu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ru(nu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _c(t,n);return function(e,t){if(null===xc(e)){var n=Nc(e);null!==n&&Mm(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Iv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Sc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Im),Am=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,jr.__extends)(t,e),t.prototype._apply=function(e){return new Iv(e.firestore,e.converter,Rc(e._query,this.Hc,this.Jc))},t}(Im),Pm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,jr.__extends)(t,e),t.prototype._apply=function(e){var t=Rm(e,this.type,this.Yc,this.Xc);return new Iv(e.firestore,e.converter,function(e,t){return new Sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Im),Om=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,jr.__extends)(t,e),t.prototype._apply=function(e){var t=Rm(e,this.type,this.Yc,this.Xc);return new Iv(e.firestore,e.converter,function(e,t){return new Sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Im);function Rm(e,t,n,r){if(n[0]=(0,Fr.getModularInstance)(n[0]),n[0]instanceof vm)return function(e,t,n,r,i){if(!r)throw new ru(nu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Pc(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Gu(t,r.key));else{var c=r.data.field(u.field);if(Ru(c))throw new ru(nu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ru(nu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new mc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Yv(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new ru(nu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ru(nu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ac(e)&&-1!==c.indexOf("/"))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Tu.fromString(c));if(!Uu.isDocumentKey(l))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Uu(l);s.push(Gu(t,h))}else{var f=am(n,r,c);s.push(f)}}return new mc(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Dm(e,t,n){if("string"==typeof(n=(0,Fr.getModularInstance)(n))){if(""===n)throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ac(t)&&-1!==n.indexOf("/"))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Tu.fromString(n));if(!Uu.isDocumentKey(r))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Gu(e,new Uu(r))}if(n instanceof kv)return Gu(e,n._key);throw new ru(nu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bv(n)+".")}function Lm(e,t){if(!Array.isArray(e)||0===e.length)throw new ru(nu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ru(nu.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Mm(e,t,n){if(!n.isEqual(t))throw new ru(nu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jm=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),qu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lu()}},e.prototype.convertObject=function(e,t){var n=this,r={};return wu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new zv(Pu(e.latitude),Pu(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Du(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Au(e);return new yu(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Tu.fromString(e);hu(kh(n));var r=new sv(n.get(1),n.get(3)),i=new Uu(n.popFirst(5));return r.isEqual(t)||su("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Fm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Um=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,jr.__extends)(t,e),t.prototype.convertBytes=function(e){return new Bv(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kv(this.firestore,null,t)},t}(jm),qm=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yv(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Bm(e,this._firestore),i=Fm(r.converter,t,n),o=Xv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,rl.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Bm(e,this._firestore);return o="string"==typeof(t=(0,Fr.getModularInstance)(t))||t instanceof qv?om(this._dataReader,"WriteBatch.update",a._key,t,n,r):im(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,rl.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Bm(e,this._firestore);return this._mutations=this._mutations.concat(new yl(t._key,rl.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ru(nu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Bm(e,t){if((e=(0,Fr.getModularInstance)(e)).firestore!==t)throw new ru(nu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Vm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,jr.__extends)(t,e),t.prototype.convertBytes=function(e){return new Bv(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kv(this.firestore,null,t)},t}(jm);function zm(e,t,n){e=wv(e,kv);var r=wv(e.firestore,Lv),i=Fm(e.converter,t,n);return Hm(r,[Xv(Yv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rl.none())])}function Km(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=wv(e,kv);var o=wv(e.firestore,Lv),a=Yv(o);return Hm(o,[("string"==typeof(t=(0,Fr.getModularInstance)(t))||t instanceof qv?om(a,"updateDoc",e._key,t,n,r):im(a,"updateDoc",e._key,t)).toMutation(e._key,rl.exists(!0))])}function Wm(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Fr.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Rv(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Rv(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof kv)c=wv(e.firestore,Lv),l=kc(e._key.path),u={next:function(t){i[s]&&i[s](Gm(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=wv(e,Iv);c=wv(d.firestore,Lv),l=d._query;var p=new Vm(c);u={next:function(e){i[s]&&i[s](new Em(c,p,d,e))},error:i[s+1],complete:i[s+2]},km(e._query)}return function(e,t,n,r){var i=this,o=new Kg(r),a=new Yp(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(i,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t=Wp,[4,rv(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(i,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t=Hp,[4,rv(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Mv(c),l,h,u)}function Hm(e,t){return function(e,t){var n=this,r=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return n=lg,[4,nv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Mv(e),t)}function Gm(e,t,n){var r=n.docs.get(t._key),i=new Vm(e);return new bm(e,i,t._key,r,new _m(n.hasPendingWrites,n.fromCache),t.converter)}var $m=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,jr.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Bm(t,this._firestore),i=new Vm(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new bm(n._firestore,i,r._key,e._document,new _m(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yv(e)}return e.prototype.get=function(e){var t=this,n=Bm(e,this._firestore),r=new Um(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return lu();var i=e[0];if(i.isFoundDocument())return new vm(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vm(t._firestore,r,n._key,null,n.converter);throw lu()}))},e.prototype.set=function(e,t,n){var r=Bm(e,this._firestore),i=Fm(r.converter,t,n),o=Xv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Bm(e,this._firestore);return o="string"==typeof(t=(0,Fr.getModularInstance)(t))||t instanceof qv?om(this._dataReader,"Transaction.update",a._key,t,n,r):im(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Bm(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Qm(){if("undefined"==typeof Uint8Array)throw new ru(nu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ym(){if("undefined"==typeof atob)throw new ru(nu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Xm=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Ym(),new e(Bv.fromBase64String(t))},e.fromUint8Array=function(t){return Qm(),new e(Bv.fromUint8Array(t))},e.prototype.toBase64=function(){return Ym(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Qm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Jm=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Uv(e=wv(e,Lv));var n=Mv(e),r=e._freezeSettings(),i=new Vg;return Fv(n,i,new qg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Uv(e=wv(e,Lv));var t=Mv(e),n=e._freezeSettings(),r=new Vg;return Fv(t,r,new Bg(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ru(nu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Qh;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return Jh.yt()?(t=e+"main",[4,Jh.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(ld(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Zm=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof sv||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||uu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=wv(e,Tv))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&uu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Bd.MOCK_USER;else{a=(0,Fr.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ru(nu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Bd(u)}e._credentials=new hv(new cv(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,Zg(e)];case 1:return t=r.sent(),[4,tv(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=fu(e);return t.Or.delete(0),dp(t)}(n))]}}))}))}))}(Mv(wv(this._delegate,Lv)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,Zg(e)];case 1:return t=r.sent(),[4,tv(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return(t=fu(e)).Or.add(0),[4,pp(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Mv(wv(this._delegate,Lv)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&mv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(t,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return t=vg,[4,nv(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Mv(wv(this._delegate,Lv)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Kg(t);return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){fu(e).Gr.add(t),t.next()},[4,rv(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){fu(e).Gr.delete(t)},[4,rv(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Mv(e=wv(e,Lv)),Rv(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new ru(nu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new dy(this,xv(this._delegate,e))}catch(e){throw oy(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new iy(this,Nv(this._delegate,e))}catch(e){throw oy(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new ly(this,function(e,t){if(e=wv(e,Tv),gv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ru(nu.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Iv(e,null,function(e){return new Sc(Tu.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw oy(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return Jg(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Gg(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Mv(e),(function(n){return t(new $m(e,n))}))}(this._delegate,(function(n){return e(new ty(t,n))}))},e.prototype.batch=function(){var e=this;return Mv(this._delegate),new ny(new qm(this._delegate,(function(t){return Hm(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new ru(nu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new ru(nu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ey=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,jr.__extends)(t,e),t.prototype.convertBytes=function(e){return new Xm(new Bv(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return iy.eu(t,this.firestore,null)},t}(jm);var ty=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ey(e)}return e.prototype.get=function(e){var t=this,n=py(e);return this._delegate.get(n).then((function(e){return new uy(t._firestore,new bm(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=py(e);return n?(vv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=py(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,jr.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=py(e);return this._delegate.delete(t),this},e}(),ny=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=py(e);return n?(vv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=py(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,jr.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=py(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ry=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new wm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cy(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ey(t),n),i.set(n,o)),o},e}();ry.su=new WeakMap;var iy=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ey(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new ru(nu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new kv(n._delegate,r,new Uu(t)))},e.eu=function(t,n,r){return new e(n,new kv(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new dy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new dy(this.firestore,xv(this._delegate,e))}catch(e){throw oy(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Fr.getModularInstance)(e))instanceof kv&&Av(this._delegate,e)},e.prototype.set=function(e,t){t=vv("DocumentReference.set",t);try{return t?zm(this._delegate,e,t):zm(this._delegate,e)}catch(e){throw oy(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Km(this._delegate,e):Km.apply(void 0,(0,jr.__spreadArray)([this._delegate,e,t],n))}catch(e){throw oy(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Hm(wv((e=this._delegate).firestore,Lv),[new yl(e._key,rl.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ay(t),i=sy(t,(function(t){return new uy(e.firestore,new bm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Wm(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=wv(e,kv);var t=wv(e.firestore,Lv),n=Mv(t),r=new Vm(t);return function(e,t){var n=this,r=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=fu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ru(nu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Up(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ev(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new bm(t,r,e._key,n,new _m(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wv(e,kv);var t=wv(e.firestore,Lv);return iv(Mv(t),e._key,{source:"server"}).then((function(n){return Gm(t,e,n)}))}(this._delegate):function(e){e=wv(e,kv);var t=wv(e.firestore,Lv);return iv(Mv(t),e._key).then((function(n){return Gm(t,e,n)}))}(this._delegate)).then((function(e){return new uy(t.firestore,new bm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ry.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function oy(e,t,n){return e.message=e.message.replace(t,n),e}function ay(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Rv(r))return r}return{}}function sy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Rv(e[0])?e[0]:Rv(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new iy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Tm(this._delegate,e._delegate)},e}(),cy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,jr.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(uy),ly=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ey(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Cm(this._delegate,function(e,t,n){var r=t,i=ym("where",e);return new xm(i,r,n)}(t,n,r)))}catch(t){throw oy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Cm(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=ym("orderBy",e);return new Nm(r,n)}(t,n)))}catch(t){throw oy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Cm(this._delegate,function(e){return Ev("limit",e),new Am("limit",e,"F")}(t)))}catch(t){throw oy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Cm(this._delegate,function(e){return Ev("limitToLast",e),new Am("limitToLast",e,"L")}(t)))}catch(t){throw oy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Pm("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw oy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Pm("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw oy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Om("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw oy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Om("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw oy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Pv(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=wv(e,Iv);var t=wv(e.firestore,Lv),n=Mv(t),r=new Vm(t);return function(e,t){var n=this,r=new Qh;return e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,kd(e,t,!0)];case 1:return s=u.sent(),r=new rg(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Up(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,ev(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Em(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wv(e,Iv);var t=wv(e.firestore,Lv),n=Mv(t),r=new Vm(t);return ov(n,e._query,{source:"server"}).then((function(n){return new Em(t,r,e,n)}))}(this._delegate):function(e){e=wv(e,Iv);var t=wv(e.firestore,Lv),n=Mv(t),r=new Vm(t);return km(e._query),ov(n,e._query).then((function(n){return new Em(t,r,e,n)}))}(this._delegate)).then((function(e){return new fy(t.firestore,new Em(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ay(t),i=sy(t,(function(t){return new fy(e.firestore,new Em(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Wm(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ry.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),hy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new cy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),fy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new ly(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new cy(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hy(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new cy(n._firestore,r))}))},e.prototype.isEqual=function(e){return Tm(this._delegate,e._delegate)},e}(),dy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,jr.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new iy(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new iy(this.firestore,void 0===e?Nv(this._delegate):Nv(this._delegate,e))}catch(e){throw oy(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=wv(e.firestore,Lv),r=Nv(e),i=Fm(e.converter,t);return Hm(n,[Xv(Yv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new iy(t.firestore,e)}))},t.prototype.isEqual=function(e){return Av(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ry.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(ly);function py(e){return wv(e,kv)}var gy=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(qv.bind.apply(qv,(0,jr.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(Iu.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Fr.getModularInstance)(e))instanceof qv&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),vy=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new em("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Jv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tm("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nm("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new rm("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function my(e){return function(e,t){var n=Mv(e=wv(e,Lv)),r=new Dv;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new Wg(e,t)}(function(e,t){if(e instanceof Uint8Array)return zg(e,t);if(e instanceof ArrayBuffer)return zg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,op(t));e.asyncQueue.enqueueAndForget((function(){return(0,jr.__awaiter)(i,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return t=Fg,[4,nv(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function yy(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,jr.__awaiter)(n,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=fu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,ev(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Mv(t=wv(t,Lv)),n).then((function(e){return e?new Iv(t,null,e.query):null}))).then((function(e){return e?new ly(r,e):null}))}var _y,by=n(109),wy={Firestore:Zm,GeoPoint:zv,Timestamp:yu,Blob:Xm,Transaction:ty,WriteBatch:ny,DocumentReference:iy,DocumentSnapshot:uy,Query:ly,QueryDocumentSnapshot:cy,QuerySnapshot:fy,CollectionReference:dy,FieldPath:gy,FieldValue:vy,setLogLevel:function(e){var t;t=e,iu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new by.Component("firestore",(function(e){return function(e,t){return new Zm(e,new Lv(e,t),new Jm)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},wy)))})(_y=Lr.default),_y.registerVersion("@firebase/firestore","2.4.1"),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch($r){this.f($r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch($r){n.reject($r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(gs){o(gs)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function I(e,t,n){this.code=N+e,this.message=t||A[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new I(t.substring(N.length),e.message,e.serverResponse):null}T(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var x,N="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(oe){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}x=O("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(L,D),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new j((function(){return new V}),(function(e){e.reset()}));function B(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function $(e,t){return 0<=z(e,t)}function Q(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,ae=/"/g,se=/'/g,ue=/\x00/g,ce=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function he(e,t){return e<t?-1:e>t?1:0}e:{var fe=s.navigator;if(fe){var de=fe.userAgent;if(de){Z=de;break e}}Z=""}function pe(e){return le(Z,e)}function ge(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ve(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(te){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(te){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===ke&&t||"",this.b=Te}function Ee(e){return e instanceof we&&e.constructor===we&&e.b===Te?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.ta=!0,we.prototype.sa=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Se,Te={},ke={};function Ie(){if(void 0===Se){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){s.console&&s.console.error(n.message)}Se=e}else Se=e}return Se}function Ce(e,t){this.a=t===Oe?e:""}function xe(e){return e instanceof Ce&&e.constructor===Ce?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ne(e,t){var n=Ee(e);if(!Pe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ae,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?Ee(e):encodeURIComponent(String(e))})),function(e){var t=Ie();return new Ce(e=t?t.createScriptURL(e):e,Oe)}(e)}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Pe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Oe={};function Re(e,t){this.a=t===qe?e:""}function De(e){return e instanceof Re&&e.constructor===Re?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Le=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Me=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new Re(e,qe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Me);e=t&&Le.test(t[1])?new Re(e,qe):null}return e}function Ue(e){return e instanceof Re?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new Re(e,qe))}var qe={},Be=new Re("about:invalid#zClosurez",qe);function Ve(e,t,n){this.a=n===ze?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ze={};function Ke(e,t,n,r){return e=e instanceof Re?e:Ue(e),t=t||s,n=n instanceof we?Ee(n):n||"",t.open(De(e),n,r,void 0)}function We(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return ce.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ae,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=h;var $e,Qe=pe("Opera"),Ye=pe("Trident")||pe("MSIE"),Xe=pe("Edge"),Je=Xe||Ye,Ze=pe("Gecko")&&!(le(Z.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),et=le(Z.toLowerCase(),"webkit")&&!pe("Edge");function tt(){var e=s.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=Z;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):Xe?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):Qe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),Ye){var it=tt();if(null!=it&&it>parseFloat(nt)){$e=String(it);break e}}$e=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String($e)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=he(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||he(0==a[2].length,0==s[2].length)||he(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ye){var ut=tt();ot=ut||(parseInt($e,10)||void 0)}else ot=void 0;var ct=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ba){}var lt=!Ye||9<=Number(ct);function ht(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){ge(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:gt.hasOwnProperty(n)?e.setAttribute(gt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var dt,pt,gt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}K(a?J(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout((function(){throw e}),0)}function _t(e,t){pt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);pt=function(){e.then(Et)}}else pt=function(){var e=Et;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!pe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(dt||(dt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),dt(e)):s.setImmediate(e)}}(),bt||(pt(),bt=!0),wt.add(e,t)}var bt=!1,wt=new U;function Et(){for(var e;e=B();){try{e.a.call(e.b)}catch(oe){yt(oe)}F(q,e)}bt=!1}function St(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){jt(n,kt,e)}),(function(e){if(!(e instanceof Kt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(_y){}jt(n,It,e)}))}catch(r){jt(this,It,r)}}var Tt=0,kt=2,It=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new j((function(){return new Ct}),(function(e){e.reset()}));function Nt(e,t,n){var r=xt.get();return r.g=e,r.b=t,r.f=n,r}function At(e){if(e instanceof St)return e;var t=new St(h);return jt(t,kt,e),t}function Pt(e){return new St((function(t,n){n(e)}))}function Ot(e,t,n){Ft(e,t,n,null)||_t(E(t,e))}function Rt(e){return new St((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ot(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Dt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Tt&&1==r?Dt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):qt(n),Bt(n,i,It,t)))}e.c=null}else jt(e,It,t)}function Lt(e,t){e.b||e.a!=kt&&e.a!=It||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=Nt(null,null,null);return i.a=new St((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch($r){o($r)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Kt?o(t):e(i)}catch($r){o($r)}}:o})),i.a.c=e,Lt(e,i),i.a}function jt(e,t,n){e.a==Tt&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=It||n instanceof Kt||function(e,t){e.g=!0,_t((function(){e.g&&zt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof St)return Lt(e,Nt(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ut(e){e.h||(e.h=!0,_t(e.gc,e))}function qt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Bt(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(_y){zt.call(null,_y)}F(xt,t)}function Vt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}St.prototype.then=function(e,t,n){return Mt(this,p(e)?e:null,p(t)?t:null,n)},St.prototype.$goog_Thenable=!0,(e=St.prototype).oa=function(e,t){return(e=Nt(e,e,t)).c=!0,Lt(this,e),this},e.o=function(e,t){return Mt(this,null,e,t)},e.cancel=function(e){if(this.a==Tt){var t=new Kt(e);_t((function(){Dt(this,t)}),this)}},e.$c=function(e){this.a=Tt,jt(this,kt,e)},e.ad=function(e){this.a=Tt,jt(this,It,e)},e.gc=function(){for(var e;e=qt(this);)Bt(this,e,this.a,this.i);this.h=!1};var zt=yt;function Kt(e){D.call(this,e)}function Wt(){0!=Ht&&(Gt[v(this)]=this),this.ya=this.ya,this.pa=this.pa}T(Kt,D),Kt.prototype.name="cancel";var Ht=0,Gt={};function $t(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Ht)){var t=v(e);if(0!=Ht&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Wt.prototype.ya=!1,Wt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qt=Object.freeze||function(e){return e},Yt=!Ye||9<=Number(ct),Xt=Ye&&!st("9"),Jt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{Ge(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(en,Zt);var tn=Qt({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(oe){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?kn(e,t,n,g(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=wn(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=bn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?In(e,t,n,g(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function gn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)gn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=Sn(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&vn(n))}function vn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function mn(e){return e in hn?hn[e]:hn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=_n(o,r),i=i&&!1!==o)}return i}function _n(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&vn(e),n.call(r,t)}function bn(e,t){if(e.wa)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(te){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return _n(e,new en(t,this))}function wn(e){return(e=e[ln])instanceof sn?e:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(e){return p(e)?e:(e[En]||(e[En]=function(t){return e.handleEvent(t)}),e[En])}function Tn(){Wt.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Nn(e){var t=null;return new St((function(n,r){-1==(t=xn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function An(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Pn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function On(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof On)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(Tn,Wt),Tn.prototype[nn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){gn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;_e(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=On.prototype).X=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Rn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Dn(this.b,e)?this.b[e]:t},e.set=function(e,t){Dn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Un(this,ir(e.b)),this.h=e.h):e&&(n=String(e).match(Ln))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=Kn(n[2]||""),this.a=Kn(n[3]||"",!0),Fn(this,n[4]),this.f=Kn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Kn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function jn(e,t,n){e.c=n?Kn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tr(this,t),rr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Wn(t,Yn)),e.b=new Jn(t,e.i))}function qn(e,t,n){e.b.set(t,n)}function Bn(e,t){return e.b.get(t)}function Vn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function zn(e,t,n,r){var i=new Mn(null,void 0);return e&&jn(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Wn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Wn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wn(n,"/"==n.charAt(0)?Qn:$n,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Wn(n,Xn)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,ir(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,$n=/[#\?:]/g,Qn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new On,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function er(e){var t=Pn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=An(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function tr(e,t){Zn(e),t=or(e,t),Dn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function nr(e,t){return Zn(e),t=or(e,t),Dn(e.a.b,t)}function rr(e,t,n){tr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),J(n)),e.b+=n.length)}function ir(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new On(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return ur(new sr,e,t),t.join("")}function sr(){}function ur(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ur(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),ur(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Jn.prototype).add=function(e,t){Zn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach((function(n,r){K(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Zn(this);var t=[];if("string"===typeof e)nr(this,e)&&(t=X(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,nr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(lr,(function(e){var t=cr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),cr[e]=t),t})),'"')}function fr(){var e=Or();return Ye&&!!ct&&11==ct||/Edge\/\d+/.test(e)}function dr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(e,t){t=t||s.window;var n="about:blank";e&&(n=De(Fe(e)||Be)),t.location.href=n}function gr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<gr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function vr(e){return!!((e=(e||Or()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||s.window;try{e.close()}catch(oe){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Nr(Or())==Cr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Fe("undefined"!=typeof n.href?n.href:String(n))||Be,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:Ue(t),a.href=De(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ke("",r,n,a),e=De(t),a&&(Je&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new Ve(e=(r=Ie())?r.createHTML(e):e,null,ze),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ke(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var e=null;return new St((function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw gn(window,"load",e),t}))}function Er(e){return e=e||Or(),!("file:"!==Fr()&&"ionic:"!==Fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var e=s.window;try{return!(!e||e==e.top)}catch(oe){return!1}}function Tr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function kr(){return Lr.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Lr.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Ir(){var e=kr();return"ReactNative"===e||"Node"===e}var Cr="Firefox",xr="Chrome";function Nr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Cr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":xr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Pr(e,t){t=t||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Nr(i=Or()):"Worker"===r&&(r=Nr(i=Or())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Or(){return s.navigator&&s.navigator.userAgent||""}function Rr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Dr(){try{var e=s.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!s.indexedDB}catch(n){return Tr()&&!!s.indexedDB}return!1}function Mr(){return(jr()||"chrome-extension:"===Fr()||Er())&&!Ir()&&Dr()&&!Tr()}function jr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return s.location&&s.location.protocol||null}function Ur(e){return!vr(e=e||Or())&&Nr(e)!=Cr}function qr(e){return"undefined"===typeof e?null:ar(e)}function Br(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Vr(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Kr(e){return"Safari"!=Nr(e=e||Or())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Wr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Or(),t=kr(),this.b=vr(e)||"ReactNative"===t}function Gr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Yr(){return!(!Rr("fireauth.oauthhelper",s)&&!Rr("fireauth.iframe",s))}Hr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!jr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Jr={};function Zr(e){Jr[e]||(Jr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var ei={};Object.defineProperty(ei,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ei,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==ei.abcd}catch(Ba){Xr=!1}function ti(e,t,n){Xr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ni(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ti(e,n,t[n])}function ri(e){var t={};return ni(t,e),t}function ii(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ti(t,n,ii(e[n]));return t}function oi(e){var t=e&&(e[li]?"phone":null);if(!(t&&e&&e[ci]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");ti(this,"uid",e[ci]),ti(this,"displayName",e[si]||null);var n=null;e[ui]&&(n=new Date(e[ui]).toUTCString()),ti(this,"enrollmentTime",n),ti(this,"factorId",t)}function ai(e){try{var t=new hi(e)}catch(n){t=null}return t}oi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var si="displayName",ui="enrolledAt",ci="mfaEnrollmentId",li="phoneInfo";function hi(e){oi.call(this,e),ti(this,"phoneNumber",e[li])}function fi(e){var t={},n=e[vi],r=e[yi],i=e[_i];if(e=ai(e[mi]),!i||i!=pi&&i!=gi&&!n||i==gi&&!r||i==di&&!e)throw Error("Invalid checkActionCode response!");i==gi?(t[wi]=n||null,t[Si]=n||null,t[bi]=r):(t[wi]=r||null,t[Si]=r||null,t[bi]=n||null),t[Ei]=e||null,ti(this,ki,i),ti(this,Ti,ii(t))}T(hi,oi),hi.prototype.w=function(){var e=hi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var di="REVERT_SECOND_FACTOR_ADDITION",pi="EMAIL_SIGNIN",gi="VERIFY_AND_CHANGE_EMAIL",vi="email",mi="mfaInfo",yi="newEmail",_i="requestType",bi="email",wi="fromEmail",Ei="multiFactorInfo",Si="previousEmail",Ti="data",ki="operation";function Ii(e){var t=Bn(e=Vn(e),Ci)||null,n=Bn(e,xi)||null,r=Bn(e,Pi)||null;if(r=r&&Ri[r]||null,!t||!n||!r)throw new I("argument-error",Ci+", "+xi+"and "+Pi+" are required in a valid action code URL.");ni(this,{apiKey:t,operation:r,code:n,continueUrl:Bn(e,Ni)||null,languageCode:Bn(e,Ai)||null,tenantId:Bn(e,Oi)||null})}var Ci="apiKey",xi="oobCode",Ni="continueUrl",Ai="languageCode",Pi="mode",Oi="tenantId",Ri={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:di,signIn:pi,verifyAndChangeEmail:gi,verifyEmail:"VERIFY_EMAIL"};function Di(e){try{return new Ii(e)}catch(oe){return null}}function Li(e){var t=e[qi];if("undefined"===typeof t)throw new I("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"===typeof n){t=n[zi];var r=n[Bi];if(n=n[Vi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new I("argument-error",Bi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new I("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new I("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new I("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new I("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Ui])&&"object"===typeof t){if("string"===typeof(t=t[Ki])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new I("argument-error",Ki+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new I("argument-error",Ui+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Fi])&&"boolean"!==typeof t)throw new I("argument-error",Fi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[ji])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new I("argument-error",ji+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",ji="dynamicLinkDomain",Fi="handleCodeInApp",Ui="iOS",qi="url",Bi="installApp",Vi="minimumVersion",zi="packageName",Ki="bundleId";function Wi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Gi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function $i(e){var t=Yi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Qi(e){try{return new $i(e)}catch(oe){return null}}function Yi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Gi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch($r){}return null}$i.prototype.T=function(){return this.f},$i.prototype.l=function(){return this.c},$i.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ji},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ji},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ji},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Xi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function eo(e){for(var t in Zi)if(Zi[t].fa==e)return Zi[t];return null}function to(e){var t={};t["facebook.com"]=ao,t["google.com"]=uo,t["github.com"]=so,t["twitter.com"]=co;var n=e&&e[ro];try{if(n)return t[n]?new t[n](e):new oo(e);if("undefined"!==typeof e[no])return new io(e)}catch(r){}return null}var no="idToken",ro="providerId";function io(e){var t=e[ro];if(!t&&e[no]){var n=Qi(e[no]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ti(this,"providerId",t),ti(this,"isNewUser",n)}function oo(e){io.call(this,e),ti(this,"profile",ii((e=Vr(e.rawUserInfo||"{}"))||{}))}function ao(e){if(oo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(e){if(oo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",this.profile&&this.profile.login||null)}function uo(e){if(oo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function co(e){if(oo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",e.screenName||null)}function lo(e){var t=Vn(e),n=Bn(t,"link"),r=Bn(Vn(n),"link");return t=Bn(t,"deep_link_id"),Bn(Vn(t),"link")||t||r||n||e}function ho(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?fo:po}T(oo,io),T(ao,oo),T(so,oo),T(uo,oo),T(co,oo);var fo="enroll",po="signin";function go(){}function vo(e,t){return e.then((function(e){if(e[os]){var n=Qi(e[os]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new I("user-mismatch"):e}))}function mo(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,ti(this,"providerId",e),ti(this,"signInMethod",e)}function yo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function _o(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(oe){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ti(this,"idToken",t.idToken),t.accessToken&&ti(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ti(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");ti(this,"accessToken",t.oauthToken),ti(this,"secret",t.oauthTokenSecret)}ti(this,"providerId",e),ti(this,"signInMethod",n)}function wo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:er(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Eo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function So(e,t){this.Qc=t||[],ni(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(eo(e)||{}).Ja||null,this.pb=null}function To(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,e,[])}function ko(e){So.call(this,e,Ji),this.a=[]}function Io(){ko.call(this,"facebook.com")}function Co(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function xo(){ko.call(this,"github.com")}function No(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new xo).credential({accessToken:t})}function Ao(){ko.call(this,"google.com"),this.Ca("profile")}function Po(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Oo(){So.call(this,"twitter.com",Xi)}function Ro(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Do(e,t,n){this.a=e,this.f=t,ti(this,"providerId","password"),ti(this,"signInMethod",n===Mo.EMAIL_LINK_SIGN_IN_METHOD?Mo.EMAIL_LINK_SIGN_IN_METHOD:Mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Lo(e){return e&&e.email&&e.password?new Do(e.email,e.password,e.signInMethod):null}function Mo(){ni(this,{providerId:"password",isOAuthProvider:!1})}function jo(e,t){if(!(t=Fo(t)))throw new I("argument-error","Invalid email link!");return new Do(e,t.code,Mo.EMAIL_LINK_SIGN_IN_METHOD)}function Fo(e){return(e=Di(e=lo(e)))&&e.operation===pi?e:null}function Uo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new I("internal-error");this.a=e,ti(this,"providerId","phone"),this.fa="phone",ti(this,"signInMethod","phone")}function qo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Uo(t)}return null}function Bo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Vo(e){try{this.a=e||Lr.default.auth()}catch(oe){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ni(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Uo({fb:e,eb:t})}function Ko(e){if(e.temporaryProof&&e.phoneNumber)return new Uo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Po(o,n);case"facebook.com":return Co(n);case"github.com":return No(n);case"twitter.com":return Ro(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new ko(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Wo(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function $o(){this.b=null,this.a=[]}ho.prototype.Ha=function(){return this.a?At(this.a):At(this.b)},ho.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},go.prototype.ka=function(){},go.prototype.b=function(){},go.prototype.c=function(){},go.prototype.w=function(){},mo.prototype.ka=function(e){return xs(e,yo(this))},mo.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Ns(e,n)},mo.prototype.c=function(e,t){return vo(As(e,yo(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return xs(e,wo(this))},bo.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,Ns(e,n)},bo.prototype.c=function(e,t){return vo(As(e,wo(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},So.prototype.Ka=function(e){return this.Jb=me(e),this},T(To,So),T(ko,So),ko.prototype.Ca=function(e){return $(this.a,e)||this.a.push(e),this},ko.prototype.Rb=function(){return J(this.a)},ko.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},T(Io,ko),ti(Io,"PROVIDER_ID","facebook.com"),ti(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(xo,ko),ti(xo,"PROVIDER_ID","github.com"),ti(xo,"GITHUB_SIGN_IN_METHOD","github.com"),T(Ao,ko),ti(Ao,"PROVIDER_ID","google.com"),ti(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Oo,So),ti(Oo,"PROVIDER_ID","twitter.com"),ti(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Do.prototype.ka=function(e){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?hu(e,Fs,{email:this.a,oobCode:this.f}):hu(e,au,{email:this.a,password:this.f})},Do.prototype.b=function(e,t){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?hu(e,Us,{idToken:t,email:this.a,oobCode:this.f}):hu(e,Js,{idToken:t,email:this.a,password:this.f})},Do.prototype.c=function(e,t){return vo(this.ka(e),t)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ni(Mo,{PROVIDER_ID:"password"}),ni(Mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ni(Mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Uo.prototype.ka=function(e){return e.gb(Bo(this))},Uo.prototype.b=function(e,t){var n=Bo(this);return n.idToken=t,hu(e,uu,n)},Uo.prototype.c=function(e,t){var n=Bo(this);return n.operation="REAUTH",vo(e=hu(e,cu,n),t)},Uo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vo.prototype.gb=function(e,t){var n=this.a.a;return At(t.verify()).then((function(r){if("string"!==typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=g(e)?e.session:null,a=g(e)?e.phoneNumber:e;return i=o&&o.type==fo?o.Ha().then((function(e){return function(e,t){return hu(e,eu,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(t){return function(e,t){return hu(e,tu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return hu(e,Ys,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ni(Vo,{PROVIDER_ID:"phone"}),ni(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Qo,Yo=null;function Xo(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=We("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=We("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Jo(e,t,n){I.call(this,e,n),(e=t||{}).Kb&&ti(this,"email",e.Kb),e.ea&&ti(this,"phoneNumber",e.ea),e.credential&&ti(this,"credential",e.credential),e.$b&&ti(this,"tenantId",e.$b)}function Zo(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Ko(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Jo(t,n,e.message)}return null}function ea(){}function ta(e){return e.c||(e.c=e.b())}function na(){}function ra(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(_y){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function aa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function sa(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Xo,I),T(Jo,I),Jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&_e(e,t),e},Jo.prototype.toJSON=function(){return this.w()},ea.prototype.c=null,T(na,ea),na.prototype.a=function(){var e=ra(this);return e?new ActiveXObject(e):new XMLHttpRequest},na.prototype.b=function(){var e={};return ra(this)&&(e[0]=!0,e[1]=!0),e},Qo=new na,T(ia,ea),ia.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(e=oa.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,aa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(e){this.f=e,this.b=this.c=this.a=null}function ca(e,t){this.name=e,this.value=t}sa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},ca.prototype.toString=function(){return this.name};var la=new ca("SEVERE",1e3),ha=new ca("WARNING",900),fa=new ca("CONFIG",700),da=new ca("FINE",500);function pa(e){return e.c?e.c:e.a?pa(e.a):(M("Root logger has no level set."),null)}ua.prototype.log=function(e,t,n){if(e.value>=pa(this).value)for(p(t)&&(t=t()),e=new sa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ga={},va=null;function ma(e){var t;if(va||(va=new ua(""),ga[""]=va,va.c=fa),!(t=ga[e])){t=new ua(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ma(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ga[e]=t}return t}function ya(e,t){e&&e.log(da,t,void 0)}function _a(e){this.f=e}function ba(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(_a,ea),_a.prototype.a=function(){return new ba(this.f)},_a.prototype.b=function(e){return function(){return e}}({}),T(ba,Tn);var wa=0;function Ea(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Sa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ta(e)}function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ka(e){Tn.call(this),this.headers=new On,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(e=ba.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ta(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Sa(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Ea(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Sa(this):Ta(this),3==this.readyState&&Ea(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Sa(this))},e.sc=function(e){this.a&&(this.response=e,Sa(this))},e.Va=function(e){var t=this.i;t&&t.log(ha,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Sa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ha,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ha,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(ka,Tn);var Ia="";ka.prototype.b=ma("goog.net.XhrIo");var Ca=/^https?$/i,xa=["POST","PUT"];function Na(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Qo.a(),e.C=e.D?ta(e.D):ta(Qo),e.a.onreadystatechange=w(e.Wb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(te){return ya(e.b,Fa(e,"Error opening Xhr: "+te.message)),void Pa(e,te)}t=r||"";var o=new On(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)K(e,t,void 0);else for(var n=Pn(e),r=An(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Aa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!$(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{La(e),0<e.g&&(e.u=function(e){return Ye&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=xn(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(te){ya(e.b,Fa(e,"Send error: "+te.message)),Pa(e,te)}}function Aa(e){return"content-type"==e.toLowerCase()}function Pa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Oa(e),Da(e)}function Oa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Ma(e)&&2==ja(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==Ma(e))xn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ma(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=ja(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Ln)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ma(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+ja(e)+"]",Oa(e)}}finally{Da(e)}}}function Da(e,t){if(e.a){La(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(_y){(e=e.b)&&e.log(la,"Problem encountered resetting onreadystatechange: "+_y.message,void 0)}}}function La(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ma(e){return e.a?e.a.readyState:0}function ja(e){try{return 2<Ma(e)?e.a.status:-1}catch(oe){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+ja(e)+"]"}function Ua(e){var t=Xa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function qa(e,t,n){e.a=!0,e.c=n,e.f=!t,Wa(e)}function Va(e){if(e.a){if(!e.v)throw new Ha(e);e.v=!1}}function za(e,t,n,r){e.g.push([t,n,r]),e.a&&Wa(e)}function Ka(e){return G(e.g,(function(e){return p(e[1])}))}function Wa(e){if(e.h&&e.a&&Ka(e)){var t=e.h,n=Qa[t];n&&(s.clearTimeout(n.a),delete Qa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ka(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ua?(za(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new $a(t),Qa[t.a]=t,e.h=t.a)}function Ha(){D.call(this)}function Ga(){D.call(this)}function $a(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=ka.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Da(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Da(this,!0)),ka.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(la,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(oe){return ya(this.b,"Can not get response: "+oe.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ga(this),Va(this),qa(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,qa(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new St((function(e,t){r=e,i=t}));return za(this,r,(function(e){e instanceof Ga?o.cancel():i(e)})),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,T(Ha,D),Ha.prototype.message="Deferred has already fired",Ha.prototype.name="AlreadyCalledError",T(Ga,D),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",$a.prototype.c=function(){throw delete Qa[this.a],this.b};var Qa={};function Ya(e){var t={},n=t.document||document,r=xe(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ja(i,!0);var e=new ts(es,"Timeout reached for loading script "+r);Va(a),qa(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ja(i,t.xd||!1,u),Va(a),qa(a,!0,null))},i.onerror=function(){Ja(i,!0,u);var e=new ts(Za,"Error while loading script "+r);Va(a),qa(a,!1,e)},_e(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=xe(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ja(e,!0,this.Ma)}}function Ja(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Za=0,es=1;function ts(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function ns(e){this.f=e}function rs(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||as,this.g=me(e.secureTokenHeaders||ss),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||us,this.a=me(e.firebaseHeaders||cs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&Lr.default.INTERNAL.node&&Lr.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new _a(self):Ir()?this.f=new ns(n):this.f=new ia,this.b=null}T(ts,D),T(ns,ea),ns.prototype.a=function(){return new this.f},ns.prototype.b=function(){return{}};var is,os="idToken",as=new Hr(3e4,6e4),ss={"Content-Type":"application/x-www-form-urlencoded"},us=new Hr(3e4,6e4),cs={"Content-Type":"application/json"};function ls(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function hs(e,t){t&&(e.l=fs("https://securetoken.googleapis.com/v1/token",t),e.h=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=fs("https://identitytoolkit.googleapis.com/v2/",t))}function fs(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function ds(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ps(e,t,n,r,i,o,a){(function(){var e=Or();return!((e=Nr(e)!=xr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!ct||9<ct)})()||Tr()?e=w(e.u,e):(is||(is=new St((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ms]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){za(e,null,t,void 0)}(Ya(Ne(vs,{onload:ms})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}rs.prototype.T=function(){return this.b},rs.prototype.u=function(e,t,n,r,i,o){if(Tr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ka(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}kn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch($r){e=null}t&&t(e)})),In(a,"ready",(function(){u&&clearTimeout(u),$t(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),$t(this),t&&t(null)})),Na(a,e,n,r,i)};var vs=new we(ke,"https://apis.google.com/js/client.js?onload=%{onload}"),ms="__fcb"+Math.floor(1e6*Math.random()).toString();function ys(e,t,n,r,i,o,a){var s=Vn(t+n);qn(s,"key",e.c),a&&qn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&qn(s,c,i[c]);return new St((function(t,n){ps(e,s.toString(),(function(e){e?e.error?n(du(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:ar(Br(i)),e.a,e.v.get())}))}function _s(e){if("string"!==typeof(e=e.email)||!br.test(e))throw new I("invalid-email")}function bs(e){"email"in e&&_s(e)}function ws(e){if(!e[os]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,me(e));throw new I("internal-error")}}function Es(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}rs.prototype.s=function(e,t,n,r,i){var o=this;is.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},rs.prototype.Ab=function(){return hu(this,Zs,{})},rs.prototype.Cb=function(e,t){return hu(this,Xs,{idToken:e,email:t})},rs.prototype.Db=function(e,t){return hu(this,Js,{idToken:e,password:t})};var Ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ts(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function ks(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function Is(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(nr(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Cs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Zo(e)):e.errorMessage&&(t=fu(e.errorMessage)),t)throw t;ws(e)}function xs(e,t){return t.returnIdpCredential=!0,hu(e,nu,t)}function Ns(e,t){return t.returnIdpCredential=!0,hu(e,iu,t)}function As(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,hu(e,ru,t)}function Ps(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=rs.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ge(Ss,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),hu(this,Xs,n)},e.wb=function(e,t){return _e(e={requestType:"PASSWORD_RESET",email:e},t),hu(this,Hs,e)},e.xb=function(e,t){return _e(e={requestType:"EMAIL_SIGNIN",email:e},t),hu(this,zs,e)},e.vb=function(e,t){return _e(e={requestType:"VERIFY_EMAIL",idToken:e},t),hu(this,Ks,e)},e.Fb=function(e,t,n){return _e(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),hu(this,Ws,e)},e.gb=function(e){return hu(this,su,e)},e.ob=function(e,t){return hu(this,Qs,{oobCode:e,newPassword:t})},e.Sa=function(e){return hu(this,Rs,{oobCode:e})},e.kb=function(e){return hu(this,Os,{oobCode:e})};var Os={endpoint:"setAccountInfo",A:Ps,Z:"email",B:!0},Rs={endpoint:"resetPassword",A:Ps,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},Ds={endpoint:"signupNewUser",A:function(e){if(_s(e),!e.password)throw new I("weak-password")},G:ws,V:!0,B:!0},Ls={endpoint:"createAuthUri",B:!0},Ms={endpoint:"deleteAccount",O:["idToken"]},js={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},Fs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:_s,G:ws,V:!0,B:!0},Us={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:_s,G:ws,V:!0},qs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ts,G:ws,B:!0,Na:!0},Bs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ts,G:ws,B:!0,Na:!0},Vs={endpoint:"getAccountInfo"},zs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");_s(e)},Z:"email",B:!0},Ks={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");_s(e)},Z:"email",B:!0},Gs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},$s={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Qs={endpoint:"resetPassword",A:Ps,Z:"email",B:!0},Ys={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Xs={endpoint:"setAccountInfo",O:["idToken"],A:bs,V:!0},Js={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(bs(e),!e.password)throw new I("weak-password")},G:ws,V:!0},Zs={endpoint:"signupNewUser",G:ws,V:!0,B:!0},eu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},tu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},nu={endpoint:"verifyAssertion",A:ks,Za:Is,G:Cs,V:!0,B:!0},ru={endpoint:"verifyAssertion",A:ks,Za:Is,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw fu(e.errorMessage);ws(e)},V:!0,B:!0},iu={endpoint:"verifyAssertion",A:function(e){if(ks(e),!e.idToken)throw new I("internal-error")},Za:Is,G:Cs,V:!0},ou={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:ws,V:!0,B:!0},au={endpoint:"verifyPassword",A:function(e){if(_s(e),!e.password)throw new I("wrong-password")},G:ws,V:!0,B:!0},su={endpoint:"verifyPhoneNumber",A:Es,G:ws,B:!0},uu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");Es(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Zo(e);ws(e)}},cu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Es,G:ws,B:!0},lu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[os]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function hu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Pt(new I("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return At(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ys(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function fu(e){return du({error:{errors:[{message:e}],code:400,message:e}})}function du(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",_e(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=qr(e)),new I("internal-error",t)}function pu(e){this.b=e,this.a=null,this.sb=function(e){return(yu||(yu=new St((function(e,t){function n(){Wr(),Rr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Wr(),t(Error("Network Error"))},timeout:vu.get()})}if(Rr("gapi.iframes.Iframe"))e();else if(Rr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Rr("gapi.load")?n():t(Error("Network Error"))},At(Ya(r=Ne(gu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw yu=null,e})))).then((function(){return new St((function(t,n){Rr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),mu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var gu=new we(ke,"https://apis.google.com/js/api.js?onload=%{onload}"),vu=new Hr(3e4,6e4),mu=new Hr(5e3,15e3),yu=null;function _u(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=zn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=zn("https",this.l,null,"/__/auth/iframe"),this.a=e,qn(this.a,"apiKey",this.h),qn(this.a,"appName",this.i),this.b=null,this.c=[]}function bu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function wu(e){try{return Lr.default.app(e).auth().Ga()}catch(oe){return[]}}function Eu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Su(e){var t=dr();return function(e){return hu(e,Gs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:_r.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Xo(dr())}))}function Tu(e){return e.m||(e.m=wr().then((function(){if(!e.u){var t=e.c,n=e.i,r=wu(e.b),i=new _u(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new pu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",At(n)}return n.status="ERROR",At(n)}))}(e)}))),e.m}function ku(e){return e.l||(e.C=e.c?Pr(e.c,wu(e.b)):null,e.l=new rs(e.g,O(e.i),e.C),e.f&&hs(e.l,e.f)),e.l}function Iu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new bu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function Cu(e){if(this.a=e||Lr.default.INTERNAL.reactNative&&Lr.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function xu(e){this.b=e,this.a={},this.f=w(this.c,this)}_u.prototype.toString=function(){return this.f?qn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?qn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?qn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},bu.prototype.zb=function(e){return this.h=e,this},bu.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=zn("https",this.u,null,"/__/auth/handler");if(qn(e,"apiKey",this.s),qn(e,"appName",this.c),qn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Lr.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,qn(e,"providerId",this.a.providerId),t=Br((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=me(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ve(t)||qn(e,"customParameters",qr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&qn(e,"scopes",n.join(","))),this.l?qn(e,"redirectUrl",this.l):tr(e.b,"redirectUrl"),this.g?qn(e,"eventId",this.g):tr(e.b,"eventId"),this.i?qn(e,"v",this.i):tr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(e,a)&&qn(e,a,this.b[a]);return this.h?qn(e,"tid",this.h):tr(e.b,"tid"),this.f?qn(e,"eid",this.f):tr(e.b,"eid"),(a=wu(this.c)).length&&qn(e,"fw",a.join(",")),e.toString()},(e=Eu.prototype).Pb=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Tu(e).then((function(){return function(e,t){return e.sb.then((function(){return new St((function(n){e.a.send(t.type,t,n,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new St((function(t){return function n(){Nn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Nn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Or();return!Ur(e)&&!Kr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Pt(new I("popup-blocked"));if(a&&!Ur())return this.ma().o((function(t){mr(e),i(t)})),r(),At();this.a||(this.a=Su(ku(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){(Wo(n),a)||pr(Iu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=Su(ku(this)));var i=this;return this.a.then((function(){Wo(t),pr(Iu(i.s,i.g,i.b,e,t,dr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Tu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=Cu.prototype).get=function(e){return At(this.a.getItem(e)).then((function(e){return e&&Vr(e)}))},e.set=function(e,t){return At(this.a.setItem(e,qr(t)))},e.U=function(e){return At(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Nu,Au=[];function Pu(e,t,n){ve(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ou(e){this.a=e}function Ru(e){this.c=e,this.b=!1,this.a=[]}function Du(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Pt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new St((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Lu(e,c),t})).o((function(t){throw Lu(e,c),t}))}function Lu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Mu(){if(!qu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(K(Au,(function(n){n.b==e&&(t=n)})),!t){var t=new xu(e);Au.push(t)}return t}(),Pu(this.v,"keyChanged",(function(t,n){return Wu(e).then((function(t){return 0<t.length&&K(e.a,(function(e){e(t)})),{keyProcessed:$(t,n.key)}}))})),Pu(this.v,"ping",(function(){return At(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?At().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):At(null)}().then((function(t){(e.h=t)&&(e.g=new Ru(new Ou(t)),Du(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function ju(e){return new St((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new St((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ju(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Fu(e){return e.i||(e.i=ju(e)),e.i}function Uu(e,t){var n=0;return new St((function r(i,o){Fu(e).then(t).then(i).o((function(t){if(!(3<++n))return Fu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function qu(){try{return!!s.indexedDB}catch(Ba){return!1}}function Bu(e){return e.objectStore("firebaseLocalStorage")}function Vu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function zu(e){return new St((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Ku(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Du(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):At()}function Wu(e){return Fu(e).then((function(e){var t=Bu(Vu(e,!1));return t.getAll?zu(t.getAll()):new St((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=gr(e.c,n),e.c=n}return r}))}function Hu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Gu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=At().then((function(){if(qu()){var e=zr(),r="__sak"+e;return Nu||(Nu=new Mu),(n=Nu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){K(t.a,(function(t){t(e)}))})),e}))}function $u(){this.a={},this.type="inMemory"}function Qu(){if(!function(){var e="Node"==kr();if(!(e=Yu()||e&&Lr.default.INTERNAL.node&&Lr.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(oe){return!1}}()){if("Node"==kr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Yu()||Lr.default.INTERNAL.node.localStorage,this.type="localStorage"}function Yu(){try{var e=s.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){this.type="nullStorage"}function Ju(){if(!function(){var e="Node"==kr();if(!(e=Zu()||e&&Lr.default.INTERNAL.node&&Lr.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(oe){return!1}}()){if("Node"==kr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Zu()||Lr.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zu(){try{var e=s.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function ec(){var e={};e.Browser=rc,e.Node=ic,e.ReactNative=oc,e.Worker=ac,this.a=e[kr()]}xu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];K(r,(function(t){i.push(At().then((function(){return t(e.origin,e.data.data)})))})),Rt(i).then((function(r){var i=[];K(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),K(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ou.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ru.prototype.close=function(){for(;0<this.a.length;)Lu(this,this.a[0]);this.b=!0},(e=Mu.prototype).set=function(e,t){var n=this,r=!1;return Uu(this,(function(t){return zu((t=Bu(Vu(t,!0))).get(e))})).then((function(i){return Uu(n,(function(o){if(o=Bu(Vu(o,!0)),i)return i.value=t,zu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,zu(o.add(a))}))})).then((function(){return n.c[e]=t,Ku(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Uu(this,(function(t){return zu(Bu(Vu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Uu(this,(function(r){return n=!0,t.b++,zu(Bu(Vu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Ku(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Wu(e).then((function(t){0<t.length&&K(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Hu(e),t()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Hu(this)},(e=Gu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=$u.prototype).get=function(e){return At(this.a[e])},e.set=function(e,t){return this.a[e]=t,At()},e.U=function(e){return delete this.a[e],At()},e.ca=function(){},e.ia=function(){},(e=Qu.prototype).get=function(e){var t=this;return At().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return At().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return At().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&fn(s.window,"storage",e)},e.ia=function(e){s.window&&gn(s.window,"storage",e)},(e=Xu.prototype).get=function(){return At(null)},e.set=function(){return At()},e.U=function(){return At()},e.ca=function(){},e.ia=function(){},(e=Ju.prototype).get=function(e){var t=this;return At().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return At().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return At().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var tc,nc,rc={F:Qu,cb:Ju},ic={F:Qu,cb:Ju},oc={F:Cu,cb:Xu},ac={F:Qu,cb:Xu},sc={rd:"local",NONE:"none",td:"session"};function uc(){var e=!(Kr(Or())||!Sr()),t=Ur(),n=Dr();this.m=e,this.h=t,this.l=n,this.a={},tc||(tc=new ec),e=tc;try{this.g=!fr()&&Yr()||!s.indexedDB?new e.a.F:new Gu(Tr()?new $u:new e.a.F)}catch(r){this.g=new $u,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new $u}this.v=new $u,this.f=w(this.Zb,this),this.b={}}function cc(){return nc||(nc=new uc),nc}function lc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function hc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function fc(e,t,n){return n=hc(t,n),"local"==t.F&&(e.b[n]=null),lc(e,t.F).U(n)}function dc(e){e.c&&(clearInterval(e.c),e.c=null)}function pc(e){this.a=e,this.b=cc()}(e=uc.prototype).get=function(e,t){return lc(this,e.F).get(hc(e,t))},e.set=function(e,t,n){var r=hc(e,n),i=this,o=lc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=hc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),ve(this.a)&&(lc(this,"local").ca(this.f),this.h||(fr()||!Yr())&&s.indexedDB||!this.l||function(e){dc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=hc(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ve(this.a)&&(lc(this,"local").ia(this.f),dc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?lc(this,"local").ia(this.f):dc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ye&&ct&&10==ct&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&K(this.a[e],(function(e){e()}))};var gc,vc={name:"authEvent",F:"local"};function mc(){this.a=cc()}function yc(e,t){this.b=_c,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===gc&&(gc=s.Int32Array?new Int32Array(Ic):Ic),this.reset()}T(yc,(function(){this.b=-1}));for(var _c=64,bc=_c-1,wc=[],Ec=0;Ec<bc;Ec++)wc[Ec]=0;var Sc=X(128,wc);function Tc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|gc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function kc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Tc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Tc(e),i=0)}}e.c=i,e.g+=n}yc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var Ic=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cc(){yc.call(this,8,xc)}T(Cc,yc);var xc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new mc,this.g=new pc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ac(e){return new I("invalid-cordova-configuration",e)}function Pc(e){var t=new Cc;kc(t,e),e=[];var n=8*t.g;56>t.c?kc(t,Sc,56-t.c):kc(t,Sc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Tc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Oc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Rc(e){return e.f||(e.f=e.ma().then((function(){return new St((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Dc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=lo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Vr(Bn(o=Vn(i),"firebaseError")||null))?C(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Oc(e,i)}))}var n=new Ho("unknown",null,null,null,new I("no-auth-event")),r=!1,i=Nn(500).then((function(){return Dc(e).then((function(){r||Oc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Rr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Yo||(Yo=new $o),function(e){var t=Yo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Rr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Dc(e){var t=null;return function(e){return e.b.get(vc,e.a).then((function(e){return Go(e)}))}(e.g).then((function(n){return t=n,fc((n=e.g).b,vc,n.a)})).then((function(){return t}))}function Lc(e){this.a=e,this.b=cc()}(e=Nc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Er(void 0)?wr().then((function(){return new St((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Pt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Rr("universalLinks.subscribe",s))throw Ac("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Rr("BuildInfo.packageName",s))throw Ac("cordova-plugin-buildinfo is not installed");if("function"!==typeof Rr("cordova.plugins.browsertab.openUrl",s))throw Ac("cordova-plugin-browsertab is not installed");if("function"!==typeof Rr("cordova.InAppBrowser.open",s))throw Ac("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Pb=function(e,t){return t(new I("operation-not-supported-in-this-environment")),At()},e.Nb=function(){return Pt(new I("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Pt(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=At().then((function(){return Wo(t),Rc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new I("no-auth-event"),null,i),u=Rr("BuildInfo.packageName",s);if("string"!==typeof u)throw new I("invalid-cordova-configuration");var c=Rr("BuildInfo.displayName",s),l={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Or().toLowerCase().match(/android/))return Pt(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Pc(o),l.sessionId=o;var h=Iu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(vc,a.w(),t)})).then((function(){var t=Rr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Rr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Rr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");t=Or(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new St((function(e,t){u=function(){var t=Rr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Nn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Dc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Rc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var Mc={name:"pendingRedirect",F:"session"};function jc(e){return fc(e.b,Mc,e.a)}function Fc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Zc,this.C=new il,this.g=new Lc(Xc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Uc(this.D,this.v,this.m,x,this.J)}function Uc(e,t,n,r,i){var o=Lr.default.SDK_VERSION||null;return Er()?new Nc(e,t,n,o,r,i):new Eu(e,t,n,o,r,i)}function qc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Bc(e){e.a.Yb()&&qc(e).o((function(t){var n=new Ho("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Gc(t)&&e.s(n)})),e.a.Ub()||el(e.b)}function Vc(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Mc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?jc(e.g).then((function(){qc(e).o((function(t){var n=new Ho("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Gc(t)&&e.s(n)}))})):Bc(e)})).o((function(){Bc(e)}))}function zc(e,t){Y(e.h,(function(e){return e==t}))}Fc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Uc(this.D,this.v,this.m,null,this.J),this.i={}},Fc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return el(this.b),t};var Kc=new Hr(2e3,1e4),Wc=new Hr(3e4,6e4);function Hc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Gc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function $c(e,t,n,r,i){var o;return function(e){return e.b.set(Mc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Gc(t))throw new I("operation-not-supported-in-this-environment");return o=t,jc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new St((function(){})):jc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Qc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Kc.get())}Fc.prototype.ra=function(){return this.b.ra()};var Yc={};function Xc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Jc(e,t,n,r){var i=Xc(t,n,r);return Yc[i]||(Yc[i]=new Fc(e,t,n,r)),Yc[i]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function el(e){e.g||(e.g=!0,rl(e,!1,null,null))}function tl(e){e.g&&!e.i&&rl(e,!1,null,null)}function nl(e,t){if(e.b=function(){return At(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function rl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Pt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):nl(e,n):nl(e,{user:null}),e.f=[],e.c=[]}function il(){}function ol(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function al(e,t){this.a=t,ti(this,"verificationId",e)}function sl(e,t,n,r){return new Vo(e).gb(t,n).then((function(e){return new al(e,r)}))}function ul(e){var t=Yi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ni(this,{token:e,expirationTime:Qr(1e3*t.exp),authTime:Qr(1e3*t.auth_time),issuedAtTime:Qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function cl(e,t,n){var r=t&&t[hl];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new ho(null,r),this.b=[];var i=this;K(t[ll]||[],(function(e){(e=ai(e))&&i.b.push(e)})),ti(this,"auth",this.a),ti(this,"session",this.c),ti(this,"hints",this.b)}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(rl(this,!0,null,e.a),At()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){rl(e,s,t,null)})).o((function(t){rl(e,s,null,t)}))}(this,e,t):Pt(new I("invalid-auth-event")):(rl(this,!1,null,null),At())}else Pt(new I("invalid-auth-event"))},Zc.prototype.ra=function(){var e=this;return new St((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=Nn(Wc.get()).then((function(){e.b||(e.g=!0,rl(e,!0,null,t))}))}(e))}))},il.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),At()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Pt(new I("invalid-auth-event"))}else Pt(new I("invalid-auth-event"))},al.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var ll="mfaInfo",hl="mfaPendingCredential";function fl(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new cl(e,t,n),ti(this,"resolver",this.b)}function dl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new fl(t,e.serverResponse,n,e.message)}catch(r){}return null}function pl(){}function gl(e){ti(this,"factorId",e.fa),this.a=e}function vl(e){if(gl.call(this,e),this.a.fa!=Vo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ml(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function yl(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ci]=e.uid),e.displayName&&(r[si]=e.displayName),e.enrollmentTime&&(r[ui]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[li]=e.phoneNumber);try{t=new hi(r)}catch(te){}e=t}else e=null;e&&n.push(e)})),_l(this,n)}function _l(e,t){e.b=t,ti(e,"enrolledFactors",t)}function bl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function wl(e,t){e.stop(),e.b=Nn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Gr()||!e?At():new St((function(n){t=function(){Gr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){wl(e,!0)})).o((function(t){e.i(t)&&wl(e,!1)}))}function El(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function Sl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Tl(e,t){e.b=Qi(t[os]||""),e.a=t.refreshToken,Sl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function kl(e,t){return function(e,t){return new St((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ps(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(du(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",er(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Qi(t.access_token),e.a=t.refresh_token,Sl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Il(e,t){this.a=e||null,this.b=t||null,ni(this,{lastSignInTime:Qr(t||null),creationTime:Qr(e||null)})}function Cl(e,t,n,r,i,o){ni(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function xl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Lr.default.SDK_VERSION?Pr(Lr.default.SDK_VERSION):null;this.a=new rs(this.l,O(x),r),(this.u=e.emulatorConfig||null)&&hs(this.a,this.u),this.h=new El(this.a),jl(this,t[os]),Tl(this.h,t),ti(this,"refreshToken",this.h.a),ql(this,n||{}),Tn.call(this),this.P=!1,this.s&&Mr()&&(this.b=Jc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new bl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Nl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ol(i,e.f)},this.ja=null,this.S=new yl(this,n),ti(this,"multiFactor",this.S)}function Nl(e,t){e.u=t,hs(e.a,t),e.b&&(t=e.b,e.b=Jc(e.s,e.l,e.m,e.u),e.P&&(zc(t,e),Vc(e.b,e)))}function Al(e,t){e.qa&&gn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Pl(e,t){e.$&&gn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function Ol(e,t){e.aa=t,ds(e.a,Lr.default.SDK_VERSION?Pr(Lr.default.SDK_VERSION,e.aa):null)}function Rl(e,t){e.ja&&gn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function Dl(e){try{return Lr.default.app(e.m).auth()}catch(oe){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ll(e){e.J||e.D.b||(e.D.start(),gn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Ml(e){gn(e,"tokenChanged",e.ba),e.D.stop()}function jl(e,t){e.Aa=t,ti(e,"_lat",t)}function Fl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Rt(t).then((function(){return e}))}function Ul(e){e.b&&!e.P&&(e.P=!0,Vc(e.b,e))}function ql(e,t){ni(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Il(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Bl(){}function Vl(e){return At().then((function(){if(e.J)throw new I("app-deleted")}))}function zl(e){return H(e.providerData,(function(e){return e.providerId}))}function Kl(e,t){t&&(Wl(e,t.providerId),e.providerData.push(t))}function Wl(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Hl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ti(e,t,n)}function Gl(e,t){e!=t&&(ni(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ti(e,"metadata",function(e){return new Il(e.a,e.b)}(t.metadata)):ti(e,"metadata",new Il),K(t.providerData,(function(t){Kl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ti(e,"refreshToken",e.h.a),_l(e.S,t.S.b))}function $l(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return hu(e.a,Vs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Hl(e,"isAnonymous",!1),t}))}))}function Ql(e,t){t[os]&&e.Aa!=t[os]&&(Tl(e.h,t),e.dispatchEvent(new ml("tokenChanged")),jl(e,t[os]),Hl(e,"refreshToken",e.h.a))}function Yl(e,t){return $l(e).then((function(){if($(zl(e),t))return Fl(e).then((function(){throw new I("provider-already-linked")}))}))}function Xl(e,t,n){return ri({user:e,credential:Ko(t),additionalUserInfo:t=to(t),operationType:n})}function Jl(e,t){return Ql(e,t),e.reload().then((function(){return e}))}function Zl(e,t,n,r,i){if(!Mr())return Pt(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Pt(e.i);var o=eo(n.providerId),a=zr(e.uid+":::"),s=null;(!Ur()||Sr())&&e.s&&n.isOAuthProvider&&(s=Iu(e.s,e.l,e.m,t,n,null,a,Lr.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=yr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(th(e),!i)return e.I().then((function(){}))})).then((function(){return Hc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new St((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Qc(e.b,e,t,u,a)}))})).then((function(e){return u&&mr(u),e?ri(e):null})).o((function(e){throw u&&mr(u),e})),nh(e,r,i)}function eh(e,t,n,r,i){if(!Mr())return Pt(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Pt(e.i);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(th(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Fl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(oh,e.w(),t.a)),t})).then((function(){return $c(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return ah(e.ha);throw o})).then((function(){if(o)throw o})),nh(e,r,i)}function th(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function nh(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Pt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ml("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Q(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=dl(t.w(),Dl(e),w(e.jc,e))),n||t}))}function rh(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[os]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new xl(t,n,e);return e.providerData&&K(e.providerData,(function(e){e&&Kl(i,ri(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function ih(e){this.a=e,this.b=cc()}cl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=me(t.f);return delete n[ll],delete n[hl],_e(n,e),t.g(n)}))},T(fl,I),pl.prototype.tb=function(e,t,n){return t.type==fo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_e(n,{phoneVerificationInfo:Bo(e.a)}),hu(t,qs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return _e(n={mfaPendingCredential:n},{phoneVerificationInfo:Bo(e.a)}),hu(t,Bs,n)}))}(this,e,t)},T(gl,pl),T(vl,gl),T(ml,Zt),(e=yl.prototype).yc=function(e){_l(this,function(e){var t=[];return K(e.mfaInfo||[],(function(e){(e=ai(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new ho(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Ql(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return hu(r,lu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return _l(t,r),Ql(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},bl.prototype.start=function(){this.a=this.c,wl(this,!0)},bl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},El.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},El.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Pt(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?kl(this,{grant_type:"refresh_token",refresh_token:this.a}):At(null):At({accessToken:this.b.toString(),refreshToken:this.a})},Il.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(xl,Tn),xl.prototype.xa=function(e){this.za=e,ls(this.a,e)},xl.prototype.la=function(){return this.za},xl.prototype.Ga=function(){return J(this.aa)},xl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ti(xl.prototype,"providerId","firebase"),(e=xl.prototype).reload=function(){var e=this;return nh(this,Vl(this).then((function(){return $l(e).then((function(){return Fl(e)})).then(Bl)})))},e.oc=function(e){return this.I(e).then((function(e){return new ul(e)}))},e.I=function(e){var t=this;return nh(this,Vl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.Aa&&(jl(t,e.accessToken),t.dispatchEvent(new ml("tokenChanged"))),Hl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");ql(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Cl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Kl(this,t[n]);Hl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ml("userReloaded",{hd:e}))},e.Lc=function(e){return Zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return nh(this,e.c(this.a,this.uid).then((function(e){return Ql(t,e),n=Xl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return nh(this,Yl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Xl(t,e,"link"),Jl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return nh(this,Yl(this,"phone").then((function(){return sl(Dl(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return nh(this,At().then((function(){return sl(Dl(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return nh(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Ql(t,e),t.reload()})))},e.ed=function(e){var t=this;return nh(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Ql(t,e),t.reload()})))},e.Db=function(e){var t=this;return nh(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Ql(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Vl(this);var t=this;return nh(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Ql(t,e),Hl(t,"displayName",e.displayName||null),Hl(t,"photoURL",e.photoUrl||null),K(t.providerData,(function(e){"password"===e.providerId&&(ti(e,"displayName",t.displayName),ti(e,"photoURL",t.photoURL))})),Fl(t)})).then(Bl))},e.cd=function(e){var t=this;return nh(this,$l(this).then((function(n){return $(zl(t),e)?function(e,t,n){return hu(e,js,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return K(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),K(zl(t),(function(e){n[e]||Wl(t,e)})),n[Vo.PROVIDER_ID]||ti(t,"phoneNumber",null),Fl(t)})):Fl(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return nh(this,this.I().then((function(t){return hu(e.a,Ms,{idToken:t})})).then((function(){e.dispatchEvent(new ml("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Al(e,null),Pl(e,null),Rl(e,null),e.N=[],e.J=!0,Ml(e),ti(e,"refreshToken",null),e.b&&zc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return Zl(this,"linkViaPopup",e,(function(){return Yl(t,e.providerId).then((function(){return Fl(t)}))}),!1)},e.Nc=function(e){return Zl(this,"reauthViaPopup",e,(function(){return At()}),!0)},e.Fc=function(e){var t=this;return eh(this,"linkViaRedirect",e,(function(){return Yl(t,e.providerId)}),!1)},e.Oc=function(e){return eh(this,"reauthViaRedirect",e,(function(){return At()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Ns(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Xl(i,e,"link"),Jl(i,e)})).then((function(){return o})),nh(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return nh(this,At().then((function(){return vo(As(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Xl(i,e,"reauthenticate"),Ql(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return nh(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ve(e)?{}:Wi(new Li(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return nh(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ve(t)?{}:Wi(new Li(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return nh(this,e=vo(At(e),n.uid).then((function(e){return t=Xl(n,e,"reauthenticate"),Ql(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&_e(e,this.metadata.w()),K(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),_e(e,this.S.w()),e};var oh={name:"redirectUser",F:"session"};function ah(e){return fc(e.b,oh,e.a)}function sh(e){this.a=e,this.b=cc(),this.c=null,this.f=function(e){var t=lh("local"),n=lh("session"),r=lh("none");return function(e,t,n){var r=hc(t,n),i=lc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Vr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ch,e.a).then((function(e){return e?lh(e):t}))}))}))})).then((function(t){return e.c=t,uh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(lh("local"),this.a,w(this.g,this))}function uh(e,t){var n,r=[];for(n in sc)sc[n]!==t&&r.push(fc(e.b,lh(sc[n]),e.a));return r.push(fc(e.b,ch,e.a)),function(e){return new St((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Ot(e[s],E(o,s),a);else t(i)}))}(r)}sh.prototype.g=function(){var e=this,t=lh("local");ph(this,(function(){return At().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return uh(e,"local").then((function(){e.c=t}))}))}))};var ch={name:"persistence",F:"session"};function lh(e){return{name:"authUser",F:e}}function hh(e,t){return ph(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function fh(e){return ph(e,(function(){return fc(e.b,e.c,e.a)}))}function dh(e,t,n){return ph(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),rh(e||{})}))}))}function ph(e,t){return e.f=e.f.then(t,t),e.f}function gh(e){if(this.l=!1,ti(this,"settings",new ol),ti(this,"app",e),!Th(this).options||!Th(this).options.apiKey)throw new I("invalid-api-key");e=Lr.default.SDK_VERSION?Pr(Lr.default.SDK_VERSION):null,this.a=new rs(Th(this).options&&Th(this).options.apiKey,O(x),e),this.P=[],this.s=[],this.N=[],this.Pa=Lr.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=Lr.default.INTERNAL.createSubscribe(w(this.Ac,this)),Eh(this,null),this.i=new sh(Th(this).options.apiKey+":"+Th(this).name),this.D=new ih(Th(this).options.apiKey+":"+Th(this).name),this.$=xh(this,function(e){var t=Th(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(oh,e.a).then((function(e){return e&&t&&(e.authDomain=t),rh(e||{})}))}(e.D,Th(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),ah(e.D)}));return xh(e,t)}(e).then((function(){return dh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return hh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:fh(e.i)}))):null})).then((function(t){Eh(e,t||null)}));return xh(e,n)}(this)),this.h=xh(this,function(e){return e.$.then((function(){return bh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(lh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=Th(e).options.authDomain,n=Th(e).options.apiKey;t&&Mr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Jc(t,n,Th(e).name,e.R),Vc(e.b,e),kh(e)&&Ul(kh(e)),e.m){Ul(e.m);var r=e.m;r.xa(e.la()),Al(r,e),Ol(r=e.m,e.J),Rl(r,e),Nl(r=e.m,e.R),Pl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=ri({protocol:e.c,host:e.a,port:e.g,options:ri({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function vh(e){Zt.call(this,"languageCodeChanged"),this.h=e}function mh(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function yh(e){Zt.call(this,"frameworkChanged"),this.f=e}function _h(e){return e.Oa||Pt(new I("auth-domain-config-required"))}function bh(e){if(!Mr())return Pt(new I("operation-not-supported-in-this-environment"));var t=_h(e).then((function(){return e.b.ra()})).then((function(e){return e?ri(e):null}));return xh(e,t)}function wh(e,t){var n={};return n.apiKey=Th(e).options.apiKey,n.authDomain=Th(e).options.authDomain,n.appName=Th(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new xl(e,t);return n&&(i.ha=n),r&&Ol(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return kh(e)&&t.uid==kh(e).uid?(Gl(kh(e),t),e.da(t)):(Eh(e,t),Ul(t),e.da(t))})).then((function(){Ch(e)}))}function Eh(e,t){kh(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(kh(e),e.Ba),gn(kh(e),"tokenChanged",e.qa),gn(kh(e),"userDeleted",e.za),gn(kh(e),"userInvalidated",e.Aa),Ml(kh(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Ll(t)),ti(e,"currentUser",t),t&&(t.xa(e.la()),Al(t,e),Ol(t,e.J),Rl(t,e),Nl(t,e.R),Pl(t,e))}function Sh(e,t){var n=null,r=null;return xh(e,t.then((function(t){return n=Ko(t),r=to(t),wh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=dl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ri({user:kh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Th(e){return e.app}function kh(e){return e.currentUser}function Ih(e){return kh(e)&&kh(e)._lat||null}function Ch(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Ih(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Ih(e))}}function xh(e,t){return e.P.push(t),t.oa((function(){Q(e.P,t)})),t}function Nh(){}function Ah(){this.a={},this.b=1e12}sh.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in sc)if(sc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!qu()&&"none"!==e)throw n;break;default:if(!Dr()&&"none"!==e)throw n}}(e),ph(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,uh(n,e)})).then((function(){if(n.c=lh(e),t)return n.b.set(n.c,t,n.a)})):At()}))},T(gh,Tn),T(vh,Zt),T(mh,Zt),T(yh,Zt),(e=gh.prototype).yb=function(e){return xh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ls(this.a,this.aa),this.dispatchEvent(new vh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&wr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,hs(this.a,this.R),this.dispatchEvent(new mh(this.R))}},e.Gc=function(e){this.J.push(e),ds(this.a,Lr.default.SDK_VERSION?Pr(Lr.default.SDK_VERSION,this.J):null),this.dispatchEvent(new yh(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Th(this).options.apiKey,authDomain:Th(this).options.authDomain,appName:Th(this).name,currentUser:kh(this)&&kh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Sh(i,xs(i.a,o))}))},e.Xc=function(e){if(!Mr())return Pt(new I("operation-not-supported-in-this-environment"));var t=this,n=eo(e.providerId),r=zr(),i=null;(!Ur()||Sr())&&Th(this).options.authDomain&&e.isOAuthProvider&&(i=Iu(Th(this).options.authDomain,Th(this).options.apiKey,Th(this).name,"signInViaPopup",e,null,r,Lr.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(i,n&&n.va,n&&n.ua);return n=_h(this).then((function(n){return Hc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new St((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Qc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&mr(o),e?ri(e):null})).o((function(e){throw o&&mr(o),e})),xh(this,n)},e.Yc=function(e){if(!Mr())return Pt(new I("operation-not-supported-in-this-environment"));var t=this,n=_h(this).then((function(){return function(e){return ph(e,(function(){return e.b.set(ch,e.c.F,e.a)}))}(t.i)})).then((function(){return $c(t.b,"signInViaRedirect",e,void 0,t.T())}));return xh(this,n)},e.ra=function(){var e=this;return bh(this).then((function(t){return e.b&&tl(e.b.b),t})).o((function(t){throw e.b&&tl(e.b.b),t}))},e.dd=function(e){if(!e)return Pt(new I("null-user"));if(this.S!=e.tenantId)return Pt(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=Th(this).options.apiKey,n.authDomain=Th(this).options.authDomain,n.appName=Th(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[os]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new xl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Ol(t,r),Gl(t,e),t}(e,n,t.D,t.Ga());return xh(this,this.h.then((function(){if(Th(t).options.apiKey!=e.l)return r.reload()})).then((function(){return kh(t)&&e.uid==kh(t).uid?(Gl(kh(t),e),t.da(e)):(Eh(t,r),Ul(r),t.da(r))})).then((function(){Ch(t)})))},e.Bb=function(){var e=this;return xh(this,this.h.then((function(){return e.b&&tl(e.b.b),kh(e)?(Eh(e,null),fh(e.i).then((function(){Ch(e)}))):At()})))},e.Zc=function(){var e=this;return dh(this.i,Th(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=kh(e)&&t){n=kh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Gl(kh(e),t),kh(e).I();(kh(e)||t)&&(Eh(e,t),t&&(Ul(t),t.ha=e.D),e.b&&Vc(e.b,e),Ch(e))}}))},e.da=function(e){return hh(this.i,e)},e.mc=function(){Ch(this),this.da(kh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Sh(t,At(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(kh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),xh(e,e.h.then((function(){!e.l&&$(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Ih(e)))})))}(this,(function(){e.next(kh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(kh(r)):"function"===typeof e.next&&e.next(kh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(kh(r)):"function"===typeof e.next&&e.next(kh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return xh(this,this.h.then((function(){return kh(t)?kh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return Sh(t,hu(t.a,ou,{token:e}))})).then((function(e){var n=e.user;return Hl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Sh(n,hu(n.a,au,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Sh(n,hu(n.a,Ds,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Sh(t,e.ka(t.a))}))},e.Sc=function(e){return Zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=kh(e);if(t&&t.isAnonymous){var n=ri({providerId:null,isNewUser:!1});return ri({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Sh(e,e.a.Ab()).then((function(t){var n=t.user;return Hl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return kh(this)&&kh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&kh(this)&&Ll(kh(this))},e.Pc=function(e){var t=this;K(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&kh(this)&&Ml(kh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),xh(this,this.h.then((function(){t.l||$(t.s,e)&&e(Ih(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(lh("local"),e.a,this.ja),this.b&&(zc(this.b,this),tl(this.b.b)),Promise.resolve()},e.hc=function(e){return xh(this,function(e,t){return hu(e,Ls,{identifier:t,continueUri:jr()?dr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Fo(e)},e.xb=function(e,t){var n=this;return xh(this,At().then((function(){var e=new Li(t);if(!e.c)throw new I("argument-error",Fi+" must be true when sending sign in link to email");return Wi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return xh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return xh(this,this.a.Sa(e).then((function(e){return new fi(e)})))},e.kb=function(e){return xh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return xh(this,At().then((function(){return"undefined"===typeof t||ve(t)?{}:Wi(new Li(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return xh(this,sl(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return xh(this,At().then((function(){var r=t||dr(),i=jo(e,r);if(!(r=Fo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)})))},Nh.prototype.render=function(){},Nh.prototype.reset=function(){},Nh.prototype.getResponse=function(){},Nh.prototype.execute=function(){};var Ph=null;function Oh(e,t){return(t=Rh(t))&&e.a[t]||null}function Rh(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Dh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ht(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Lh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Mh(){}function jh(){}Ah.prototype.render=function(e,t){return this.a[this.b.toString()]=new Dh(e,t),this.b++},Ah.prototype.reset=function(e){var t=Oh(this,e);e=Rh(e),t&&e&&(t.delete(),delete this.a[e])},Ah.prototype.getResponse=function(e){return(e=Oh(this,e))?e.getResponse():null},Ah.prototype.execute=function(e){(e=Oh(this,e))&&e.execute()},Dh.prototype.getResponse=function(){return Lh(this),this.b},Dh.prototype.execute=function(){Lh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Dh.prototype.delete=function(){Lh(this),this.g=!0,clearTimeout(this.a),this.a=null,gn(this.f,"click",this.i)},ti(Mh,"FACTOR_ID","phone"),jh.prototype.g=function(){return Ph||(Ph=new Ah),At(Ph)},jh.prototype.c=function(){};var Fh=null;function Uh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var qh=new we(ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Bh=new Hr(3e4,6e4);Uh.prototype.g=function(e){var t=this;return new St((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Bh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[t.a]},At(Ya(Ne(qh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Uh.prototype.c=function(){this.b--};var Vh=null;function zh(e,t,n,r,i,o,a){if(ti(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Fh||(Fh=new jh),a=Fh):(Vh||(Vh=new Uh),a=Vh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Hh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gh],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ht(t)||!this.i&&ht(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new rs(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Kh];this.a[Kh]=function(e){if($h(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Rr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Wh];this.a[Wh]=function(){if($h(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Rr(l,s);"function"===typeof e&&e()}}}var Kh="callback",Wh="expired-callback",Hh="sitekey",Gh="size";function $h(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Qh(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Yh(e){if(e.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Xh(e,t,n){var r=!1;try{this.b=n||Lr.default.app()}catch(te){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(te){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(te){}o=Lr.default.SDK_VERSION?Pr(Lr.default.SDK_VERSION,o):null,zh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,O(x),r)}function Jh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Zh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Zh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=zh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Qh(this,At().then((function(){if(jr()&&!Tr())return wr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,hu(e.s,$s,{})})).then((function(t){e.a[Hh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Yh(this);var e=this;return Qh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ht(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};_e(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ft(o,a)),2<r.length&&vt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Yh(this);var e=this;return Qh(this,this.render().then((function(t){return new St((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Yh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Yh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ht(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Xh,zh);var Zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ef(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function tf(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function nf(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function rf(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function of(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function af(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function sf(e,t){return g(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function uf(e){return g(e)&&"string"===typeof e.uid}function cf(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function lf(e,t){for(var n in t){var r=t[n].name;e[r]=df(r,e[n],t[n].j)}}function hf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Jh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function ff(e,t,n,r){e[t]=df(t,n,r)}function df(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Jh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}lf(gh.prototype,{kb:{name:"applyActionCode",j:[ef("code")]},Sa:{name:"checkActionCode",j:[ef("code")]},ob:{name:"confirmPasswordReset",j:[ef("code"),ef("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ef("email"),ef("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ef("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ef("emailLink")]},Hc:{name:"onAuthStateChanged",j:[cf(nf(),rf(),"nextOrObserver"),rf("opt_error",!0),rf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[cf(nf(),rf(),"nextOrObserver"),rf("opt_error",!0),rf("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ef("email"),cf(nf("opt_actionCodeSettings",!0),of(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ef("email"),nf("actionCodeSettings")]},yb:{name:"setPersistence",j:[ef("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[af()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[af()]},Tc:{name:"signInWithCustomToken",j:[ef("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ef("email"),ef("password")]},Vc:{name:"signInWithEmailLink",j:[ef("email"),ef("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ef("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[cf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof xl)}},of(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ef(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ef("url"),nf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ef("code")]}}),hf(gh.prototype,{lc:{name:"languageCode",lb:cf(ef(),of(),"languageCode")},ti:{name:"tenantId",lb:cf(ef(),of(),"tenantId")}}),gh.Persistence=sc,gh.Persistence.LOCAL="local",gh.Persistence.SESSION="session",gh.Persistence.NONE="none",lf(xl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[tf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[tf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[af()]},rb:{name:"linkWithCredential",j:[af()]},Dc:{name:"linkWithPhoneNumber",j:[ef("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[af()]},ub:{name:"reauthenticateWithCredential",j:[af()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ef("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[cf(nf("opt_actionCodeSettings",!0),of(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ef(null,!0)]},cd:{name:"unlink",j:[ef("provider")]},Cb:{name:"updateEmail",j:[ef("email")]},Db:{name:"updatePassword",j:[ef("password")]},ed:{name:"updatePhoneNumber",j:[af("phone")]},Eb:{name:"updateProfile",j:[nf("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ef("email"),cf(nf("opt_actionCodeSettings",!0),of(null,!0),"opt_actionCodeSettings",!0)]}}),lf(Ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lf(Nh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lf(St.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),hf(ol.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:tf("appVerificationDisabledForTesting")}}),lf(al.prototype,{confirm:{name:"confirm",j:[ef("verificationCode")]}}),ff(go,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[Eo,Lo,qo,_o],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[cf(ef(),nf(),"json")]),ff(Mo,"credential",(function(e,t){return new Do(e,t)}),[ef("email"),ef("password")]),lf(Do.prototype,{w:{name:"toJSON",j:[ef(null,!0)]}}),lf(Io.prototype,{Ca:{name:"addScope",j:[ef("scope")]},Ka:{name:"setCustomParameters",j:[nf("customOAuthParameters")]}}),ff(Io,"credential",Co,[cf(ef(),nf(),"token")]),ff(Mo,"credentialWithLink",jo,[ef("email"),ef("emailLink")]),lf(xo.prototype,{Ca:{name:"addScope",j:[ef("scope")]},Ka:{name:"setCustomParameters",j:[nf("customOAuthParameters")]}}),ff(xo,"credential",No,[cf(ef(),nf(),"token")]),lf(Ao.prototype,{Ca:{name:"addScope",j:[ef("scope")]},Ka:{name:"setCustomParameters",j:[nf("customOAuthParameters")]}}),ff(Ao,"credential",Po,[cf(ef(),cf(nf(),of()),"idToken"),cf(ef(),of(),"accessToken",!0)]),lf(Oo.prototype,{Ka:{name:"setCustomParameters",j:[nf("customOAuthParameters")]}}),ff(Oo,"credential",Ro,[cf(ef(),nf(),"token"),ef("secret",!0)]),lf(ko.prototype,{Ca:{name:"addScope",j:[ef("scope")]},credential:{name:"credential",j:[cf(ef(),cf(nf(),of()),"optionsOrIdToken"),cf(ef(),of(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[nf("customOAuthParameters")]}}),lf(bo.prototype,{w:{name:"toJSON",j:[ef(null,!0)]}}),lf(mo.prototype,{w:{name:"toJSON",j:[ef(null,!0)]}}),ff(Vo,"credential",zo,[ef("verificationId"),ef("verificationCode")]),lf(Vo.prototype,{gb:{name:"verifyPhoneNumber",j:[cf(ef(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?sf(e.session,fo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?sf(e.session,po)&&uf(e.multiFactorHint):e.session&&e.multiFactorUid?sf(e.session,po)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),lf(Uo.prototype,{w:{name:"toJSON",j:[ef(null,!0)]}}),lf(I.prototype,{toJSON:{name:"toJSON",j:[ef(null,!0)]}}),lf(Jo.prototype,{toJSON:{name:"toJSON",j:[ef(null,!0)]}}),lf(Xo.prototype,{toJSON:{name:"toJSON",j:[ef(null,!0)]}}),lf(fl.prototype,{toJSON:{name:"toJSON",j:[ef(null,!0)]}}),lf(cl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),lf(yl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},ef("displayName",!0)]},bd:{name:"unenroll",j:[cf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:uf},ef(),"multiFactorInfoIdentifier")]}}),lf(Xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ff(Ii,"parseLink",Di,[ef("link")]),ff(Mh,"assertion",(function(e){return new vl(e)}),[af("phone")]),function(){if("undefined"===typeof Lr.default||!Lr.default.INTERNAL||!Lr.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:di,VERIFY_AND_CHANGE_EMAIL:gi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:gh,AuthCredential:go,Error:I};ff(e,"EmailAuthProvider",Mo,[]),ff(e,"FacebookAuthProvider",Io,[]),ff(e,"GithubAuthProvider",xo,[]),ff(e,"GoogleAuthProvider",Ao,[]),ff(e,"TwitterAuthProvider",Oo,[]),ff(e,"OAuthProvider",ko,[ef("providerId")]),ff(e,"SAMLAuthProvider",To,[ef("providerId")]),ff(e,"PhoneAuthProvider",Vo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof gh)}}]),ff(e,"RecaptchaVerifier",Xh,[cf(ef(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),nf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Lr.default.app.App)}}]),ff(e,"ActionCodeURL",Ii,[]),ff(e,"PhoneMultiFactorGenerator",Mh,[]),Lr.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new gh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Lr.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Lr.default.registerVersion("@firebase/auth","0.16.8"),Lr.default.INTERNAL.extendNamespace({User:xl})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ey=Lr.default.initializeApp({apiKey:"AIzaSyC84uBo8IHqc0lxGaiMaFDubEmAM-wcif4",authDomain:"buffalo-app-academia-geek-sad.firebaseapp.com",projectId:"buffalo-app-academia-geek-sad",storageBucket:"buffalo-app-academia-geek-sad.appspot.com",messagingSenderId:"734851305139",appId:"1:734851305139:web:1c6aa7dd259183a0eeaac6"}),Sy=new Lr.default.auth.GoogleAuthProvider,Ty=Lr.default.firestore(Ey);console.log(Sy);var ky,Iy=Ey;n(101);(ky=Zm).prototype.loadBundle=my,ky.prototype.namedQuery=yy;var Cy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xy=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,jr.__extends)(t,e),t}(Error);var Ny=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Ay(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Py=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return Ay(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?Ay(e,(function(e){return t.decode(e)})):e},e}();var Oy=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Py,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Ny(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(_y){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,jr.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new xy("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Ry(c,this.postJSON(r,i,o)),l,Ry(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new xy("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Cy[s])return new xy("internal","internal");r=Cy[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(_y){}return"ok"===r?null:new xy(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new xy("internal","Response is not valid JSON object.");if("undefined"===typeof(d=h.json.data)&&(d=h.json.result),"undefined"===typeof d)throw new xy("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Ry(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Oy};e.INTERNAL.registerComponent(new by.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Oy(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Lr.default,fetch.bind(self)),Lr.default.registerVersion("@firebase/functions","0.6.16");var Dy,Ly=n(662),My="0.4.32",jy=1e4,Fy="w:0.4.32",Uy="FIS_v2",qy=36e5,By=((Dy={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Dy["not-registered"]="Firebase Installation is not registered.",Dy["installation-not-found"]="Firebase Installation not found.",Dy["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Dy["app-offline"]="Could not process request. Application offline.",Dy["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Dy),Vy=new Fr.ErrorFactory("installations","Installations",By);function zy(e){return e instanceof Fr.FirebaseError&&e.code.includes("request-failed")}function Ky(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Wy(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Hy(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Vy.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Gy(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $y(e,t){var n=t.refreshToken,r=Gy(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function Qy(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Yy(e,t){var n=t.fid;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return t=Ky(e),r=Gy(e),i={fid:n,authVersion:Uy,appId:e.appId,sdkVersion:Fy},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Qy((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Wy(s.authToken)}];case 3:return[4,Hy("Create Installation",a)];case 4:throw u.sent()}}))}))}function Xy(e){return new Promise((function(t){setTimeout(t,e)}))}var Jy=/^[cdef][\w-]{21}$/;function Zy(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,jr.__spreadArray)([],(0,jr.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Jy.test(t)?t:""}catch(Xv){return""}}function e_(e){return e.appName+"!"+e.appId}var t_=new Map;function n_(e,t){var n=e_(e);r_(n,t),function(e,t){var n=o_();n&&n.postMessage({key:e,fid:t});a_()}(n,t)}function r_(e,t){var n,r,i=t_.get(e);if(i)try{for(var o=(0,jr.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var i_=null;function o_(){return!i_&&"BroadcastChannel"in self&&((i_=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){r_(e.data.key,e.data.fid)}),i_}function a_(){0===t_.size&&i_&&(i_.close(),i_=null)}var s_,u_="firebase-installations-store",c_=null;function l_(){return c_||(c_=(0,Ly.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(u_)}))),c_}function h_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return n=e_(e),[4,l_()];case 1:return r=s.sent(),i=r.transaction(u_,"readwrite"),[4,(o=i.objectStore(u_)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||n_(e,t.fid),[2,t]}}))}))}function f_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return t=e_(e),[4,l_()];case 1:return n=i.sent(),[4,(r=n.transaction(u_,"readwrite")).objectStore(u_).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function d_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return n=e_(e),[4,l_()];case 1:return r=u.sent(),i=r.transaction(u_,"readwrite"),[4,(o=i.objectStore(u_)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||n_(e,s.fid),[2,s]}}))}))}function p_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,d_(e,(function(n){var r=function(e){return m_(e||{fid:Zy(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Vy.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Yy(e,t)];case 1:return n=i.sent(),[2,h_(e,n)];case 2:return zy(r=i.sent())&&409===r.customData.serverCode?[4,f_(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,h_(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:g_(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function g_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return[4,v_(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Xy(100)];case 3:return o.sent(),[4,v_(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,p_(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function v_(e){return d_(e,(function(e){if(!e)throw Vy.create("installation-not-found");return m_(e)}))}function m_(e){return 1===(t=e).registrationStatus&&t.registrationTime+jy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function y_(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,jr.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Ky(e)+"/"+n+"/authTokens:generate"}(n,t),i=$y(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Fy}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Qy((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Wy(c)];case 3:return[4,Hy("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function __(e,t){return void 0===t&&(t=!1),(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return[4,d_(e.appConfig,(function(r){if(!w_(r))throw Vy.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qy}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,b_(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Xy(100)];case 3:return i.sent(),[4,b_(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,__(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Vy.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,jr.__assign)((0,jr.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,y_(e,t)];case 1:return n=o.sent(),i=(0,jr.__assign)((0,jr.__assign)({},t),{authToken:n}),[4,h_(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!zy(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,f_(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,jr.__assign)((0,jr.__assign)({},t),{authToken:{requestStatus:0}}),[4,h_(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function b_(e){return d_(e,(function(e){if(!w_(e))throw Vy.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+jy<Date.now()?(0,jr.__assign)((0,jr.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function w_(e){return void 0!==e&&2===e.registrationStatus}function E_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return[4,p_(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function S_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Ky(e)+"/"+n}(e,t),r=$y(e,t),i={method:"DELETE",headers:r},[4,Qy((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Hy("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function T_(e,t){var n=e.appConfig;return function(e,t){o_();var n=e_(e),r=t_.get(n);r||(r=new Set,t_.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=e_(e),r=t_.get(n);r&&(r.delete(t),0===r.size&&t_.delete(n),a_())}(n,t)}}function k_(e){return Vy.create("missing-app-config-values",{valueName:e})}(s_=Lr.default).INTERNAL.registerComponent(new by.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw k_("App Configuration");if(!e.name)throw k_("App Name");try{for(var r=(0,jr.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw k_(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,p_(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):__(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return[4,E_(e.appConfig)];case 1:return n.sent(),[4,__(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,d_(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Vy.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Vy.create("app-offline");case 3:return[4,S_(t,n)];case 4:return r.sent(),[4,f_(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return T_(r,e)}};return i}),"PUBLIC")),s_.registerVersion("@firebase/installations",My);var I_,C_,x_=n(839),N_=((I_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',I_["only-available-in-window"]="This method is available in a Window context.",I_["only-available-in-sw"]="This method is available in a service worker context.",I_["permission-default"]="The notification permission was not granted and dismissed instead.",I_["permission-blocked"]="The notification permission was not granted and blocked instead.",I_["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",I_["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",I_["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",I_["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",I_["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",I_["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",I_["token-update-no-token"]="FCM returned no token when updating the user to push.",I_["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",I_["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",I_["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",I_["invalid-vapid-key"]="The public VAPID key must be a string.",I_["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",I_),A_=new Fr.ErrorFactory("messaging","Messaging",N_),P_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",O_="google.c.a.c_id";function R_(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,jr.__spreadArray)([],(0,jr.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function D_(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(C_||(C_={}));var L_="fcm_token_details_db",M_="fcm_token_object_Store";function j_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(L_))return[2,null];o.label=2;case 2:return r=null,[4,(0,x_.openDb)(L_,5,(function(t){return(0,jr.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(M_)?[4,(n=t.transaction.objectStore(M_)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:R_(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:R_(o.auth),p256dh:R_(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:R_(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,x_.deleteDb)(L_)];case 4:return o.sent(),[4,(0,x_.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,x_.deleteDb)("undefined")];case 6:return o.sent(),[2,F_(r)?r:null]}}))}))}function F_(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var U_="firebase-messaging-store",q_=null;function B_(){return q_||(q_=(0,x_.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(U_)}))),q_}function V_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return t=W_(e),[4,B_()];case 1:return[4,i.sent().transaction(U_).objectStore(U_).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,j_(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,z_(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function z_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return n=W_(e),[4,B_()];case 1:return r=o.sent(),[4,(i=r.transaction(U_,"readwrite")).objectStore(U_).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function K_(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return t=W_(e),[4,B_()];case 1:return n=i.sent(),[4,(r=n.transaction(U_,"readwrite")).objectStore(U_).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function W_(e){return e.appConfig.appId}function H_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return[4,Y_(e)];case 1:n=u.sent(),r=X_(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Q_(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),A_.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,A_.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw A_.create("token-subscribe-no-token");return[2,o.token]}}))}))}function G_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return[4,Y_(e)];case 1:n=u.sent(),r=X_(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Q_(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),A_.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,A_.create("token-update-failed",{errorInfo:s});if(!o.token)throw A_.create("token-update-no-token");return[2,o.token]}}))}))}function $_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return[4,Y_(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Q_(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,A_.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),A_.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Q_(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Y_(e){var t=e.appConfig,n=e.installations;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function X_(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==P_&&(o.web.applicationPubKey=i),o}function J_(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw A_.create("permission-blocked");return[4,nb(t,n)];case 1:return r=s.sent(),[4,V_(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:R_(r.getKey("auth")),p256dh:R_(r.getKey("p256dh"))},i?[3,3]:[2,tb(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,$_(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,tb(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,eb({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Z_(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,V_(e)];case 1:return(n=i.sent())?[4,$_(e,n.token)]:[3,4];case 2:return i.sent(),[4,K_(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function eb(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,G_(t,e)];case 1:return r=a.sent(),i=(0,jr.__assign)((0,jr.__assign)({},e),{token:r,createTime:Date.now()}),[4,z_(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Z_(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function tb(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,H_(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,z_(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function nb(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:D_(t)})]}}))}))}function rb(e){return"object"===typeof e&&!!e&&O_ in e}function ib(e){return new Promise((function(t){setTimeout(t,e)}))}var ob=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw A_.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,V_(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:P_,r.label=2;case 2:return[2,J_(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Z_(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw A_.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw A_.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw A_.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw A_.create("only-available-in-window")},e.prototype.onMessage=function(){throw A_.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw A_.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,cb()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,ub(n,t)]:(r=!1,t.notification?[4,lb(ab(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,ib(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Z_(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,V_(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Z_(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,J_(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:P_)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return rb(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,sb(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,ib(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=C_.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function ab(e){var t,n=(0,jr.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function sb(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return[4,cb()];case 1:t=u.sent();try{for(n=(0,jr.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function ub(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=C_.PUSH_RECEIVED;try{for(var i=(0,jr.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function cb(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function lb(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var hb=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===C_.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),rb(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw A_.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,J_(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=P_),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw A_.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),A_.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Z_(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?A_.create("permission-blocked"):A_.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw A_.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw A_.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw A_.create("invalid-sw-registration");if(this.swRegistration)throw A_.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw A_.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw A_.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case C_.NOTIFICATION_CLICKED:return"notification_open";case C_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function fb(e){return A_.create("missing-app-config-values",{valueName:e})}var db={isSupported:pb};function pb(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Lr.default.INTERNAL.registerComponent(new by.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw fb("App Configuration Object");if(!e.name)throw fb("App Name");var r=e.options;try{for(var i=(0,jr.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw fb(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!pb())throw A_.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ob(r):new hb(r)}),"PUBLIC").setServiceProps(db));var gb="firebasestorage.googleapis.com",vb=function(e){function t(n,r){var i=e.call(this,mb(n),"Firebase Storage: "+r+" ("+mb(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,jr.__extends)(t,e),t.prototype._codeEquals=function(e){return mb(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Fr.FirebaseError);function mb(e){return"storage/"+e}function yb(){return new vb("unknown","An unknown error occurred, please check the error payload for server response.")}function _b(){return new vb("canceled","User canceled the upload/download.")}function bb(){return new vb("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wb(e){return new vb("invalid-argument",e)}function Eb(){return new vb("app-deleted","The Firebase app was deleted.")}function Sb(e){return new vb("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tb(e,t){return new vb("invalid-format","String does not match format '"+e+"': "+t)}function kb(e){throw new vb("internal-error","Internal error: "+e)}var Ib={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Cb=function(e,t){this.data=e,this.contentType=t||null};function xb(e,t){switch(e){case Ib.RAW:return new Cb(Nb(t));case Ib.BASE64:case Ib.BASE64URL:return new Cb(Ab(e,t));case Ib.DATA_URL:return new Cb(function(e){var t=new Pb(e);return t.base64?Ab(Ib.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(_y){throw Tb(Ib.DATA_URL,"Malformed data URL.")}return Nb(t)}(t.rest)}(t),new Pb(t).contentType)}throw yb()}function Nb(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ab(e,t){switch(e){case Ib.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Tb(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ib.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Tb(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(_y){throw Tb(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Pb=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Tb(Ib.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var Ob,Rb={STATE_CHANGED:"state_changed"},Db={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Lb(e){switch(e){case"running":case"pausing":case"canceling":return Db.RUNNING;case"paused":return Db.PAUSED;case"success":return Db.SUCCESS;case"canceled":return Db.CANCELED;default:return Db.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ob||(Ob={}));var Mb=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ob.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Ob.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Ob.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw kb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw kb("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw kb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(_y){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw kb("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var jb=function(){function e(){}return e.prototype.createConnection=function(){return new Mb},e}(),Fb=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(_y){return new e(t,"")}if(""===r.path)return r;throw new vb("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===gb?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new vb("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Ub=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function qb(e){return"string"===typeof e||e instanceof String}function Bb(e){return Vb()&&e instanceof Blob}function Vb(){return"undefined"!==typeof Blob}function zb(e,t,n,r){if(r<t)throw wb("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw wb("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Kb(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Wb(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Hb=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(_y){o(_y)}else null!==a?((r=yb()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Eb():_b()):o(r=new vb("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Gb(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,jr.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,jr.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Gb(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Ob.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Gb(a,r))}else{var s=r.getErrorCode()===Ob.ABORT;t(!1,new Gb(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Gb=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function $b(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Qb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$b();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Vb())return new Blob(e);throw new vb("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Yb=function(){function e(e,t){var n=0,r="";Bb(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Bb(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Vb()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Qb.apply(null,r))}var i=t.map((function(e){return qb(e)?xb(Ib.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Xb(e){var t;try{t=JSON.parse(e)}catch(_y){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Jb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Zb(e,t){return t}var ew=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Zb},tw=null;function nw(){if(tw)return tw;var e=[];e.push(new ew("bucket")),e.push(new ew("generation")),e.push(new ew("metageneration")),e.push(new ew("name","fullPath",!0));var t=new ew("name");t.xform=function(e,t){return function(e){return!qb(e)||e.length<2?e:Jb(e)}(t)},e.push(t);var n=new ew("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ew("timeCreated")),e.push(new ew("updated")),e.push(new ew("md5Hash",null,!0)),e.push(new ew("cacheControl",null,!0)),e.push(new ew("contentDisposition",null,!0)),e.push(new ew("contentEncoding",null,!0)),e.push(new ew("contentLanguage",null,!0)),e.push(new ew("contentType",null,!0)),e.push(new ew("metadata","customMetadata",!0)),tw=e}function rw(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Fb(n,r);return t._makeStorageReference(i)}})}(r,e),r}function iw(e,t,n){var r=Xb(t);return null===r?null:rw(e,r,n)}function ow(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function aw(e,t,n){var r=Xb(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Fb(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Fb(t,l.name)),r.items.push(s)}return r}(e,t,r)}var sw=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function uw(e){if(!e)throw yb()}function cw(e,t){return function(n,r){var i=iw(e,r,t);return uw(null!==i),i}}function lw(e,t){return function(n,r){var i=iw(e,r,t);return uw(null!==i),function(e,t,n){var r=Xb(t);if(null===r)return null;if(!qb(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Kb("/b/"+o(r)+"/o/"+o(i),n)+Wb({alt:"media",token:t})}))[0]}(i,r,e.host)}}function hw(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new vb("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new vb("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new vb("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new vb("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function fw(e){var t=hw(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new vb("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function dw(e,t,n){var r=Kb(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new sw(r,"GET",cw(e,n),i);return o.errorHandler=fw(t),o}function pw(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Kb(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new sw(a,"GET",function(e,t){return function(n,r){var i=aw(e,t,r);return uw(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=hw(t),u}function gw(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var vw=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function mw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(_y){uw(!1)}return uw(!!n&&-1!==(t||["active"]).indexOf(n)),n}var yw=262144;function _w(e,t,n,r,i,o,a,s){var u=new vw(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new vb("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw bb();var g=t.maxUploadRetryTime,v=new sw(n,"POST",(function(e,n){var i,a=mw(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?cw(t,o)(e,n):null,new vw(s,c,"final"===a,i)}),g);return v.headers=d,v.body=p.uploadData(),v.progressCallback=s||null,v.errorHandler=hw(e),v}var bw=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function ww(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Ew=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=nw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=gw(t,r,i),s={name:a.fullPath},u=Kb(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ow(a,n),h=e.maxUploadRetryTime,f=new sw(u,"POST",(function(e){var t;mw(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(_y){uw(!1)}return uw(qb(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=hw(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new sw(n,"POST",(function(e){var t=mw(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(_y){uw(!1)}n||uw(!1);var i=Number(n);return uw(!isNaN(i)),new vw(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=hw(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=yw*this._chunkMultiplier,n=new vw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=_w(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(_y){return e._error=_y,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){yw*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=dw(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=gw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ow(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Yb.getBlob(c,r,l);if(null===h)throw bb();var f={name:u.fullPath},d=Kb(o,e.host),p=e.maxUploadRetryTime,g=new sw(d,"POST",cw(e,n),p);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=hw(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=_b(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Lb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new bw(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Lb(this._state)){case Db.SUCCESS:ww(this._resolve.bind(null,this.snapshot))();break;case Db.CANCELED:case Db.ERROR:ww(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Lb(this._state)){case Db.RUNNING:case Db.PAUSED:e.next&&ww(e.next.bind(e,this.snapshot))();break;case Db.SUCCESS:e.complete&&ww(e.complete.bind(e))();break;default:e.error&&ww(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Sw=function(){function e(e,t){this._service=e,this._location=t instanceof Fb?t:Fb.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Fb(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Jb(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Fb(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Sb(e)},e}();function Tw(e){var t={prefixes:[],items:[]};return kw(e,t).then((function(){return t}))}function kw(e,t,n){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return[4,Iw(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,kw(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Iw(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&zb("options.maxResults",1,1e3,t.maxResults),n=t||{},r=pw(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Cw(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Kb(t.fullServerUrl(),e.host),o=ow(n,r),a=e.maxOperationRetryTime,s=new sw(i,"PATCH",cw(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=fw(t),s}(e.storage,e._location,t,nw()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function xw(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Kb(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new sw(r,"GET",lw(e,n),i);return o.errorHandler=fw(t),o}(e.storage,e._location,nw()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new vb("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Nw(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Kb(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new sw(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=fw(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Aw(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Fb(e._location.bucket,n);return new Sw(e.storage,r)}function Pw(e){return/^[A-Za-z]+:\/\//.test(e)}function Ow(e,t){if(e instanceof Lw){var n=e;if(null==n._bucket)throw new vb("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Sw(n,n._bucket);return null!=t?Ow(r,t):r}return void 0!==t?Aw(e,t):e}function Rw(e,t){if(t&&Pw(t)){if(e instanceof Lw)return new Sw(e,t);throw wb("To use ref(service, url), the first argument must be a Storage instance.")}return Ow(e,t)}function Dw(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Fb.makeFromBucketSpec(n,e)}var Lw=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=gb,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Fb.makeFromBucketSpec(i,this._host):Dw(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Fb.makeFromBucketSpec(this._url,e):this._bucket=Dw(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Sw(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Ub(Eb());var i=function(e,t,n,r,i,o){var a=Wb(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Hb(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Mw(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ew(e,new Yb(t),n)}(e=(0,Fr.getModularInstance)(e),t,n)}function jw(e){return function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=dw(e.storage,e._location,nw()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Fr.getModularInstance)(e))}function Fw(e,t){return Rw(e=(0,Fr.getModularInstance)(e),t)}function Uw(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,Fr.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var qw=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Bw=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new qw(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new qw(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new qw(e,i,i._ref))}:{next:t.next?function(e){return t.next(new qw(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Vw=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new zw(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new zw(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),zw=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Aw(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Bw(Mw(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Ib.RAW),this._throwIfRoot("putString");var r=xb(t,e),i=(0,jr.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Bw(new Ew(this._delegate,new Yb(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Tw(e=(0,Fr.getModularInstance)(e))}(this._delegate).then((function(t){return new Vw(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Iw(e=(0,Fr.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Vw(e,t.storage)}))},e.prototype.getMetadata=function(){return jw(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Cw(e=(0,Fr.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return xw(e=(0,Fr.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Nw(e=(0,Fr.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Sb(e)},e}(),Kw=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Pw(e))throw wb("ref() expected a child path but got a URL, use refFromURL instead.");return new zw(Fw(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Pw(e))throw wb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Fb.makeFromUrl(e,this._delegate.host)}catch(_y){throw wb("refFromUrl() expected a valid full URL but got an invalid one.")}return new zw(Fw(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Uw(this._delegate,e,t,n)},e}();function Ww(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Kw(r,new Lw(r,i,o,new jb,n,Lr.default.SDK_VERSION))}!function(e){var t={TaskState:Db,TaskEvent:Rb,StringFormat:Ib,Storage:Lw,Reference:zw};e.INTERNAL.registerComponent(new by.Component("storage",Ww,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(Lr.default);var Hw,Gw,$w,Qw="0.4.18",Yw=Qw,Xw="FB-PERF-TRACE-MEASURE",Jw="_wt_",Zw="_fcp",eE="_fid",tE="@firebase/performance/config",nE="@firebase/performance/configexpire",rE="Performance",iE=((Hw={})["trace started"]="Trace {$traceName} was started before.",Hw["trace stopped"]="Trace {$traceName} is not running.",Hw["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Hw["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Hw["no window"]="Window is not available.",Hw["no app id"]="App id is not available.",Hw["no project id"]="Project id is not available.",Hw["no api key"]="Api key is not available.",Hw["invalid cc log"]="Attempted to queue invalid cc event",Hw["FB not default"]="Performance can only start when Firebase app instance is the default one.",Hw["RC response not ok"]="RC response is not ok",Hw["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Hw["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Hw["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Hw["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Hw),oE=new Fr.ErrorFactory("performance",rE,iE),aE=new Ur.Logger(rE);aE.logLevel=Ur.LogLevel.INFO;var sE,uE=function(){function e(e){if(this.window=e,!e)throw oE.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Fr.isIndexedDBAvailable)()||(aE.info("IndexedDB is not supported by current browswer"),!1):(aE.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===Gw&&(Gw=new e($w)),Gw},e}();function cE(e,t){var n=e.length-t.length;if(n<0||n>1)throw oE.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var lE,hE,fE=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=cE("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=cE("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw oE.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw oE.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw oE.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===sE&&(sE=new e),sE},e}();function dE(){return lE}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(hE||(hE={}));var pE=["firebase_","google_","ga_"],gE=new RegExp("^[a-zA-Z]\\w*$");function vE(){var e=uE.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function mE(){switch(uE.getInstance().document.visibilityState){case"visible":return hE.VISIBLE;case"hidden":return hE.HIDDEN;default:return hE.UNKNOWN}}function yE(){var e=uE.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var _E="0.0.1",bE=!0,wE="FIREBASE_INSTALLATIONS_AUTH";function EE(e){var t=function(){var e=uE.getInstance().localStorage;if(!e)return;var t=e.getItem(nE);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(tE);if(!r)return;try{return JSON.parse(r)}catch(Xv){return}}();return t?(TE(t),Promise.resolve()):function(e){return function(){var e=fE.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+fE.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+fE.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:wE+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:fE.getInstance().getAppId(),app_version:Yw,sdk_version:_E})});return fetch(r).then((function(e){if(e.ok)return e.json();throw oE.create("RC response not ok")}))})).catch((function(){aE.info(SE)}))}(e).then(TE).then((function(e){return function(e){var t=uE.getInstance().localStorage;if(!e||!t)return;t.setItem(tE,JSON.stringify(e)),t.setItem(nE,String(Date.now()+60*fE.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var SE="Could not fetch config, will use default configs";function TE(e){if(!e)return e;var t=fE.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=bE,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=kE(t.tracesSamplingRate),t.logNetworkAfterSampling=kE(t.networkRequestsSamplingRate),e}function kE(e){return Math.random()<=e}var IE,CE=1;function xE(){return CE=2,IE=IE||function(){var e=uE.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=fE.getInstance().installationsService.getId();return e.then((function(e){lE=e})),e}()})).then((function(e){return EE(e)})).then((function(){return NE()}),(function(){return NE()}))}function NE(){CE=3}var AE,PE=1e4,OE=3,RE=[],DE=!1;function LE(e){setTimeout((function(){if(0!==OE)return RE.length?void function(){var e=RE.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=fE.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||aE.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=PE;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(RE=(0,jr.__spreadArray)((0,jr.__spreadArray)([],t),RE),aE.info("Retry transport request later.")),OE=3,LE(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fE.getInstance().logSource,log_event:t},e).catch((function(){RE=(0,jr.__spreadArray)((0,jr.__spreadArray)([],e),RE),OE--,aE.info("Tries left: "+OE+"."),LE(PE)}))}():LE(PE)}),e)}function ME(e){if(!e.eventTime||!e.message)throw oE.create("invalid cc log");RE=(0,jr.__spreadArray)((0,jr.__spreadArray)([],RE),[e])}function jE(e,t){AE||(AE=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ME({message:e.apply(void 0,t),eventTime:Date.now()})}}(qE)),AE(e,t)}function FE(e){var t=fE.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&uE.getInstance().requiredApisAvailable()&&(e.isAuto&&mE()!==hE.VISIBLE||(3===CE?UE(e):xE().then((function(){return UE(e)}),(function(){return UE(e)}))))}function UE(e){if(dE()){var t=fE.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return jE(e,1)}),0)}}function qE(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:BE(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:BE(),trace_metric:t};return JSON.stringify(r)}(e)}function BE(){return{google_app_id:fE.getInstance().getAppId(),app_instance_id:dE(),web_app_info:{sdk_version:Yw,page_url:uE.getInstance().getUrl(),service_worker_status:vE(),visibility_state:mE(),effective_connection_type:yE()},application_process_state:0}}var VE=["_fp",Zw,eE];var zE=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=uE.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw oE.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw oE.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),FE(this)},e.prototype.record=function(e,t,n){if(e<=0)throw oE.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw oE.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,jr.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}FE(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(Jw)&&VE.indexOf(n)>-1)&&n.startsWith("_"))throw oE.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&aE.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!pE.some((function(e){return n.startsWith(e)}))&&!!n.match(gE),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw oE.create("invalid attribute name",{attributeName:e});if(!i)throw oE.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,jr.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=uE.getInstance().getUrl();if(i){var o=new e(Jw+i,!0),a=Math.floor(1e3*uE.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Zw,Math.floor(1e3*u.startTime)),r&&o.putMetric(eE,Math.floor(1e3*r))}FE(o)}},e.createUserTimingTrace=function(t){FE(new e(t,!1,t))},e}();function KE(e){var t=e;if(t&&void 0!==t.responseStart){var n=uE.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=fE.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return jE(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function WE(){dE()&&(setTimeout((function(){return function(){var e=uE.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){zE.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),zE.createOobTrace(t,n,e))}))}else zE.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=uE.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){KE(r[n])}e.setupObserver("resource",KE)}()}),0),setTimeout((function(){return function(){for(var e=uE.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){HE(r[n])}e.setupObserver("measure",HE)}()}),0))}function HE(e){var t=e.name;t.substring(0,Xw.length)!==Xw&&zE.createUserTimingTrace(t)}var GE=function(){function e(e){this.app=e,uE.getInstance().requiredApisAvailable()&&(0,Fr.validateIndexedDBOpenable)().then((function(e){e&&(DE||(LE(5500),DE=!0),xE().then(WE,WE))})).catch((function(e){aE.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new zE(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return fE.getInstance().instrumentationEnabled},set:function(e){fE.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return fE.getInstance().dataCollectionEnabled},set:function(e){fE.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw oE.create("FB not default");if("undefined"===typeof window)throw oE.create("no window");return function(e){$w=e}(window),fE.getInstance().firebaseAppInstance=e,fE.getInstance().installationsService=t,new GE(e)};e.INTERNAL.registerComponent(new by.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Qw)}(Lr.default);var $E,QE,YE="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}($E||($E={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(QE||(QE={}));var XE,JE=new Ur.Logger("@firebase/analytics");function ZE(e,t,n,r,i,o){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,jr.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),JE.error(c),[3,8];case 8:return e($E.CONFIG,i,o),[2]}}))}))}function eS(e,t,n,r,i){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,jr.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e($E.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),JE.error(f),[3,5];case 5:return[2]}}))}))}function tS(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var s;return(0,jr.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==$E.EVENT?[3,2]:[4,eS(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==$E.CONFIG?[3,4]:[4,ZE(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e($E.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),JE.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var nS=((XE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",XE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",XE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",XE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",XE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",XE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",XE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",XE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',XE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',XE),rS=new Fr.ErrorFactory("analytics","Analytics",nS),iS=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function oS(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function aS(e){var t;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,jr.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:oS(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw rS.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function sS(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=iS),(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,jr.__generator)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,uS(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return JE.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,aS(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Fr.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return JE.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Fr.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Fr.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),JE.debug("Calling attemptFetch again in "+l+" millis"),[2,sS(e,h,n,r)];case 7:return[2]}}))}))}function uS(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(rS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var cS=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function lS(e,t,n,r,i,o){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,jr.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=iS),(0,jr.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,jr.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw rS.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw rS.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new cS,setTimeout((function(){return(0,jr.__awaiter)(c,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,sS({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&JE.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return JE.error(e)})),t.push(a),s=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,jr.__generator)(this,(function(t){switch(t.label){case 0:return(0,Fr.isIndexedDBAvailable)()?[3,1]:(JE.warn(rS.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Fr.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),JE.warn(rS.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(YE))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=YE+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i($E.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var hS,fS,dS={},pS=[],gS={},vS="dataLayer",mS="gtag",yS=!1;function _S(e){if(yS)throw rS.create("already-initialized");e.dataLayerName&&(vS=e.dataLayerName),e.gtagName&&(mS=e.gtagName)}function bS(e,t){!function(){var e=[];if((0,Fr.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Fr.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=rS.create("invalid-analytics-context",{errorInfo:t});JE.warn(n.message)}}();var n=e.options.appId;if(!n)throw rS.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rS.create("no-api-key");JE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=dS[n])throw rS.create("already-exists",{id:n});if(!yS){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(vS);var r=tS(dS,pS,gS,vS,mS),i=r.wrappedGtag,o=r.gtagCore;fS=i,hS=o,yS=!0}dS[n]=lS(e,pS,gS,t,hS,vS);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,jr.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e($E.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,jr.__assign)((0,jr.__assign)({},r),{send_to:o}),e($E.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(fS,dS[n],e,t,r).catch((function(e){return JE.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e($E.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e($E.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(fS,dS[n],e,t).catch((function(e){return JE.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i;return(0,jr.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e($E.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e($E.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(fS,dS[n],e,t).catch((function(e){return JE.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,jr.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e($E.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e($E.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(fS,dS[n],e,t).catch((function(e){return JE.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(dS[n],e).catch((function(e){return JE.error(e)}))},INTERNAL:{delete:function(){return delete dS[n],Promise.resolve()}}};return a}var wS="analytics";function ES(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:if((0,Fr.isBrowserExtension)())return[2,!1];if(!(0,Fr.areCookiesEnabled)())return[2,!1];if(!(0,Fr.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Fr.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new by.Component(wS,(function(e){return bS(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:_S,EventName:QE,isSupported:ES})),e.INTERNAL.registerComponent(new by.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(wS).getImmediate().logEvent}}catch(_y){throw rS.create("interop-component-reg-failed",{reason:_y})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Lr.default);var SS,TS=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),kS=((SS={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",SS["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",SS["registration-api-key"]="Undefined API key. Check Firebase app initialization.",SS["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",SS["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",SS["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",SS["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",SS["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",SS["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",SS["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',SS["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',SS["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",SS["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",SS),IS=new Fr.ErrorFactory("remoteconfig","Remote Config",kS);var CS=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,g,v,m,y,_;return(0,jr.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=b.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return b.sent(),[4,c];case 4:return h=b.sent(),[3,6];case 5:throw f=b.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),IS.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,h.json()];case 8:return y=b.sent(),[3,10];case 9:throw _=b.sent(),IS.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:v=y.entries,m=y.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(v={}),304!==p&&200!==p)throw IS.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:g,config:v}]}var w}))}))},e}(),xS=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),NS=["1","true","t","yes","y","on"],AS=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&NS.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),PS=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Ur.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Ur.LogLevel.SILENT;break;default:this._logger.logLevel=Ur.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:e=new xS,setTimeout((function(){return(0,jr.__awaiter)(r,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Fr.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){return(0,jr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,jr.__assign)((0,jr.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new AS("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new AS("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new AS("static"))},e}();function OS(e,t){var n=e.target.error||void 0;return IS.create(t,{originalErrorMessage:n&&n.message})}var RS="app_namespace_store";var DS=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(OS(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(RS,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([RS],"readonly").objectStore(RS),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(OS(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(_y){i(IS.create("storage-get",{originalErrorMessage:_y&&_y.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,jr.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([RS],"readwrite").objectStore(RS),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(OS(e,"storage-set"))},u.onsuccess=function(){i()}}catch(_y){o(IS.create("storage-set",{originalErrorMessage:_y&&_y.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,jr.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([RS],"readwrite").objectStore(RS),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(OS(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(_y){i(IS.create("storage-delete",{originalErrorMessage:_y&&_y.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),LS=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function MS(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(IS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var jS,FS=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t;return(0,jr.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,jr.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,jr.__generator)(this,(function(a){switch(a.label){case 0:return[4,MS(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Fr.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Fr.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),US="@firebase/remote-config";(jS=Lr.default).INTERNAL.registerComponent(new by.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw IS.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw IS.create("registration-project-id");if(!s)throw IS.create("registration-api-key");if(!u)throw IS.create("registration-app-id");n=n||"firebase";var c=new DS(u,r.name,n),l=new LS(c),h=new Ur.Logger(US);h.logLevel=Ur.LogLevel.ERROR;var f=new CS(i,jS.SDK_VERSION,n,a,s,u),d=new FS(f,c),p=new TS(d,c,l,h),g=new PS(r,p,l,c,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),jS.registerVersion(US,"0.1.43");n(314);var qS="8.10.1";Lr.default.registerVersion("firebase",qS,"app"),Lr.default.SDK_VERSION=qS;function BS(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function VS(e,t){if(null==e)return{};var n,r,i=BS(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zS(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KS(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=KS(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Lr.default.registerVersion("firebase","8.10.1");var WS=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=KS(e))&&(r&&(r+=" "),r+=t);return r},HS=["theme","type"],GS=["delay","staleId"];function $S(e){return"number"===typeof e&&!isNaN(e)}function QS(e){return"boolean"===typeof e}function YS(e){return"string"===typeof e}function XS(e){return"function"===typeof e}function JS(e){return YS(e)||XS(e)?e:null}function ZS(e){return null!=e}function eT(e){return(0,t.isValidElement)(e)||YS(e)||XS(e)||$S(e)}var tT={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},nT={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function rT(e){var n=e.enter,r=e.exit,i=e.appendPosition,o=void 0!==i&&i,a=e.collapse,s=void 0===a||a,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,a=e.position,u=e.preventExitTransition,l=e.done,h=e.nodeRef,f=e.isIn,d=o?n+"--"+a:n,p=o?r+"--"+a:r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e=h.current,t=d.split(" "),n=function n(r){var i;r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&(i=e.classList).remove.apply(i,zS(t)))};!function(){var r;(r=e.classList).add.apply(r,zS(t)),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}()}),[]),(0,t.useEffect)((function(){var e=h.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};f||(u?t():(g.current=1,e.className+=" "+p,e.addEventListener("animationend",t)))}),[f]),t.createElement(t.Fragment,null,i)}}function iT(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var oT={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,zS([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},aT=function(e){var n=e.theme,r=e.type,i=VS(e,HS);return t.createElement("svg",Or({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var sT={info:function(e){return t.createElement(aT,Or({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(aT,Or({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(aT,Or({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(aT,Or({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function uT(e){var n=e.theme,r=e.type,i=e.isLoading,o=e.icon,a=null,s={theme:n,type:r};return!1===o||(XS(o)?a=o(s):(0,t.isValidElement)(o)?a=(0,t.cloneElement)(o,s):YS(o)||$S(o)?a=o:i?a=sT.spinner():function(e){return e in sT}(r)&&(a=sT[r](s))),a}function cT(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=a(n,2)[1],i=a((0,t.useState)([]),2),o=i[0],s=i[1],u=(0,t.useRef)(null),c=(0,t.useRef)(new Map).current,l=function(e){return-1!==o.indexOf(e)},h=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return c.get(e)}}).current;function f(e){var t=e.containerId;!h.props.limit||t&&h.containerId!==t||(h.count-=h.queue.length,h.queue=[])}function d(e){s((function(t){return ZS(e)?t.filter((function(t){return t!==e})):[]}))}function p(){var e=h.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function g(e,n){var i=n.delay,o=n.staleId,a=VS(n,GS);if(eT(e)&&!function(e){return!u.current||h.props.enableMultiContainer&&e.containerId!==h.props.containerId||c.has(e.toastId)&&null==e.updateId}(a)){var s=a.toastId,l=a.updateId,f=a.data,g=h.props,m=function(){return d(s)},y=null==l;y&&h.count++;var _,b,w={toastId:s,updateId:l,data:f,containerId:a.containerId,isLoading:a.isLoading,theme:a.theme||g.theme,icon:null!=a.icon?a.icon:g.icon,isIn:!1,key:a.key||h.toastKey++,type:a.type,closeToast:m,closeButton:a.closeButton,rtl:g.rtl,position:a.position||g.position,transition:a.transition||g.transition,className:JS(a.className||g.toastClassName),bodyClassName:JS(a.bodyClassName||g.bodyClassName),style:a.style||g.toastStyle,bodyStyle:a.bodyStyle||g.bodyStyle,onClick:a.onClick||g.onClick,pauseOnHover:QS(a.pauseOnHover)?a.pauseOnHover:g.pauseOnHover,pauseOnFocusLoss:QS(a.pauseOnFocusLoss)?a.pauseOnFocusLoss:g.pauseOnFocusLoss,draggable:QS(a.draggable)?a.draggable:g.draggable,draggablePercent:a.draggablePercent||g.draggablePercent,draggableDirection:a.draggableDirection||g.draggableDirection,closeOnClick:QS(a.closeOnClick)?a.closeOnClick:g.closeOnClick,progressClassName:JS(a.progressClassName||g.progressClassName),progressStyle:a.progressStyle||g.progressStyle,autoClose:!a.isLoading&&(_=a.autoClose,b=g.autoClose,!1===_||$S(_)&&_>0?_:b),hideProgressBar:QS(a.hideProgressBar)?a.hideProgressBar:g.hideProgressBar,progress:a.progress,role:a.role||g.role,deleteToast:function(){var e=iT(c.get(s),"removed");c.delete(s),oT.emit(4,e);var t=h.queue.length;if(h.count=ZS(s)?h.count-1:h.count-h.displayedToast,h.count<0&&(h.count=0),t>0){var n=ZS(s)?1:h.props.limit;if(1===t||1===n)h.displayedToast++,p();else{var i=n>t?t:n;h.displayedToast=i;for(var o=0;o<i;o++)p()}}else r()}};w.iconOut=uT(w),XS(a.onOpen)&&(w.onOpen=a.onOpen),XS(a.onClose)&&(w.onClose=a.onClose),w.closeButton=g.closeButton,!1===a.closeButton||eT(a.closeButton)?w.closeButton=a.closeButton:!0===a.closeButton&&(w.closeButton=!eT(g.closeButton)||g.closeButton);var E=e;(0,t.isValidElement)(e)&&!YS(e.type)?E=(0,t.cloneElement)(e,{closeToast:m,toastProps:w,data:f}):XS(e)&&(E=e({closeToast:m,toastProps:w,data:f})),g.limit&&g.limit>0&&h.count>g.limit&&y?h.queue.push({toastContent:E,toastProps:w,staleId:o}):$S(i)?setTimeout((function(){v(E,w,o)}),i):v(E,w,o)}}function v(e,t,n){var r=t.toastId;n&&c.delete(n);var i={content:e,props:t};c.set(r,i),s((function(e){return[].concat(zS(e),[r]).filter((function(e){return e!==n}))})),oT.emit(4,iT(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return h.containerId=e.containerId,oT.cancelEmit(3).on(0,g).on(1,(function(e){return u.current&&d(e)})).on(5,f).emit(2,h),function(){c.clear(),oT.emit(3,h)}}),[]),(0,t.useEffect)((function(){h.props=e,h.isToastActive=l,h.displayedToast=o.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(c.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:u,isToastActive:l}}function lT(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function hT(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function fT(e){var n=a((0,t.useState)(!1),2),r=n[0],i=n[1],o=a((0,t.useState)(!1),2),s=o[0],u=o[1],c=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,h=(0,t.useRef)(e),f=e.autoClose,d=e.pauseOnHover,p=e.closeToast,g=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){l.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",E),document.addEventListener("touchmove",w),document.addEventListener("touchend",E);var n=c.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=lT(t.nativeEvent),l.y=hT(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(l.boundingRect){var t=l.boundingRect,n=t.top,r=t.bottom,i=t.left,o=t.right;e.pauseOnHover&&l.x>=i&&l.x<=o&&l.y>=n&&l.y<=r?b():_()}}function _(){i(!0)}function b(){i(!1)}function w(t){var n=c.current;l.canDrag&&n&&(l.didMove=!0,r&&b(),l.x=lT(t),l.y=hT(t),"x"===e.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function E(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",E);var t=c.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return u(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){h.current=e})),(0,t.useEffect)((function(){return c.current&&c.current.addEventListener("d",_,{once:!0}),XS(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=h.current;XS(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",_),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var S={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return f&&d&&(S.onMouseEnter=b,S.onMouseLeave=_),v&&(S.onClick=function(e){g&&g(e),l.canCloseOnClick&&p()}),{playToast:_,pauseToast:b,isRunning:r,preventExitTransition:s,toastRef:c,eventHandlers:S}}function dT(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,o=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pT(e){var n=e.delay,r=e.isRunning,i=e.closeToast,o=e.type,a=e.hide,s=e.className,u=e.style,c=e.controlledProgress,l=e.progress,h=e.rtl,f=e.isIn,d=e.theme,p=Or(Or({},u),{},{animationDuration:n+"ms",animationPlayState:r?"running":"paused",opacity:a?0:1});c&&(p.transform="scaleX("+l+")");var g=WS("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+d,"Toastify__progress-bar--"+o,Ar({},"Toastify__progress-bar--rtl",h)),v=XS(s)?s({rtl:h,type:o,defaultClassName:g}):WS(g,s),m=Ar({},c&&l>=1?"onTransitionEnd":"onAnimationEnd",c&&l<1?null:function(){f&&i()});return t.createElement("div",Or({role:"progressbar","aria-hidden":a?"true":"false","aria-label":"notification timer",className:v,style:p},m))}pT.defaultProps={type:nT.DEFAULT,hide:!1};var gT=function(e){var n=fT(e),r=n.isRunning,i=n.preventExitTransition,o=n.toastRef,a=n.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,l=e.onClick,h=e.type,f=e.hideProgressBar,d=e.closeToast,p=e.transition,g=e.position,v=e.className,m=e.style,y=e.bodyClassName,_=e.bodyStyle,b=e.progressClassName,w=e.progressStyle,E=e.updateId,S=e.role,T=e.progress,k=e.rtl,I=e.toastId,C=e.deleteToast,x=e.isIn,N=e.isLoading,A=e.iconOut,P=e.theme,O=WS("Toastify__toast","Toastify__toast-theme--"+P,"Toastify__toast--"+h,Ar({},"Toastify__toast--rtl",k)),R=XS(v)?v({rtl:k,position:g,type:h,defaultClassName:O}):WS(O,v),D=!!T,L={closeToast:d,type:h,theme:P},M=null;return!1===s||(M=XS(s)?s(L):t.isValidElement(s)?t.cloneElement(s,L):dT(L)),t.createElement(p,{isIn:x,done:C,position:g,preventExitTransition:i,nodeRef:o},t.createElement("div",Or(Or({id:I,onClick:l,className:R},a),{},{style:m,ref:o}),t.createElement("div",Or(Or({},x&&{role:S}),{},{className:XS(y)?y({type:h}):WS("Toastify__toast-body",y),style:_}),null!=A&&t.createElement("div",{className:WS("Toastify__toast-icon",Ar({},"Toastify--animate-icon Toastify__zoom-enter",!N))},A),t.createElement("div",null,u)),M,(c||D)&&t.createElement(pT,Or(Or({},E&&!D?{key:"pb-"+E}:{}),{},{rtl:k,theme:P,delay:c,isRunning:r,isIn:x,closeToast:d,hide:f,type:h,style:w,className:b,controlledProgress:D,progress:T}))))},vT=rT({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),mT=(rT({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),rT({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"})),yT=(rT({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),(0,t.forwardRef)((function(e,n){var r=cT(e),i=r.getToastToRender,o=r.containerRef,a=r.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function h(e){var t=WS("Toastify__toast-container","Toastify__toast-container--"+e,Ar({},"Toastify__toast-container--rtl",c));return XS(s)?s({position:e,rtl:c,defaultClassName:t}):WS(t,JS(s))}return(0,t.useEffect)((function(){n&&(n.current=o.current)}),[]),t.createElement("div",{ref:o,className:"Toastify",id:l},i((function(e,n){var r=n.length?Or({},u):Or(Or({},u),{},{pointerEvents:"none"});return t.createElement("div",{className:h(e),style:r,key:"container-"+e},n.map((function(e,r){var i=e.content,o=e.props;return t.createElement(gT,Or(Or({},o),{},{isIn:a(o.toastId),style:Or(Or({},o.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-"+o.key}),i)})))})))})));yT.displayName="ToastContainer",yT.defaultProps={position:tT.TOP_RIGHT,transition:vT,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:dT,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var _T,bT=new Map,wT=[];function ET(){return Math.random().toString(36).substring(2,9)}function ST(e){return e&&(YS(e.toastId)||$S(e.toastId))?e.toastId:ET()}function TT(e,t){return bT.size>0?oT.emit(0,e,t):wT.push({content:e,options:t}),t.toastId}function kT(e,t){return Or(Or({},t),{},{type:t&&t.type||e,toastId:ST(t)})}function IT(e){return function(t,n){return TT(t,kT(e,n))}}function CT(e,t){return TT(e,kT(nT.DEFAULT,t))}CT.loading=function(e,t){return TT(e,kT(nT.DEFAULT,Or({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},CT.promise=function(e,t,n){var r,i=t.pending,o=t.error,a=t.success;i&&(r=YS(i)?CT.loading(i,n):CT.loading(i.render,Or(Or({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var o=Or(Or(Or({type:e},s),n),{},{data:i}),a=YS(t)?{render:t}:t;return r?CT.update(r,Or(Or({},o),a)):CT(a.render,Or(Or({},o),a)),i}CT.dismiss(r)},c=XS(e)?e():e;return c.then((function(e){return u("success",a,e)})).catch((function(e){return u("error",o,e)})),c},CT.success=IT(nT.SUCCESS),CT.info=IT(nT.INFO),CT.error=IT(nT.ERROR),CT.warning=IT(nT.WARNING),CT.warn=CT.warning,CT.dark=function(e,t){return TT(e,kT(nT.DEFAULT,Or({theme:"dark"},t)))},CT.dismiss=function(e){bT.size>0?oT.emit(1,e):wT=wT.filter((function(t){return ZS(e)&&t.options.toastId!==e}))},CT.clearWaitingQueue=function(e){return void 0===e&&(e={}),oT.emit(5,e)},CT.isActive=function(e){var t=!1;return bT.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},CT.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=bT.get(n||_T);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=Or(Or(Or({},r),t),{},{toastId:t.toastId||e,updateId:ET()});o.toastId!==e&&(o.staleId=e);var a=o.render||i;delete o.render,TT(a,o)}}),0)},CT.done=function(e){CT.update(e,{progress:1})},CT.onChange=function(e){return oT.on(4,e),function(){oT.off(4,e)}},CT.POSITION=tT,CT.TYPE=nT,oT.on(2,(function(e){_T=e.containerId||e,bT.set(_T,e),wT.forEach((function(e){oT.emit(0,e.content,e.options)})),wT=[]})).on(3,(function(e){bT.delete(e.containerId||e),0===bT.size&&oT.off(0).off(1).off(5)}));var xT=n(239),NT=n(58),AT=n(168);var PT=function(e){e()},OT=function(){return PT},RT=t.createContext(null);function DT(){return(0,t.useContext)(RT)}var LT=function(){throw new Error("uSES not initialized!")},MT=LT,jT=function(e,t){return e===t};function FT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT,n=e===RT?DT:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jT;var i=n(),o=i.store,a=i.subscription,s=i.getServerState,u=MT(a.addNestedSub,o.getState,s||o.getState,e,r);return(0,t.useDebugValue)(u),u}}var UT=FT();var qT={notify:function(){},get:function(){return[]}};function BT(e,t){var n,r=qT;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=OT(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=qT)},getListeners:function(){return r}};return a}var VT=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var zT=function(e){var n=e.store,r=e.context,i=e.children,o=e.serverState,a=(0,t.useMemo)((function(){var e=BT(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0}}),[n,o]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);VT((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);var u=r||RT;return t.createElement(u.Provider,{value:a},i)};function KT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT,n=e===RT?DT:function(){return(0,t.useContext)(e)};return function(){return n().store}}var WT=KT();function HT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RT,t=e===RT?WT:KT(e);return function(){return t().dispatch}}var GT,$T=HT();!function(e){MT=e}(NT.useSyncExternalStoreWithSelector),function(e){e}(xT.useSyncExternalStore),GT=AT.unstable_batchedUpdates,PT=GT;var QT={type:"@user/login",payload:{}},YT={type:"@user/setphysicaldata",payload:{}},XT={type:"@user/setgender",payload:{}},JT={type:"@activity/start",payload:{}},ZT={type:"@activity/end",payload:{}},ek={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tk=t.createContext&&t.createContext(ek),nk=function(){return nk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nk.apply(this,arguments)},rk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ik(e){return e&&e.map((function(e,n){return t.createElement(e.tag,nk({key:n},e.attr),ik(e.child))}))}function ok(e){return function(n){return t.createElement(ak,nk({attr:nk({},e.attr)},n),ik(e.child))}}function ak(e){var n=function(n){var r,i=e.attr,o=e.size,a=e.title,s=rk(e,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",nk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:nk(nk({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==tk?t.createElement(tk.Consumer,null,(function(e){return n(e)})):n(ek)}function sk(e){return ok({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(e)}var uk=function(e){var n=a((0,t.useState)({email:"",password:"",name:"",phone:""}),2),r=n[0],i=n[1],o=L(),s=$T(),u=function(e){e.emailVerified?Ty.collection("userData").doc(e.uid).get().then((function(t){if(t.exists){var n=t.data(),r=Object.assign({},QT);r.payload={name:e.displayName,coins:n.coins,phone:n.phone,email:e.email,isLogged:!0,id:e.uid},s(r);var i=Object.assign({},YT);i.payload={height:n.height,weight:n.weight,age:n.age},s(i);var o=Object.assign({},XT);o.payload={gender:n.gender},s(o)}else CT.error("Please call the admin because your sing up has an error.")})):CT.warn("Your account has not been verified, please verify your account before attempting to login")},c=function(e){switch(e){case"auth/user-not-found":case"auth/wrong-password":CT.warn("Incorrect email or password");break;case"auth/too-many-requests":CT.warn("The verification email has been sent too many times.")}};return(0,xr.jsxs)("div",{children:[(0,xr.jsxs)(Rn,{children:[(0,xr.jsx)("h1",{children:"Welcome Back"}),(0,xr.jsx)("p",{children:"Sign in to an existing account using your email."})]}),(0,xr.jsx)(Pn,{children:(0,xr.jsx)(Rr,{loginUser:r,loginSetUser:i})}),(0,xr.jsxs)(On,{children:[(0,xr.jsx)(Dr,{login:function(){Iy.auth().signInWithEmailAndPassword(r.email,r.password).then((function(e){u(e.user)})).catch((function(e){c(e.code)}))}}),(0,xr.jsxs)(Dn,{children:[(0,xr.jsxs)("p",{children:["Or sign in with: ",(0,xr.jsx)(sk,{style:{cursor:"pointer"},onClick:function(){Lr.default.auth().signInWithPopup(Sy).then((function(e){u(e.user)})).catch((function(e){c(e.code)}))}})," "]}),(0,xr.jsxs)("p",{children:["Don\xb4t have an account? ",(0,xr.jsx)("a",{onClick:function(){o("/createaccount")},children:"Sing up"})]})]})]})]})};var ck=function(){var e=L();return(0,xr.jsxs)("div",{children:[(0,xr.jsx)(Pn,{children:(0,xr.jsx)(xn,{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660057605/BuffaloApp/Img_Bg1_uhmajl.png"})}),(0,xr.jsxs)(On,{children:[(0,xr.jsxs)(Rn,{children:[(0,xr.jsx)("h1",{children:"Workout"}),(0,xr.jsx)("p",{children:"Start training with usand build muscle or lose weight."})]}),(0,xr.jsx)(On,{children:(0,xr.jsx)(An,{onClick:function(){return e("/welcome2")},children:"Next"})})]})]})};var lk=function(){var e=L();return(0,xr.jsxs)("div",{children:[(0,xr.jsx)(Pn,{children:(0,xr.jsx)(xn,{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660057605/BuffaloApp/Img_Bg2_jtfmra.png"})}),(0,xr.jsxs)(On,{children:[(0,xr.jsxs)(Rn,{children:[(0,xr.jsx)("h1",{children:"Discipline"}),(0,xr.jsx)("p",{children:"Develop discipline in yourself, train everyday."})]}),(0,xr.jsx)(On,{children:(0,xr.jsx)(An,{onClick:function(){return e("/welcome3")},children:"Next"})})]})]})};var hk=function(){var e=L();return(0,xr.jsxs)("div",{children:[(0,xr.jsx)(Pn,{children:(0,xr.jsx)(xn,{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660057605/BuffaloApp/Img_Bg3_wntkew.png"})}),(0,xr.jsxs)(On,{children:[(0,xr.jsxs)(Rn,{children:[(0,xr.jsx)("h1",{children:"Character"}),(0,xr.jsx)("p",{children:"Cultivate in you an iron character for training."})]}),(0,xr.jsx)(On,{children:(0,xr.jsx)(An,{onClick:function(){return e("/login")},children:"Next"})})]})]})};function fk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pk(e,t)}function gk(e){return gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gk(e)}function vk(e){return vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vk(e)}function mk(e,t){if(t&&("object"===vk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(_y){return!1}}();return function(){var n,r=gk(e);if(t){var i=gk(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mk(this,n)}}var _k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}(o,e);var t,n,r,i=yk(o);function o(){return fk(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return(0,xr.jsx)(An,{onClick:this.props.create,type:"button",children:"Create"})}}])&&dk(t.prototype,n),r&&dk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),bk=_k;var wk=function(e){return(0,xr.jsxs)("form",{onChange:function(t){e.setNewUser(Or(Or({},e.newUser),{},Ar({},t.target.name,t.target.value)))},children:[(0,xr.jsx)(Ln,{type:"text",placeholder:"Enter your name",name:"name",required:!0}),(0,xr.jsx)(Ln,{type:"email",placeholder:"Enter your email",name:"email",required:!0}),(0,xr.jsx)(Ln,{type:"text",placeholder:"Enter your phone number",name:"phone",required:!0}),(0,xr.jsx)(Ln,{type:"password",placeholder:"Enter your password",name:"password",required:!0})]})};var Ek=function(e){var n=a((0,t.useState)({name:"",email:"",phone:"",password:""}),2),r=n[0],i=n[1];return(0,xr.jsxs)("div",{children:[(0,xr.jsxs)(Rn,{children:[(0,xr.jsx)("h1",{children:"Create new account"}),(0,xr.jsx)("p",{children:"Create a new account by filling in all the fields or log in to an existing account."})]}),(0,xr.jsx)(Pn,{children:(0,xr.jsx)(wk,{newUser:r,setNewUser:i})}),(0,xr.jsx)(On,{children:(0,xr.jsx)(bk,{create:function(){Iy.auth().createUserWithEmailAndPassword(r.email,r.password).then((function(){Iy.auth().currentUser.updateProfile({displayName:r.name}).then((function(){})),Iy.auth().currentUser.sendEmailVerification().then((function(){Ty.collection("userData").doc(Iy.auth().currentUser.uid).set({phone:r.phone,coins:400,creditcard:[]}).then((function(e){console.log("Document written with ID: ",e)})).catch((function(e){console.error("Error adding document: ",e)})),CT.success("Email verification have been sent.")}))}))}})})]})};function Sk(e){return ok({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M4,19 L4,9 C4,4.582 7.582,1 12,1 C16.418,1 20,4.582 20,9 L20,19 M1,19 L23,19 M15,19 L15,20 C15,21.657 13.657,23 12,23 C10.343,23 9,21.657 9,20 L9,19"}}]})(e)}function Tk(e){return ok({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"}}]})(e)}var kk=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Ik(e){var n=kk(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Ck=function(e,n){var r=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!r.current)return e();r.current=!1}),n)};function xk(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var Nk=Math.pow(2,31)-1;function Ak(e,t,n){var r=n-Date.now();e.current=r<=Nk?setTimeout(t,r):setTimeout((function(){return Ak(e,t,n)}),Nk)}function Pk(){var e=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),n=(0,t.useRef)();return xk((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=Nk?n.current=setTimeout(r,i):Ak(n,r,Date.now()+i))},clear:t}}),[])}var Ok="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Ok?t.useLayoutEffect:t.useEffect,new WeakMap;var Rk=["as","disabled"];function Dk(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,a=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=o?"a":"button");var h={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},h];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},h]}var Lk=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Rk),o=a(Dk(Object.assign({tagName:n,disabled:r},i)),2),s=o[0],u=o[1].tagName;return(0,xr.jsx)(u,Object.assign({},i,s,{ref:t}))}));Lk.displayName="Button";var Mk=["onKeyDown"];var jk=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Mk),o=a(Dk(Object.assign({tagName:"a"},i)),1)[0],s=Ik((function(e){o.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,xr.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,xr.jsx)("a",Object.assign({ref:t},i,o,{onKeyDown:s}))}));jk.displayName="Anchor";var Fk=jk,Uk=n(123),qk=n.n(Uk);n(993);function Bk(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Vk(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function zk(e,n){return Object.keys(n).reduce((function(r,i){var o,a=r,u=a[Bk(i)],c=a[i],l=BS(a,[Bk(i),i].map(Vk)),h=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),a=o[0],s=o[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&a!==n&&s(n),[u?e:a,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,u,e[h]),d=f[0],p=f[1];return s({},l,((o={})[i]=d,o[h]=p,o))}),e)}function Kk(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Wk(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Hk(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Kk.__suppressDeprecationWarning=!0,Wk.__suppressDeprecationWarning=!0,Hk.__suppressDeprecationWarning=!0;var Gk=/-(.)/g;var $k=["xxl","xl","lg","md","sm","xs"],Qk=t.createContext({prefixes:{},breakpoints:$k,minBreakpoint:"xs"});Qk.Consumer,Qk.Provider;function Yk(e,n){var r=(0,t.useContext)(Qk).prefixes;return e||r[n]||n}var Xk=["className","bsPrefix","as"],Jk=function(e){return e[0].toUpperCase()+(t=e,t.replace(Gk,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var Zk=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Jk(e):r,o=n.Component,a=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,a=t.as,s=void 0===a?o||"div":a,u=VS(t,Xk),c=Yk(i,e);return(0,xr.jsx)(s,Or({ref:n,className:qk()(r,c)},u))}));return s.defaultProps=a,s.displayName=i,s}("carousel-caption"),eI=["as","bsPrefix","className"],tI=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,o=e.className,a=VS(e,eI),s=qk()(o,Yk(i,"carousel-item"));return(0,xr.jsx)(r,Or(Or({ref:t},a),{},{className:s}))}));tI.displayName="CarouselItem";var nI=tI;function rI(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}function iI(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var oI=/([A-Z])/g;var aI=/^ms-/;function sI(e){return function(e){return e.replace(oI,"-$1").toLowerCase()}(e).replace(aI,"-ms-")}var uI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var cI=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(sI(t))||function(e,t){return iI(e).getComputedStyle(e,t)}(e).getPropertyValue(sI(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!uI.test(e))}(i)?n+=sI(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(sI(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},lI=!("undefined"===typeof window||!window.document||!window.document.createElement),hI=!1,fI=!1;try{var dI={get passive(){return hI=!0},get once(){return fI=hI=!0}};lI&&(window.addEventListener("test",dI,dI),window.removeEventListener("test",dI,!0))}catch(_y){}var pI=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!fI){var i=r.once,o=r.capture,a=n;!fI&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,hI?r:o)}e.addEventListener(t,n,r)};var gI=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var vI=function(e,t,n,r){return pI(e,t,n,r),function(){gI(e,t,n,r)}};function mI(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=vI(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function yI(e,t,n,r){null==n&&(n=function(e){var t=cI(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=mI(e,n,r),o=vI(e,"transitionend",t);return function(){i(),o()}}function _I(e,t){var n=cI(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function bI(e,t){var n=_I(e,"transitionDuration"),r=_I(e,"transitionDelay"),i=yI(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var wI=!1,EI=t.createContext(null),SI="unmounted",TI="exited",kI="entering",II="entered",CI="exiting",xI=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=TI,r.appearStatus=kI):i=II:i=t.unmountOnExit||t.mountOnEnter?SI:TI,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,pk(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===SI?{status:TI}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==kI&&n!==II&&(t=kI):n!==kI&&n!==II||(t=CI)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===kI){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:AT.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===TI&&this.setState({status:SI})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[AT.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||wI?this.safeSetState({status:II},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:kI},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:II},(function(){t.props.onEntered(o,a)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:AT.findDOMNode(this);t&&!wI?(this.props.onExit(r),this.safeSetState({status:CI},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:TI},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:TI},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:AT.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===SI)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,BS(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(EI.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function NI(){}xI.contextType=EI,xI.propTypes={},xI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:NI,onEntering:NI,onEntered:NI,onExit:NI,onExiting:NI,onExited:NI},xI.UNMOUNTED=SI,xI.EXITED=TI,xI.ENTERING=kI,xI.ENTERED=II,xI.EXITING=CI;var AI=xI,PI=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var OI=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=PI(e),r=PI(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var RI=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],DI=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,o=e.onEntered,a=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,h=e.childRef,f=VS(e,RI),d=(0,t.useRef)(null),p=OI(d,h),g=function(e){var t;p((t=e)&&"setState"in t?AT.findDOMNode(t):null!=t?t:null)},v=function(e){return function(t){e&&d.current&&e(d.current,t)}},m=(0,t.useCallback)(v(r),[r]),y=(0,t.useCallback)(v(i),[i]),_=(0,t.useCallback)(v(o),[o]),b=(0,t.useCallback)(v(a),[a]),w=(0,t.useCallback)(v(s),[s]),E=(0,t.useCallback)(v(u),[u]),S=(0,t.useCallback)(v(c),[c]);return(0,xr.jsx)(AI,Or(Or({ref:n},f),{},{onEnter:m,onEntered:_,onEntering:y,onExit:b,onExited:E,onExiting:w,addEndListener:S,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,Or(Or({},t),{},{ref:g}))}:t.cloneElement(l,{ref:g})}))})),LI=DI,MI=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],jI={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,xr.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,xr.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var FI=t.forwardRef((function(e,n){var r=zk(e,{activeIndex:"onSelect"}),i=r.as,o=void 0===i?"div":i,s=r.bsPrefix,u=r.slide,c=r.fade,l=r.controls,h=r.indicators,f=r.indicatorLabels,d=r.activeIndex,p=r.onSelect,g=r.onSlide,v=r.onSlid,m=r.interval,y=r.keyboard,_=r.onKeyDown,b=r.pause,w=r.onMouseOver,E=r.onMouseOut,S=r.wrap,T=r.touch,k=r.onTouchStart,I=r.onTouchMove,C=r.onTouchEnd,x=r.prevIcon,N=r.prevLabel,A=r.nextIcon,P=r.nextLabel,O=r.variant,R=r.className,D=r.children,L=VS(r,MI),M=Yk(s,"carousel"),j="rtl"===(0,t.useContext)(Qk).dir,F=(0,t.useRef)(null),U=a((0,t.useState)("next"),2),q=U[0],B=U[1],V=a((0,t.useState)(!1),2),z=V[0],K=V[1],W=a((0,t.useState)(!1),2),H=W[0],G=W[1],$=a((0,t.useState)(d||0),2),Q=$[0],Y=$[1];(0,t.useEffect)((function(){H||d===Q||(F.current?B(F.current):B((d||0)>Q?"next":"prev"),u&&G(!0),Y(d||0))}),[d,H,Q,u]),(0,t.useEffect)((function(){F.current&&(F.current=null)}));var X,J=0;!function(e,n){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&n(e,r++)}))}(D,(function(e,t){++J,t===d&&(X=e.props.interval)}));var Z=kk(X),ee=(0,t.useCallback)((function(e){if(!H){var t=Q-1;if(t<0){if(!S)return;t=J-1}F.current="prev",null==p||p(t,e)}}),[H,Q,p,S,J]),te=Ik((function(e){if(!H){var t=Q+1;if(t>=J){if(!S)return;t=0}F.current="next",null==p||p(t,e)}})),ne=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{element:ne.current,prev:ee,next:te}}));var re=Ik((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ne.current)&&(j?ee():te())})),ie="next"===q?"start":"end";Ck((function(){u||(null==g||g(Q,ie),null==v||v(Q,ie))}),[Q]);var oe="".concat(M,"-item-").concat(q),ae="".concat(M,"-item-").concat(ie),se=(0,t.useCallback)((function(e){!function(e){e.offsetHeight}(e),null==g||g(Q,ie)}),[g,Q,ie]),ue=(0,t.useCallback)((function(){G(!1),null==v||v(Q,ie)}),[v,Q,ie]),ce=(0,t.useCallback)((function(e){if(y&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(j?te(e):ee(e));case"ArrowRight":return e.preventDefault(),void(j?ee(e):te(e))}null==_||_(e)}),[y,_,ee,te,j]),le=(0,t.useCallback)((function(e){"hover"===b&&K(!0),null==w||w(e)}),[b,w]),he=(0,t.useCallback)((function(e){K(!1),null==E||E(e)}),[E]),fe=(0,t.useRef)(0),de=(0,t.useRef)(0),pe=Pk(),ge=(0,t.useCallback)((function(e){fe.current=e.touches[0].clientX,de.current=0,"hover"===b&&K(!0),null==k||k(e)}),[b,k]),ve=(0,t.useCallback)((function(e){e.touches&&e.touches.length>1?de.current=0:de.current=e.touches[0].clientX-fe.current,null==I||I(e)}),[I]),me=(0,t.useCallback)((function(e){if(T){var t=de.current;Math.abs(t)>40&&(t>0?ee(e):te(e))}"hover"===b&&pe.set((function(){K(!1)}),m||void 0),null==C||C(e)}),[T,b,ee,te,pe,m,C]),ye=null!=m&&!z&&!H,_e=(0,t.useRef)();(0,t.useEffect)((function(){var e,t;if(ye){var n=j?ee:te;return _e.current=window.setInterval(document.visibilityState?re:n,null!=(e=null!=(t=Z.current)?t:m)?e:void 0),function(){null!==_e.current&&clearInterval(_e.current)}}}),[ye,ee,te,Z,m,re,j]);var be=(0,t.useMemo)((function(){return h&&Array.from({length:J},(function(e,t){return function(e){null==p||p(t,e)}}))}),[h,J,p]);return(0,xr.jsxs)(o,Or(Or({ref:ne},L),{},{onKeyDown:ce,onMouseOver:le,onMouseOut:he,onTouchStart:ge,onTouchMove:ve,onTouchEnd:me,className:qk()(R,M,u&&"slide",c&&"".concat(M,"-fade"),O&&"".concat(M,"-").concat(O)),children:[h&&(0,xr.jsx)("div",{className:"".concat(M,"-indicators"),children:rI(D,(function(e,t){return(0,xr.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=f&&f.length?f[t]:"Slide ".concat(t+1),className:t===Q?"active":void 0,onClick:be?be[t]:void 0,"aria-current":t===Q},t)}))}),(0,xr.jsx)("div",{className:"".concat(M,"-inner"),children:rI(D,(function(e,n){var r=n===Q;return u?(0,xr.jsx)(LI,{in:r,onEnter:r?se:void 0,onEntered:r?ue:void 0,addEndListener:bI,children:function(n,i){return t.cloneElement(e,Or(Or({},i),{},{className:qk()(e.props.className,r&&"entered"!==n&&oe,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&ae)}))}}):t.cloneElement(e,{className:qk()(e.props.className,r&&"active")})}))}),l&&(0,xr.jsxs)(xr.Fragment,{children:[(S||0!==d)&&(0,xr.jsxs)(Fk,{className:"".concat(M,"-control-prev"),onClick:ee,children:[x,N&&(0,xr.jsx)("span",{className:"visually-hidden",children:N})]}),(S||d!==J-1)&&(0,xr.jsxs)(Fk,{className:"".concat(M,"-control-next"),onClick:te,children:[A,P&&(0,xr.jsx)("span",{className:"visually-hidden",children:P})]})]})]}))}));FI.displayName="Carousel",FI.defaultProps=jI;var UI=Object.assign(FI,{Caption:Zk,Item:nI});var qI=function(){var e=UT((function(e){return e.userLogin.name})),n=UT((function(e){return e.physicalData.height})),r=L();return(0,t.useEffect)((function(){0===n&&r("/physicaldata")})),(0,xr.jsxs)(Mn,{children:[(0,xr.jsxs)(jn,{children:[(0,xr.jsxs)(Fn,{children:[(0,xr.jsx)("h2",{children:"Hi!"}),(0,xr.jsx)("p",{children:e})]}),(0,xr.jsx)(Tk,{style:{color:"#2BE7E8",fontSize:"26px"},onClick:function(){return r("/profile")}}),(0,xr.jsx)(Sk,{style:{color:"#2BE7E8",fontSize:"26px"}})]}),(0,xr.jsxs)(UI,{style:{marginTop:"2rem",marginBottom:"2rem"},children:[(0,xr.jsxs)(UI.Item,{interval:2e3,children:[(0,xr.jsx)("img",{className:"d-block w-100",src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660521046/BuffaloApp/slider2_jkwixo.jpg",alt:"Warm up"}),(0,xr.jsxs)(UI.Caption,{children:[(0,xr.jsx)("h3",{children:"Warm Up"}),(0,xr.jsx)("p",{children:"Before training be sure to warm up, give it 5-10 minutes."})]})]}),(0,xr.jsxs)(UI.Item,{interval:2e3,children:[(0,xr.jsx)("img",{className:"d-block w-100",src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660521045/BuffaloApp/slider1_wvfqh3.jpg",alt:"Gain"}),(0,xr.jsxs)(UI.Caption,{children:[(0,xr.jsx)("h3",{children:"Gain"}),(0,xr.jsx)("p",{children:"Build the body you dream with."})]})]}),(0,xr.jsxs)(UI.Item,{interval:2e3,children:[(0,xr.jsx)("img",{className:"d-block w-100",src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660521049/BuffaloApp/slider3_mpurp7.jpg",alt:"Crossfit"}),(0,xr.jsxs)(UI.Caption,{children:[(0,xr.jsx)("h3",{children:"Crossfit"}),(0,xr.jsx)("p",{children:"Keep your body healthy and fit training."})]})]})]}),(0,xr.jsxs)(Un,{children:[(0,xr.jsx)(qn,{style:{cursor:"pointer"},onClick:function(){return r("/days")},children:(0,xr.jsx)("p",{children:"All Body"})}),(0,xr.jsx)(qn,{style:{cursor:"pointer"},onClick:function(){return r("/days")},children:(0,xr.jsx)("p",{children:"Triceps"})}),(0,xr.jsx)(qn,{style:{cursor:"pointer"},onClick:function(){return r("/days")},children:(0,xr.jsx)("p",{children:"Biceps"})}),(0,xr.jsx)(qn,{style:{cursor:"pointer"},onClick:function(){return r("/days")},children:(0,xr.jsx)("p",{children:"Breast"})}),(0,xr.jsx)(qn,{style:{cursor:"pointer"},onClick:function(){return r("/days")},children:(0,xr.jsx)("p",{children:"Back"})}),(0,xr.jsx)(qn,{style:{cursor:"pointer"},onClick:function(){return r("/days")},children:(0,xr.jsx)("p",{children:"Legs"})})]}),(0,xr.jsxs)(Bn,{children:[(0,xr.jsxs)(Vn,{children:[(0,xr.jsx)("img",{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660520454/BuffaloApp/card1_mt0nka.jpg",alt:""}),(0,xr.jsxs)(zn,{children:[(0,xr.jsx)("h2",{children:"All body training"}),(0,xr.jsx)("p",{children:"Workout all your body."})]})]}),(0,xr.jsxs)(Vn,{children:[(0,xr.jsx)("img",{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660520460/BuffaloApp/card6_srjjlr.jpg",alt:""}),(0,xr.jsxs)(zn,{children:[(0,xr.jsx)("h2",{children:"Only triceps training"}),(0,xr.jsx)("p",{children:"Workout your triceps."})]})]}),(0,xr.jsxs)(Vn,{children:[(0,xr.jsx)("img",{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660520454/BuffaloApp/card3_fdzrka.jpg",alt:""}),(0,xr.jsxs)(zn,{children:[(0,xr.jsx)("h2",{children:"Only biceps training"}),(0,xr.jsx)("p",{children:"Workout your biceps."})]})]}),(0,xr.jsxs)(Vn,{children:[(0,xr.jsx)("img",{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660520458/BuffaloApp/card4_mdyvcv.jpg",alt:""}),(0,xr.jsxs)(zn,{children:[(0,xr.jsx)("h2",{children:"Only breast training"}),(0,xr.jsx)("p",{children:"Workout your breast."})]})]}),(0,xr.jsxs)(Vn,{children:[(0,xr.jsx)("img",{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660520461/BuffaloApp/card5_xaj5yt.jpg",alt:""}),(0,xr.jsxs)(zn,{children:[(0,xr.jsx)("h2",{children:"Only back training"}),(0,xr.jsx)("p",{children:"Workout your back."})]})]}),(0,xr.jsxs)(Vn,{children:[(0,xr.jsx)("img",{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660520454/BuffaloApp/card2_qko7yy.jpg",alt:""}),(0,xr.jsxs)(zn,{children:[(0,xr.jsx)("h2",{children:"Only legs training"}),(0,xr.jsx)("p",{children:"Workout your legs."})]})]})]})]})};var BI=function(){var e=L(),n=$T(),r=UT((function(e){return e.userLogin.id})),i=a((0,t.useState)({height:0,weight:0,age:0}),2),o=i[0],s=i[1],u=function(e){s(Or(Or({},o),{},Ar({},e.target.name,parseInt(e.target.value))))};return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Hn,{children:(0,xr.jsx)(Wn,{src:"https://res.cloudinary.com/felixces/image/upload/v1660252724/imagenes%20reto3/Logo_buzzxn.png"})}),(0,xr.jsxs)(Xn,{children:[(0,xr.jsx)(Gn,{children:(0,xr.jsx)($n,{children:"Enter your height:"})}),(0,xr.jsx)(Jn,{type:"number",placeholder:"Please, enter your height",name:"height",required:!0,onChange:u}),(0,xr.jsx)(Gn,{children:(0,xr.jsx)($n,{children:"Enter your weight:"})}),(0,xr.jsx)(Jn,{type:"number",placeholder:"Please, enter your weight",name:"weight",required:!0,onChange:u}),(0,xr.jsx)(Gn,{children:(0,xr.jsx)($n,{children:"Enter your age:"})}),(0,xr.jsx)(Jn,{type:"number",placeholder:"Please, enter your age",name:"age",required:!0,onChange:u}),(0,xr.jsx)(Qn,{children:(0,xr.jsx)(Yn,{onClick:function(){var t=Object.assign({},YT);t.payload={height:o.height,weight:o.weight,age:o.age},n(t),Ty.collection("userData").doc(r).update({height:o.height,weight:o.weight,age:o.age}).then((function(){CT.success("Data seted correctly."),e("/gender")})).catch((function(t){CT.warn("Error updating data: ",t),e("/login")}))},children:"Next"})})]})]})};var VI=function(){var e=L(),n=$T(),r=UT((function(e){return e.userLogin.id})),i=a((0,t.useState)(""),2),o=i[0],s=i[1];return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Hn,{children:(0,xr.jsx)(Wn,{src:"https://res.cloudinary.com/felixces/image/upload/v1660252724/imagenes%20reto3/Logo_buzzxn.png"})}),(0,xr.jsxs)(Mn,{children:[(0,xr.jsx)(Gn,{children:(0,xr.jsx)($n,{children:"Choose gender."})}),(0,xr.jsx)(Zn,{src:"https://res.cloudinary.com/felixces/image/upload/v1660320316/imagenes%20reto3/male_ymovcg.png",alt:"",onClick:function(){return s("male")}}),(0,xr.jsx)(Gn,{children:(0,xr.jsx)($n,{children:"Male."})}),(0,xr.jsx)(Zn,{src:"https://res.cloudinary.com/felixces/image/upload/v1660320308/imagenes%20reto3/female_phooxn.png",alt:"",onClick:function(){return s("female")}}),(0,xr.jsx)(Gn,{children:(0,xr.jsx)($n,{children:"Female."})}),(0,xr.jsx)(Qn,{children:(0,xr.jsx)(Yn,{onClick:function(){var t=Object.assign({},XT);t.payload={gender:o},n(t),console.log(t),Ty.collection("userData").doc(r).update({gender:o}).then((function(){CT.success("Data seted correctly."),e("/home")})).catch((function(t){CT.warn("Error updating data: ",t),e("/physicaldata")}))},children:"Next"})})]})]})},zI=function(e){var t=e.auth,n=e.children;return t?n:(0,xr.jsx)(j,{to:"/login"})},KI=function(e){var t=e.auth,n=e.children;return t?(0,xr.jsx)(j,{to:"/home"}):n};function WI(e){return ok({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}}]})(e)}var HI=function(e){return(0,xr.jsx)(Kn,{onClick:e.back,type:"button",children:(0,xr.jsx)(WI,{size:24})})};var GI=function(){var e=L(),n=a((0,t.useState)(""),2),r=n[0],i=n[1],o=$T();return(0,t.useEffect)((function(){Ty.collection("VideosData").doc("videos").get().then((function(e){i(e.data().url);var t=Object.assign({},JT);t.payload={start:new Date},o(t)}))})),(0,xr.jsxs)(Mn,{children:[(0,xr.jsx)(HI,{style:{marginBottom:"2rem"},back:function(){return e("/days")}}),(0,xr.jsx)(gr,{children:(0,xr.jsx)(pr,{title:"",src:r})}),(0,xr.jsxs)(lr,{children:[(0,xr.jsx)(hr,{children:"3 set"}),(0,xr.jsx)(hr,{children:"12 reps"})]}),(0,xr.jsxs)(er,{children:[(0,xr.jsxs)("form",{action:"",children:[(0,xr.jsxs)(fr,{style:{margin:"0.5rem auto"},children:[(0,xr.jsx)(dr,{children:"Set 1"}),(0,xr.jsx)(cr,{type:"text",placeholder:"reps"}),(0,xr.jsx)(cr,{type:"text",placeholder:"kilograms"})]}),(0,xr.jsxs)(fr,{style:{margin:"0.5rem auto"},children:[(0,xr.jsx)(dr,{children:"Set 2"}),(0,xr.jsx)(cr,{type:"text",placeholder:"reps"}),(0,xr.jsx)(cr,{type:"text",placeholder:"kilograms"})]}),(0,xr.jsxs)(fr,{style:{margin:"0.5rem auto"},children:[(0,xr.jsx)(dr,{children:"Set 3"}),(0,xr.jsx)(cr,{type:"text",placeholder:"reps"}),(0,xr.jsx)(cr,{type:"text",placeholder:"kilograms"})]})]}),(0,xr.jsx)(ur,{onClick:function(){var t=Object.assign({},ZT);t.payload={end:new Date},o(t),e("/resume")},children:"Finish exercise"})]})]})};var $I=function(){var e=L(),t=UT((function(e){return e.activityTimer}));return(0,xr.jsxs)(Mn,{children:[(0,xr.jsx)(HI,{styled:{margin:"1rem auto",justifyContent:"center"},back:function(){return e("/sets")}}),(0,xr.jsx)(gr,{children:(0,xr.jsx)(nr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660516322/imagenes%20reto3/Img_vkko0t.png"})}),(0,xr.jsxs)(er,{children:[(0,xr.jsx)(rr,{children:"Split 3 days."}),(0,xr.jsxs)(ir,{children:[(0,xr.jsx)(or,{type:"submit",children:"Day 1"}),(0,xr.jsx)(or,{type:"submit",children:"Day 2"}),(0,xr.jsx)(or,{type:"submit",children:"Day 3"})]})]}),(0,xr.jsxs)(Mn,{children:[(0,xr.jsx)(vr,{children:(0,xr.jsxs)("table",{children:[(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{children:"Total time"}),(0,xr.jsx)("td",{}),(0,xr.jsxs)("td",{children:[Math.round((t.end.getTime()-t.start.getTime())/1e3)/100," m"]})]}),(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{children:"Start time"}),(0,xr.jsx)("td",{}),(0,xr.jsxs)("td",{children:[("0"+t.start.getHours()).slice(-2),":",("0"+t.start.getMinutes()).slice(-2)," hm"]})]}),(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{children:"End time"}),(0,xr.jsx)("td",{}),(0,xr.jsxs)("td",{children:[("0"+t.end.getHours()).slice(-2),":",("0"+t.end.getMinutes()).slice(-2)," hm"]})]}),(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{children:"Calories burned"}),(0,xr.jsx)("td",{}),(0,xr.jsx)("td",{children:"2000Kc"})]}),(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{}),(0,xr.jsx)("td",{children:"Appreciate your tiredness"})]}),(0,xr.jsx)("tr",{}),(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{}),(0,xr.jsxs)("td",{children:[(0,xr.jsx)(mr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660611215/imagenes%20reto3/estrellaazul_kopots.png",alt:""}),(0,xr.jsx)(mr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660611215/imagenes%20reto3/estrellaazul_kopots.png",alt:""}),(0,xr.jsx)(mr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660611215/imagenes%20reto3/estrellaazul_kopots.png",alt:""}),(0,xr.jsx)(mr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660610467/imagenes%20reto3/estrella_rv4rsk.png",alt:""}),(0,xr.jsx)(mr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660610467/imagenes%20reto3/estrella_rv4rsk.png",alt:""})]})]})]})}),(0,xr.jsx)(yr,{onClick:function(){return e("/home")},children:" Save"})]})]})};var QI=function(){var e=L();return(0,xr.jsxs)(Mn,{children:[(0,xr.jsx)(HI,{back:function(){return e("/home")}}),(0,xr.jsx)(tr,{children:(0,xr.jsx)(nr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660516322/imagenes%20reto3/Img_vkko0t.png"})}),(0,xr.jsxs)(er,{children:[(0,xr.jsx)(rr,{children:"Split 3 days."}),(0,xr.jsxs)(ir,{children:[(0,xr.jsx)(or,{onClick:function(){return e("/sets")},type:"submit",children:"Day 1"}),(0,xr.jsx)(or,{onClick:function(){return e("/sets")},type:"submit",children:"Day 2"}),(0,xr.jsx)(or,{onClick:function(){return e("/sets")},type:"submit",children:"Day 3"})]})]}),(0,xr.jsx)(er,{children:(0,xr.jsxs)("form",{action:"",children:[(0,xr.jsx)(ar,{type:"text",placeholder:" 1. Pull ups."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 2. Reverse pull-up."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 3. Bicep curl."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 4. Lifting dumbbells in front of you."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 5. Curls for biceps on the bench."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 6. Bent over row."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 7. Horizontal block pull."}),(0,xr.jsx)(ar,{type:"text",placeholder:" 8. One arm dumbbell row."})]})}),(0,xr.jsx)(sr,{onClick:function(){return e("/sets")},children:"Finish Early"})]})};var YI=function(){var e=L(),t=UT((function(e){return{userLogin:e.userLogin,userPhyData:e.physicalData}}));return(0,xr.jsxs)(Mn,{children:[(0,xr.jsxs)(Cr,{children:[(0,xr.jsx)(Ir,{children:"Account"}),(0,xr.jsx)(kr,{src:"https://res.cloudinary.com/dtxqusdhr/image/upload/v1660799782/BuffaloApp/User-Profile-Transparent_lfytwr.png"})]}),(0,xr.jsxs)(er,{children:[(0,xr.jsxs)("form",{action:"",children:[(0,xr.jsxs)(Tr,{children:[(0,xr.jsxs)(Sr,{children:[(0,xr.jsx)(Er,{type:"text",placeholder:t.userPhyData.weight}),(0,xr.jsx)(wr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660789572/imagenes%20reto3/pesa_gw0jh1.png",alt:""})]}),(0,xr.jsxs)(Sr,{children:[(0,xr.jsx)(Er,{type:"text",placeholder:t.userPhyData.height}),(0,xr.jsx)(wr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660789565/imagenes%20reto3/estatura_jncoct.png",alt:""})]}),(0,xr.jsxs)(Sr,{children:[(0,xr.jsx)(Er,{type:"text",placeholder:t.userPhyData.age}),(0,xr.jsx)(wr,{src:"https://res.cloudinary.com/felixces/image/upload/v1660789559/imagenes%20reto3/calorias_mydxzp.png",alt:""})]})]}),(0,xr.jsx)(br,{type:"text",placeholder:t.userLogin.name}),(0,xr.jsx)(br,{type:"text",placeholder:t.userLogin.email})]}),(0,xr.jsx)(_r,{onClick:function(){return e("/home")},children:" Home "})]})]})};var XI=function(){var e=UT((function(e){return e.userLogin.isLogged}));return(0,xr.jsx)(V,{children:(0,xr.jsxs)(q,{children:[(0,xr.jsx)(F,{path:"/",element:(0,xr.jsxs)(KI,{auth:e,children:[" ",(0,xr.jsx)(Nr,{})," "]})}),(0,xr.jsx)(F,{path:"/welcome1",element:(0,xr.jsxs)(KI,{auth:e,children:[" ",(0,xr.jsx)(ck,{})," "]})}),(0,xr.jsx)(F,{path:"/welcome2",element:(0,xr.jsxs)(KI,{auth:e,children:[" ",(0,xr.jsx)(lk,{})," "]})}),(0,xr.jsx)(F,{path:"/welcome3",element:(0,xr.jsxs)(KI,{auth:e,children:[" ",(0,xr.jsx)(hk,{})," "]})}),(0,xr.jsx)(F,{path:"/login",element:(0,xr.jsxs)(KI,{auth:e,children:[" ",(0,xr.jsx)(uk,{})," "]})}),(0,xr.jsx)(F,{path:"/createaccount",element:(0,xr.jsxs)(KI,{auth:e,children:[" ",(0,xr.jsx)(Ek,{})," "]})}),(0,xr.jsx)(F,{path:"/home",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)(qI,{})," "]})}),(0,xr.jsx)(F,{path:"/physicaldata",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)(BI,{})," "]})}),(0,xr.jsx)(F,{path:"/gender",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)(VI,{})," "]})}),(0,xr.jsx)(F,{path:"/days",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)(QI,{})," "]})}),(0,xr.jsx)(F,{path:"/resume",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)($I,{})," "]})}),(0,xr.jsx)(F,{path:"/sets",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)(GI,{})," "]})}),(0,xr.jsx)(F,{path:"/profile",element:(0,xr.jsxs)(zI,{auth:e,children:[" ",(0,xr.jsx)(YI,{})," "]})}),(0,xr.jsx)(F,{path:"*",element:(0,xr.jsx)(j,{to:"/"})})]})})};function JI(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ZI="function"===typeof Symbol&&Symbol.observable||"@@observable",eC=function(){return Math.random().toString(36).substring(7).split("").join(".")},tC={INIT:"@@redux/INIT"+eC(),REPLACE:"@@redux/REPLACE"+eC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+eC()}};function nC(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rC(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(JI(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(JI(1));return n(rC)(e,t)}if("function"!==typeof e)throw new Error(JI(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(JI(3));return o}function h(e){if("function"!==typeof e)throw new Error(JI(4));if(u)throw new Error(JI(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(JI(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!nC(e))throw new Error(JI(7));if("undefined"===typeof e.type)throw new Error(JI(8));if(u)throw new Error(JI(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(JI(10));i=e,f({type:tC.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(JI(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ZI]=function(){return this},e}return f({type:tC.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:d})[ZI]=p,r}function iC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var oC={email:"",name:"",phone:"",coins:0,isLogged:!1,id:""},aC={height:0,weight:0,age:0,gender:""},sC={start:0,end:0},uC=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||iC,cC=rC(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:tC.INIT}))throw new Error(JI(12));if("undefined"===typeof n(void 0,{type:tC.PROBE_UNKNOWN_ACTION()}))throw new Error(JI(13))}))}(n)}catch(_y){o=_y}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],h=c(l,t);if("undefined"===typeof h){t&&t.type;throw new Error(JI(14))}i[u]=h,r=r||h!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@user/login":return t.payload;case"@user/logout":return oC;default:return e}},physicalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@user/setphysicaldata":return Or(Or({},t.payload),{},{gender:""});case"@user/setgender":return Or(Or({},e),{},{gender:t.payload.gender});default:return e}},activityTimer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@activity/start":return Or(Or({},e),{},{start:t.payload.start});case"@activity/end":return Or(Or({},e),{},{end:t.payload.end});default:return e}}}),uC(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(JI(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=iC.apply(void 0,o)(n.dispatch),Or(Or({},n),{},{dispatch:r})}}}())),lC=cC;var hC=function(e){return(0,xr.jsxs)(zT,{store:lC,children:[(0,xr.jsx)(XI,{}),(0,xr.jsx)(yT,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,transition:mT})]})};r.createRoot(document.getElementById("root")).render((0,xr.jsx)(hC,{}))}()}();